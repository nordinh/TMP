!function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.modules=t,e.cache=r,e.p="build/",e(0)}([function(t,e,r){"use strict";window.global=window,r(33),r(32);var n=r(4);window.deck=new n(document.getElementById("slides"),{editor:r(7),background:r(6),image:r(9)})},function(t){t.exports=function(t){var e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t));var r=document.getElementsByTagName("head")[0];return r.appendChild(e),function(){r.removeChild(e)}}},function(t){"use strict";function e(){if(l)return l;var t=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,e=document.body;for(var r in e.style)try{throw void 0}catch(n){if(n=r,t.test(n))return l=n.match(t)[$traceurRuntime.toProperty(0)]}return l=$traceurRuntime.toProperty("WebkitOpacity")in e.style?"Webkit":$traceurRuntime.toProperty("KhtmlOpacity")in e.style?"Khtml":""}function r(t){if(s.hasOwnProperty(t))return s[$traceurRuntime.toProperty(t)];var r=e().toLowerCase(),n=r?r+t:t.toLowerCase();return $traceurRuntime.setProperty(s,t,n),n}function n(t,e,r,n){return r=n?r.bind(n):r,t.addEventListener(e,r),r}function i(t,e,r,n){r=n?r.bind(n):r;var i=function o(n){t.removeEventListener(e,o),r(n)};return t.addEventListener(e,i),i}function o(t,e,r,n){r=n?r.bind(n):r;var i=function o(n){r(n)&&t.removeEventListener(e,o)};return t.addEventListener(e,i),i}function a(t,e,r){t.removeEventListener(e,r)}var l=null,s={};t.exports={on:n,once:i,until:o,off:a,vendorPrefix:r}},function(t,e,r){var n=r(41);e=t.exports=new n.EventEmitter,e.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var r=[];return window.addEventListener("message",function(t){if(t.source===window&&"browserify-tick"===t.data&&(t.stopPropagation(),r.length>0)){var e=r.shift();e()}},!0),function(t){r.push(t),window.postMessage("browserify-tick","*")}}return function(t){setTimeout(t,0)}}(),e.platform=e.arch=e.execPath=e.title="browser",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){if("evals"===t)return r(43);throw new Error("No such module. (Possibly not yet loaded)")},function(){var t,n="/";e.cwd=function(){return n},e.chdir=function(e){t||(t=r(42)),n=t.resolve(e,n)}}(),e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},function(t,e,r){"use strict";function n(t){var e=[],r=t.length;try{throw void 0}catch(n){for(n=0;r>n;n++)try{throw void 0}catch(i){i=n;try{e.push(t[$traceurRuntime.toProperty(i)])}finally{n=i}}}return e}function i(t,e){function r(t){return l.indexOf(t)}var i=this,l=n(t.querySelectorAll("section"));this.currentSlide=null,l.forEach(function(t){var e=n(t.childNodes),r=document.createElement("div");r.classList.add("slideContainer"),e.forEach(function(e){t.removeChild(e),r.appendChild(e)}),t.appendChild(r)}),this.deactivateSlide=function(t){t.classList.contains("current")&&(t.classList.add("out"),t.classList.remove("current")),i.currentSlide=null},this.activateSlide=function(t){t.classList.contains("out")&&(i.cleanupModules(t),t.classList.remove("out")),null!==i.currentSlide&&i.deactivateSlide(l[$traceurRuntime.toProperty(i.currentSlide)]),i.currentSlide=r(t),i.activateModules(t),t.classList.add("current"),t.classList.add("in"),window.location.hash=""+i.currentSlide},this.nextSlide=function(){var t=null!==i.currentSlide?i.currentSlide+1:0;t>=l.length&&(t=l.length-1),t!==i.currentSlide&&i.activateSlide(l[$traceurRuntime.toProperty(t)])},this.previousSlide=function(){var t=null!==i.currentSlide?i.currentSlide-1:0;0>t&&(t=0),t!==i.currentSlide&&i.activateSlide(l[$traceurRuntime.toProperty(t)])},this.initModules=function(r){var n,i=r.dataset,o=t.dataset,a=[];for(n in e)if(e.hasOwnProperty(n))try{throw void 0}catch(l){l=i.hasOwnProperty(n)?i[$traceurRuntime.toProperty(n)]:o.hasOwnProperty(n)?o[$traceurRuntime.toProperty(n)]:null,l&&a.push(new(e[$traceurRuntime.toProperty(n)])(r,l))}r._deck_modules=a},this.activateModules=function(t){t._deck_modules.forEach(function(t){return t.activate&&t.activate()})},this.stabiliseModules=function(t){t._deck_modules.forEach(function(t){return t.stabilise&&t.stabilise()})},this.cleanupModules=function(t){t._deck_modules.forEach(function(t){return t.cleanup&&t.cleanup()})},this.transitionEnd=function(t){var e=t.target;e.classList.contains("out")?(e.classList.remove("out"),i.cleanupModules(e)):e.classList.contains("in")&&(e.classList.remove("in"),i.stabiliseModules(e))},l.forEach(function(t){return i.initModules(t)}.bind(this)),o.on(t,o.vendorPrefix("TransitionEnd"),this.transitionEnd,this),this.bind=function(t,e){a.bind(t,e.bind(i))},this.bind(["pageup","left"],this.previousSlide),this.bind(["pagedown","space","right"],this.nextSlide),setTimeout(function(){var t=/^#(\d+)$/.exec(window.location.hash);t?i.activateSlide(l[$traceurRuntime.toProperty(parseInt(t[$traceurRuntime.toProperty(1)],10))]):i.nextSlide()},1)}var o=r(2),a=r(47);t.exports=i},function(t){"use strict";function e(t){return t.split("\n").reduce(function(t,e){if(0===e.trim().length)return t;var r=e.length-e.trimLeft().length;return null===t?r:Math.min(t,r)},null)}function r(t){var r=e(t);return t.split("\n").map(function(t){return t.slice(r).trimRight()}).join("\n")}function n(t){for(t=r(t);"\n"===t[$traceurRuntime.toProperty(0)];)t=t.slice(1);for(;"\n"===t[$traceurRuntime.toProperty(t.length-1)];)t=t.slice(0,t.length-1);return t+"\n"}t.exports={cleanText:n}},function(t,e,r){"use strict";function n(t,e){var r=this,n=document.createElement("img");n.src=e,this.activate=function(){r.background&&r.background.parentNode.removeChild(r.background),r.background=document.createElement("div"),r.background.classList.add("background"),r.background.style.backgroundImage="url("+e+")",t.parentNode.appendChild(r.background),setTimeout(function(){r.background.classList.add("active")}.bind(r),1)},this.cleanup=function(){i.once(r.background,i.vendorPrefix("TransitionEnd"),function(){r.background.parentNode.removeChild(r.background),r.background=null},r),r.background.classList.remove("active")}}var i=r(2);t.exports=n},function(t,e,r){"use strict";function n(t,e){var r=this,n=t.dataset,u=t.querySelector(".slideContainer"),c=u.innerHTML,f={};$traceurRuntime.setProperty(f,"Ctrl-Space",function(){console.log(arguments),this.send({key:"Ctrl-Space"})}.bind(this)),$traceurRuntime.setProperty(f,"Ctrl-K",l.kill),$traceurRuntime.setProperty(f,"Ctrl-Y",l.yank),f.Tab=function(t){return t.indentLine(t.getDoc().getCursor().line)},$traceurRuntime.setProperty(f,"Ctrl-\\",function(t){return i.showHint(t)}),f.Esc=function(){var t=document.createElement("input");t.setAttribute("type","text"),document.body.appendChild(t),t.focus(),t.parentNode.removeChild(t)};var d={value:a.cleanText(c),mode:e,extraKeys:f,lineWrapping:!0,matchBrackets:!0,autoCloseBrackets:!0,styleActiveLine:!0,theme:"xq-light"};this.send=function(t){r.targetFrame.contentWindow.postMessage(JSON.stringify(t),"*")},this.activate=function(){t.classList.add("editor"),u.innerHTML="",r.editorFrame=document.createElement("div"),r.editorFrame.classList.add("editorFrame"),u.appendChild(r.editorFrame),r.targetContainer=document.createElement("div"),r.targetContainer.classList.add("targetFrame"),r.targetFrame=document.createElement("iframe"),r.loaderFrame=document.createElement("div"),r.loaderFrame.classList.add("loaderFrame"),r.targetContainer.appendChild(r.loaderFrame),u.appendChild(r.targetContainer);var e=Math.min(r.loaderFrame.clientWidth,r.loaderFrame.clientHeight)/13.25;r.spinner=new s({color:"white",shadow:!0,hwaccel:!0,length:2*e,radius:2*e,width:e,trail:40,lines:12}).spin(r.loaderFrame),r.cm=i(r.editorFrame,d),r.cm.setSize("100%","100%")},this.stabilise=function(){r.targetFrame.style.display="none",r.targetFrame.setAttribute("src",n.href),r.targetContainer.appendChild(r.targetFrame),o.until(r.targetFrame.contentWindow,"message",function(t){return"rdy lol"===t.data?(this.spinner.stop(),this.targetFrame.style.display="",this.targetContainer.removeChild(this.loaderFrame),this.loaderFrame=this.spinner=null,!0):void 0},r),r.cm.refresh()},this.cleanup=function(){r.cm=null,u.innerHTML=c,u.classList.remove("editor")}}r(18),r(30),r(11),r(10),r(14),r(28),r(13),r(12),r(16),r(15),r(29),r(17),r(19),r(31);var i=window.CodeMirror,o=r(2),a=r(5),l=r(8),s=r(27);t.exports=n},function(t){"use strict";function e(t){f.push(t),f.length>50&&f.shift()}function r(t){var r;return f.length?(r=f.length-1,void $traceurRuntime.setProperty(f,r,f[$traceurRuntime.toProperty(r)]+t)):e(t)}function n(t){return f[$traceurRuntime.toProperty(f.length-(t?Math.min(t,1):1))]||""}function i(t,e){return t.line==e.line&&t.ch==e.ch}function o(t,n,o,a,l){null==l&&(l=t.getRange(n,o)),a&&d&&d.cm==t&&i(n,d.pos)&&t.isClean(d.gen)?r(l):e(l),t.replaceRange("",n,o,"+delete"),d=a?{cm:t,pos:n,gen:t.changeGeneration()}:null}function a(t,e){var r=t.state.emacsPrefix;return r?(s(t),"-"==r?-1:Number(r)):e?null:1}function l(t,e){t.state.emacsPrefixMap||h.hasOwnProperty(e)||s(t)}function s(t){t.state.emacsPrefix=null,t.off("keyHandled",l),t.off("inputRead",u)}function u(t,e){var r=a(t);if(r>1&&"+input"==e.origin){for(var n=e.text.join("\n"),i="",o=1;r>o;++o)i+=n;t.replaceSelection(i,"end","+input")}}function c(t){var e="string"==("undefined"==typeof t?"undefined":$traceurRuntime.typeof(t))?function(e){e.execCommand(t)}:t;return function(t){var r=a(t);e(t);for(var n=1;r>n;++n)e(t)}}var f=[],d=null,h={"Alt-G":!0,"Ctrl-X":!0,"Ctrl-Q":!0,"Ctrl-U":!0},p=c(function(t){var e=t.getCursor(),r=t.clipPos(CodeMirror.Pos(e.line)),n=t.getRange(e,r);/\S/.test(n)||(n+="\n",r=CodeMirror.Pos(e.line+1,0)),o(t,e,r,!0,n)}),m=function(t){var e=t.getCursor();t.replaceRange(n(a(t)),e,e,"paste"),t.setSelection(e,t.getCursor())};t.exports={kill:p,yank:m}},function(t){"use strict";function e(t,e){t.style.backgroundImage="url("+e+")"}t.exports=e},function(){!function(){function t(t,e){var r=t.getRange(CodeMirror.Pos(e.line,e.ch-1),CodeMirror.Pos(e.line,e.ch+1));return 2==r.length?r:null}function e(e){for(var r={name:"autoCloseBrackets",Backspace:function(r){if(r.somethingSelected()||r.getOption("disableInput"))return CodeMirror.Pass;var n=r.getCursor(),i=t(r,n);return i&&e.indexOf(i)%2==0?void r.replaceRange("",CodeMirror.Pos(n.line,n.ch-1),CodeMirror.Pos(n.line,n.ch+1)):CodeMirror.Pass}},n="",i=0;i<e.length;i+=2)(function(t,e){function i(r){var n=r.getSelection();r.replaceSelection(t+n+e)}function a(t){var r=t.getCursor(),n=t.getRange(r,CodeMirror.Pos(r.line,r.ch+1));return n!=e||t.somethingSelected()?CodeMirror.Pass:void t.execCommand("goCharRight")}t!=e&&(n+=e),r["'"+t+"'"]=function(r){if("'"==t&&"comment"==r.getTokenAt(r.getCursor()).type||r.getOption("disableInput"))return CodeMirror.Pass;if(r.somethingSelected())return i(r);if(t!=e||a(r)==CodeMirror.Pass){var l=r.getCursor(),s=CodeMirror.Pos(l.line,l.ch+1),u=r.getLine(l.line),c=u.charAt(l.ch),f=l.ch>0?u.charAt(l.ch-1):"";return t==e&&CodeMirror.isWordChar(f)?CodeMirror.Pass:u.length==l.ch||n.indexOf(c)>=0||o.test(c)?void r.replaceSelection(t+e,{head:s,anchor:s}):CodeMirror.Pass}},t!=e&&(r["'"+e+"'"]=a)})(e.charAt(i),e.charAt(i+1));return r}function r(e){return function(r){var n=r.getCursor(),i=t(r,n);return!i||e.indexOf(i)%2!=0||r.getOption("disableInput")?CodeMirror.Pass:void r.operation(function(){var t=CodeMirror.Pos(n.line+1,0);r.replaceSelection("\n\n",{anchor:t,head:t},"+input"),r.indentLine(n.line+1,null,!0),r.indentLine(n.line+2,null,!0)})}}var n="()[]{}''\"\"",i="[]{}",o=/\s/;CodeMirror.defineOption("autoCloseBrackets",!1,function(t,o,a){if(a!=CodeMirror.Init&&a&&t.removeKeyMap("autoCloseBrackets"),o){var l=n,s=i;"string"==typeof o?l=o:"object"==typeof o&&(null!=o.pairs&&(l=o.pairs),null!=o.explode&&(s=o.explode));var u=e(l);s&&(u.Enter=r(s)),t.addKeyMap(u)}})}()},function(){!function(){function t(t,e,r){function n(e,r,n){if(e.text){var a=h?0:e.text.length-1,s=h?e.text.length:-1;if(e.text.length>l)return null;for(null!=n&&(a=n+p);a!=s;a+=p){var u=e.text.charAt(a);if(y.test(u)&&t.getTokenTypeAt(i(r,a+1))==g){var c=o[u];if(">"==c.charAt(1)==h)v.push(u);else{if(v.pop()!=c.charAt(0))return{pos:a,match:!1};if(!v.length)return{pos:a,match:!0}}}}}}var a=t.state.matchBrackets,l=a&&a.maxScanLineLength||1e4,s=a&&a.maxScanLines||100,u=e||t.getCursor(),c=t.getLineHandle(u.line),f=u.ch-1,d=f>=0&&o[c.text.charAt(f)]||o[c.text.charAt(++f)];if(!d)return null;var h=">"==d.charAt(1),p=h?1:-1;if(r&&h!=(f==u.ch))return null;for(var m,g=t.getTokenTypeAt(i(u.line,f+1)),v=[c.text.charAt(f)],y=/[(){}[\]]/,b=u.line,x=h?Math.min(b+s,t.lineCount()):Math.max(-1,b-s);b!=x&&!(m=b==u.line?n(c,b,f):n(t.getLineHandle(b),b));b+=p);return{from:i(u.line,f),to:m&&i(b,m.pos),match:m&&m.match,forward:h}}function e(e,r){var o=e.state.matchBrackets.maxHighlightLineLength||1e3,a=t(e);if(!(!a||e.getLine(a.from.line).length>o||a.to&&e.getLine(a.to.line).length>o)){var l=a.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",s=e.markText(a.from,i(a.from.line,a.from.ch+1),{className:l}),u=a.to&&e.markText(a.to,i(a.to.line,a.to.ch+1),{className:l});n&&e.state.focused&&e.display.input.focus();var c=function(){e.operation(function(){s.clear(),u&&u.clear()})};return r?void setTimeout(c,800):c}}function r(t){t.operation(function(){a&&(a(),a=null),t.somethingSelected()||(a=e(t,!1))})}var n=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),i=CodeMirror.Pos,o={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},a=null;CodeMirror.defineOption("matchBrackets",!1,function(t,e,n){n&&n!=CodeMirror.Init&&t.off("cursorActivity",r),e&&(t.state.matchBrackets="object"==typeof e?e:{},t.on("cursorActivity",r))}),CodeMirror.defineExtension("matchBrackets",function(){e(this,!0)}),CodeMirror.defineExtension("findMatchingBracket",function(e,r){return t(this,e,r)})}()},function(){!function(){"use strict";var t=/[\w$]+/,e=500;CodeMirror.registerHelper("hint","anyword",function(r,n){for(var i=n&&n.word||t,o=n&&n.range||e,a=r.getCursor(),l=r.getLine(a.line),s=a.ch,u=s;u<l.length&&i.test(l.charAt(u));)++u;for(;s&&i.test(l.charAt(s-1));)--s;for(var c=s!=u&&l.slice(s,u),f=[],d={},h=new RegExp(i.source,"g"),p=-1;1>=p;p+=2)for(var m=a.line,g=Math.min(Math.max(m+p*o,r.firstLine()),r.lastLine())+p;m!=g;m+=p)for(var v,y=r.getLine(m);v=h.exec(y);)(m!=a.line||v[0]!==c)&&(c&&0!=v[0].lastIndexOf(c,0)||Object.prototype.hasOwnProperty.call(d,v[0])||(d[v[0]]=!0,f.push(v[0])));return{list:f,from:CodeMirror.Pos(a.line,s),to:CodeMirror.Pos(a.line,u)}})}()},function(){!function(){function t(t,e){for(var r=0,n=t.length;n>r;++r)e(t[r])}function e(t,e){if(!Array.prototype.indexOf){for(var r=t.length;r--;)if(t[r]===e)return!0;return!1}return-1!=t.indexOf(e)}function r(t,e,r,n){var i=t.getCursor(),o=r(t,i),s=o;if(!/\b(?:string|comment)\b/.test(o.type)){for(o.state=CodeMirror.innerMode(t.getMode(),o.state).state,/^[\w$_]*$/.test(o.string)||(o=s={start:i.ch,end:i.ch,string:"",state:o.state,type:"."==o.string?"property":null});"property"==s.type;){if(s=r(t,l(i.line,s.start)),"."!=s.string)return;if(s=r(t,l(i.line,s.start)),!u)var u=[];u.push(s)}return{list:a(o,u,e,n),from:l(i.line,o.start),to:l(i.line,o.end)}}}function n(t,e){return r(t,f,function(t,e){return t.getTokenAt(e)},e)}function i(t,e){var r=t.getTokenAt(e);return e.ch==r.start+1&&"."==r.string.charAt(0)?(r.end=r.start,r.string=".",r.type="property"):/^\.[\w$_]*$/.test(r.string)&&(r.type="property",r.start++,r.string=r.string.replace(/\./,"")),r}function o(t,e){return r(t,d,i,e)}function a(r,n,i,o){function a(t){0!=t.lastIndexOf(d,0)||e(f,t)||f.push(t)}function l(e){"string"==typeof e?t(s,a):e instanceof Array?t(u,a):e instanceof Function&&t(c,a);for(var r in e)a(r)}var f=[],d=r.string;if(n&&n.length){var h,p=n.pop();for(p.type&&0===p.type.indexOf("variable")?(o&&o.additionalContext&&(h=o.additionalContext[p.string]),h=h||window[p.string]):"string"==p.type?h="":"atom"==p.type?h=1:"function"==p.type&&(null==window.jQuery||"$"!=p.string&&"jQuery"!=p.string||"function"!=typeof window.jQuery?null!=window._&&"_"==p.string&&"function"==typeof window._&&(h=window._()):h=window.jQuery());null!=h&&n.length;)h=h[n.pop().string];null!=h&&l(h)}else{for(var m=r.state.localVars;m;m=m.next)a(m.name);for(var m=r.state.globalVars;m;m=m.next)a(m.name);l(window),t(i,a)}return f}var l=CodeMirror.Pos;CodeMirror.javascriptHint=n,CodeMirror.registerHelper("hint","javascript",n),CodeMirror.coffeescriptHint=o,CodeMirror.registerHelper("hint","coffeescript",o);var s="charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search".split(" "),u="length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight ".split(" "),c="prototype apply call bind".split(" "),f="break case catch continue debugger default delete do else false finally for function if in instanceof new null return switch throw true try typeof var void while with".split(" "),d="and break catch class continue delete do else extends false finally for if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes".split(" ")}()},function(){!function(){"use strict";function t(t,e,r){this.cm=t,this.getHints=e,this.options=r,this.widget=this.onClose=null}function e(t){return"string"==typeof t?t:t.text}function r(t,e){function r(t,r){var o;o="string"!=typeof r?function(t){return r(t,e)}:n.hasOwnProperty(r)?n[r]:r,i[t]=o}var n={Up:function(){e.moveFocus(-1)},Down:function(){e.moveFocus(1)},PageUp:function(){e.moveFocus(-e.menuSize()+1,!0)},PageDown:function(){e.moveFocus(e.menuSize()-1,!0)},Home:function(){e.setFocus(0)},End:function(){e.setFocus(e.length-1)},Enter:e.pick,Tab:e.pick,Esc:e.close},i=t.customKeys?{}:n;if(t.customKeys)for(var o in t.customKeys)t.customKeys.hasOwnProperty(o)&&r(o,t.customKeys[o]);if(t.extraKeys)for(var o in t.extraKeys)t.extraKeys.hasOwnProperty(o)&&r(o,t.extraKeys[o]);return i}function n(t,e){for(;e&&e!=t;){if("LI"===e.nodeName.toUpperCase()&&e.parentNode==t)return e;e=e.parentNode}}function i(t,i){this.completion=t,this.data=i;var l=this,s=t.cm,u=t.options,c=this.hints=document.createElement("ul");c.className="CodeMirror-hints",this.selectedHint=u.getDefaultSelection?u.getDefaultSelection(s,u,i):0;for(var f=i.list,d=0;d<f.length;++d){var h=c.appendChild(document.createElement("li")),p=f[d],m=o+(d!=this.selectedHint?"":" "+a);null!=p.className&&(m=p.className+" "+m),h.className=m,p.render?p.render(h,i,p):h.appendChild(document.createTextNode(p.displayText||e(p))),h.hintId=d}var g=s.cursorCoords(u.alignWithWord!==!1?i.from:null),v=g.left,y=g.bottom,b=!0;c.style.left=v+"px",c.style.top=y+"px";var x=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),w=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(u.container||document.body).appendChild(c);var C=c.getBoundingClientRect(),k=C.bottom-w;if(k>0){var A=C.bottom-C.top,M=C.top-(g.bottom-g.top);if(M-A>0)c.style.top=(y=M-A)+"px",b=!1;else if(A>w){c.style.height=w-5+"px",c.style.top=(y=g.bottom-C.top)+"px";var S=s.getCursor();i.from.ch!=S.ch&&(g=s.cursorCoords(S),c.style.left=(v=g.left)+"px",C=c.getBoundingClientRect())}}var L=C.left-x;if(L>0&&(C.right-C.left>x&&(c.style.width=x-5+"px",L-=C.right-C.left-x),c.style.left=(v=g.left-L)+"px"),s.addKeyMap(this.keyMap=r(u,{moveFocus:function(t,e){l.changeActive(l.selectedHint+t,e)},setFocus:function(t){l.changeActive(t)},menuSize:function(){return l.screenAmount()},length:f.length,close:function(){t.close()},pick:function(){l.pick()},data:i})),u.closeOnUnfocus!==!1){var T;s.on("blur",this.onBlur=function(){T=setTimeout(function(){t.close()},100)}),s.on("focus",this.onFocus=function(){clearTimeout(T)})}var E=s.getScrollInfo();return s.on("scroll",this.onScroll=function(){var e=s.getScrollInfo(),r=s.getWrapperElement().getBoundingClientRect(),n=y+E.top-e.top,i=n-(window.pageYOffset||(document.documentElement||document.body).scrollTop);return b||(i+=c.offsetHeight),i<=r.top||i>=r.bottom?t.close():(c.style.top=n+"px",void(c.style.left=v+E.left-e.left+"px"))}),CodeMirror.on(c,"dblclick",function(t){var e=n(c,t.target||t.srcElement);e&&null!=e.hintId&&(l.changeActive(e.hintId),l.pick())}),CodeMirror.on(c,"click",function(t){var e=n(c,t.target||t.srcElement);e&&null!=e.hintId&&(l.changeActive(e.hintId),u.completeOnSingleClick&&l.pick())}),CodeMirror.on(c,"mousedown",function(){setTimeout(function(){s.focus()},20)}),CodeMirror.signal(i,"select",f[0],c.firstChild),!0}var o="CodeMirror-hint",a="CodeMirror-hint-active";CodeMirror.showHint=function(e,r,n){if(!e.somethingSelected()){if(null==r){if(n&&n.async)return;r=CodeMirror.hint.auto}e.state.completionActive&&e.state.completionActive.close();var i=e.state.completionActive=new t(e,r,n||{});return CodeMirror.signal(e,"startCompletion",e),i.options.async?void r(e,function(t){i.showHints(t)},i.options):i.showHints(r(e,i.options))}},t.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.widget&&this.widget.close(),this.onClose&&this.onClose(),CodeMirror.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,r){var n=t.list[r];n.hint?n.hint(this.cm,t,n):this.cm.replaceRange(e(n),n.from||t.from,n.to||t.to),CodeMirror.signal(t,"pick",n),this.close()},showHints:function(t){return t&&t.list.length&&this.active()?void(0!=this.options.completeSingle&&1==t.list.length?this.pick(t,0):this.showWidget(t)):this.close()},showWidget:function(t){function e(){l||(l=!0,u.close(),u.cm.off("cursorActivity",a),t&&CodeMirror.signal(t,"close"))}function r(){l||(CodeMirror.signal(t,"update"),u.options.async?u.getHints(u.cm,n,u.options):n(u.getHints(u.cm,u.options)))}function n(r){return t=r,l?void 0:t&&t.list.length?void(u.widget=new i(u,t)):e()}function o(){s&&(p(s),s=0)}function a(){o();var t=u.cm.getCursor(),e=u.cm.getLine(t.line);t.line!=f.line||e.length-t.ch!=d-f.ch||t.ch<f.ch||u.cm.somethingSelected()||t.ch&&c.test(e.charAt(t.ch-1))?u.close():(s=h(r),u.widget&&u.widget.close())}this.widget=new i(this,t),CodeMirror.signal(t,"shown");var l,s=0,u=this,c=this.options.closeCharacters||/[\s()\[\]{};:>,]/,f=this.cm.getCursor(),d=this.cm.getLine(f.line).length,h=window.requestAnimationFrame||function(t){return setTimeout(t,1e3/60)},p=window.cancelAnimationFrame||clearTimeout;this.cm.on("cursorActivity",a),this.onClose=e}},i.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var t=this.completion.cm;this.completion.options.closeOnUnfocus!==!1&&(t.off("blur",this.onBlur),t.off("focus",this.onFocus)),t.off("scroll",this.onScroll)}},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,e){if(t>=this.data.list.length?t=e?this.data.list.length-1:0:0>t&&(t=e?0:this.data.list.length-1),this.selectedHint!=t){var r=this.hints.childNodes[this.selectedHint];r.className=r.className.replace(" "+a,""),r=this.hints.childNodes[this.selectedHint=t],r.className+=" "+a,r.offsetTop<this.hints.scrollTop?this.hints.scrollTop=r.offsetTop-3:r.offsetTop+r.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=r.offsetTop+r.offsetHeight-this.hints.clientHeight+3),CodeMirror.signal(this.data,"select",this.data.list[this.selectedHint],r)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},CodeMirror.registerHelper("hint","auto",function(t,e){var r,n=t.getHelpers(t.getCursor(),"hint");if(n.length)for(var i=0;i<n.length;i++){var o=n[i](t,e);if(o&&o.list.length)return o}else if(r=t.getHelper(t.getCursor(),"hintWords")){if(r)return CodeMirror.hint.fromList(t,{words:r})}else if(CodeMirror.hint.anyword)return CodeMirror.hint.anyword(t,e)}),CodeMirror.registerHelper("hint","fromList",function(t,e){for(var r=t.getCursor(),n=t.getTokenAt(r),i=[],o=0;o<e.words.length;o++){var a=e.words[o];a.slice(0,n.string.length)==n.string&&i.push(a)}return i.length?{list:i,from:CodeMirror.Pos(r.line,n.start),to:CodeMirror.Pos(r.line,n.end)}:void 0}),CodeMirror.commands.autocomplete=CodeMirror.showHint}()},function(){!function(){"use strict";function t(t,e){function r(t){return n.parentNode?(n.style.top=Math.max(0,t.clientY-n.offsetHeight-5)+"px",void(n.style.left=t.clientX+5+"px")):CodeMirror.off(document,"mousemove",r)}var n=document.createElement("div");return n.className="CodeMirror-lint-tooltip",n.appendChild(e.cloneNode(!0)),document.body.appendChild(n),CodeMirror.on(document,"mousemove",r),r(t),null!=n.style.opacity&&(n.style.opacity=1),n}function e(t){t.parentNode&&t.parentNode.removeChild(t)}function r(t){t.parentNode&&(null==t.style.opacity&&e(t),t.style.opacity=0,setTimeout(function(){e(t)},600))}function n(e,n,i){function o(){CodeMirror.off(i,"mouseout",o),a&&(r(a),a=null)}var a=t(e,n),l=setInterval(function(){if(a)for(var t=i;;t=t.parentNode){if(t==document.body)return;if(!t){o();break}}return a?void 0:clearInterval(l)},400);CodeMirror.on(i,"mouseout",o)}function i(t,e,r){this.marked=[],this.options=e,this.timeout=null,this.hasGutter=r,this.onMouseOver=function(e){m(t,e)}}function o(t,e){if(e instanceof Function)return{getAnnotations:e};if(e&&e!==!0||(e={}),e.getAnnotations||(e.getAnnotations=t.getHelper(CodeMirror.Pos(0,0),"lint")),!e.getAnnotations)throw new Error("Required option 'getAnnotations' missing (lint addon)");return e}function a(t){var e=t.state.lint;e.hasGutter&&t.clearGutter(v);for(var r=0;r<e.marked.length;++r)e.marked[r].clear();e.marked.length=0}function l(t,e,r,i){var o=document.createElement("div"),a=o;return o.className="CodeMirror-lint-marker-"+e,r&&(a=o.appendChild(document.createElement("div")),a.className="CodeMirror-lint-marker-multiple"),0!=i&&CodeMirror.on(a,"mouseover",function(e){n(e,t,a)}),o}function s(t,e){return"error"==t?t:e}function u(t){for(var e=[],r=0;r<t.length;++r){var n=t[r],i=n.from.line;(e[i]||(e[i]=[])).push(n)}return e}function c(t){var e=t.severity;y.test(e)||(e="error");var r=document.createElement("div");return r.className="CodeMirror-lint-message-"+e,r.appendChild(document.createTextNode(t.message)),r}function f(t){var e=t.state.lint,r=e.options;r.async?r.getAnnotations(t,d,r):d(t,r.getAnnotations(t.getValue(),r.options))}function d(t,e){a(t);for(var r=t.state.lint,n=r.options,i=u(e),o=0;o<i.length;++o){var f=i[o];if(f){for(var d=null,h=r.hasGutter&&document.createDocumentFragment(),p=0;p<f.length;++p){var m=f[p],g=m.severity;y.test(g)||(g="error"),d=s(d,g),n.formatAnnotation&&(m=n.formatAnnotation(m)),r.hasGutter&&h.appendChild(c(m)),m.to&&r.marked.push(t.markText(m.from,m.to,{className:"CodeMirror-lint-mark-"+g,__annotation:m}))}r.hasGutter&&t.setGutterMarker(o,v,l(h,d,f.length>1,r.options.tooltips))}}n.onUpdateLinting&&n.onUpdateLinting(e,i,t)}function h(t){var e=t.state.lint;clearTimeout(e.timeout),e.timeout=setTimeout(function(){f(t)},e.options.delay||500)}function p(t,e){var r=e.target||e.srcElement;n(e,c(t),r)}function m(t,e){if(/\bCodeMirror-lint-mark-/.test((e.target||e.srcElement).className))for(var r=0;r<b.length;r+=2)for(var n=t.findMarksAt(t.coordsChar({left:e.clientX+b[r],top:e.clientY+b[r+1]})),i=0;i<n.length;++i){var o=n[i],a=o.__annotation;if(a)return p(a,e)}}function g(t,e,r){if(r&&r!=CodeMirror.Init&&(a(t),t.off("change",h),CodeMirror.off(t.getWrapperElement(),"mouseover",t.state.lint.onMouseOver),delete t.state.lint),e){for(var n=t.getOption("gutters"),l=!1,s=0;s<n.length;++s)n[s]==v&&(l=!0);var u=t.state.lint=new i(t,o(t,e),l);t.on("change",h),0!=u.options.tooltips&&CodeMirror.on(t.getWrapperElement(),"mouseover",u.onMouseOver),f(t)}}var v="CodeMirror-lint-markers",y=/^(?:error|warning)$/,b=[0,0,0,5,0,-5,5,0,-5,0];CodeMirror.defineOption("lintWith",!1,g),CodeMirror.defineOption("lint",!1,g)}()},function(){!function(){function t(t){"object"==typeof t&&(this.minChars=t.minChars,this.style=t.style,this.showToken=t.showToken,this.delay=t.delay),null==this.style&&(this.style=a),null==this.minChars&&(this.minChars=o),null==this.delay&&(this.delay=l),this.overlay=this.timeout=null}function e(t){var e=t.state.matchHighlighter;clearTimeout(e.timeout),e.timeout=setTimeout(function(){r(t)},e.delay)}function r(t){t.operation(function(){var e=t.state.matchHighlighter;if(e.overlay&&(t.removeOverlay(e.overlay),e.overlay=null),!t.somethingSelected()&&e.showToken){for(var r=e.showToken===!0?/[\w$]/:e.showToken,n=t.getCursor(),o=t.getLine(n.line),a=n.ch,l=a;a&&r.test(o.charAt(a-1));)--a;for(;l<o.length&&r.test(o.charAt(l));)++l;return void(l>a&&t.addOverlay(e.overlay=i(o.slice(a,l),r,e.style)))}if(t.getCursor("head").line==t.getCursor("anchor").line){var s=t.getSelection().replace(/^\s+|\s+$/g,"");s.length>=e.minChars&&t.addOverlay(e.overlay=i(s,!1,e.style))}})}function n(t,e){return!(t.start&&e.test(t.string.charAt(t.start-1))||t.pos!=t.string.length&&e.test(t.string.charAt(t.pos)))}function i(t,e,r){return{token:function(i){return!i.match(t)||e&&!n(i,e)?(i.next(),void(i.skipTo(t.charAt(0))||i.skipToEnd())):r}}}var o=2,a="matchhighlight",l=100;CodeMirror.defineOption("highlightSelectionMatches",!1,function(n,i,o){if(o&&o!=CodeMirror.Init){var a=n.state.matchHighlighter.overlay;a&&n.removeOverlay(a),clearTimeout(n.state.matchHighlighter.timeout),n.state.matchHighlighter=null,n.off("cursorActivity",e)}i&&(n.state.matchHighlighter=new t(i),r(n),n.on("cursorActivity",e))})}()},function(){!function(){"use strict";function t(t){"activeLine"in t.state&&(t.removeLineClass(t.state.activeLine,"wrap",n),t.removeLineClass(t.state.activeLine,"background",i))}function e(e,r){var o=e.getLineHandleVisualStart(r);e.state.activeLine!=o&&e.operation(function(){t(e),e.addLineClass(o,"wrap",n),e.addLineClass(o,"background",i),e.state.activeLine=o})}function r(t,r){e(t,r.head.line)}var n="CodeMirror-activeline",i="CodeMirror-activeline-background";CodeMirror.defineOption("styleActiveLine",!1,function(n,i,o){var a=o&&o!=CodeMirror.Init;i&&!a?(e(n,n.getCursor().line),n.on("beforeSelectionChange",r)):!i&&a&&(n.off("beforeSelectionChange",r),t(n),delete n.state.activeLine)})}()},function(){window.CodeMirror=function(){"use strict";function t(r,n){if(!(this instanceof t))return new t(r,n);this.options=n=n||{};for(var i in wo)!n.hasOwnProperty(i)&&wo.hasOwnProperty(i)&&(n[i]=wo[i]);h(n);var o="string"==typeof n.value?0:n.value.first,a=this.display=e(r,o);a.wrapper.CodeMirror=this,c(this),n.autofocus&&!to&&me(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new ii},s(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");var l=n.value;"string"==typeof l&&(l=new Do(n.value,n.mode)),le(this,kn)(this,l),zi&&setTimeout(hi(pe,this,!0),20),ye(this);var u;try{u=document.activeElement==a.input}catch(f){}u||n.autofocus&&!to?setTimeout(hi(Re,this),20):ze(this),le(this,function(){for(var t in xo)xo.propertyIsEnumerable(t)&&xo[t](this,n[t],Co);for(var e=0;e<So.length;++e)So[e](this)})()}function e(t,e){var r={},n=r.input=vi("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");return Gi?n.style.width="1000px":n.setAttribute("wrap","off"),Zi&&(n.style.border="1px solid black"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),n.setAttribute("spellcheck","false"),r.inputDiv=vi("div",[n],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),r.scrollbarH=vi("div",[vi("div",null,null,"height: 1px")],"CodeMirror-hscrollbar"),r.scrollbarV=vi("div",[vi("div",null,null,"width: 1px")],"CodeMirror-vscrollbar"),r.scrollbarFiller=vi("div",null,"CodeMirror-scrollbar-filler"),r.gutterFiller=vi("div",null,"CodeMirror-gutter-filler"),r.lineDiv=vi("div",null,"CodeMirror-code"),r.selectionDiv=vi("div",null,null,"position: relative; z-index: 1"),r.cursor=vi("div"," ","CodeMirror-cursor"),r.otherCursor=vi("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"),r.measure=vi("div",null,"CodeMirror-measure"),r.lineSpace=vi("div",[r.measure,r.selectionDiv,r.lineDiv,r.cursor,r.otherCursor],null,"position: relative; outline: none"),r.mover=vi("div",[vi("div",[r.lineSpace],"CodeMirror-lines")],null,"position: relative"),r.sizer=vi("div",[r.mover],"CodeMirror-sizer"),r.heightForcer=vi("div",null,null,"position: absolute; height: "+Fo+"px; width: 1px;"),r.gutters=vi("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=vi("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=vi("div",[r.inputDiv,r.scrollbarH,r.scrollbarV,r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),ji&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),t.appendChild?t.appendChild(r.wrapper):t(r.wrapper),Zi&&(n.style.width="0px"),Gi||(r.scroller.draggable=!0),Xi?(r.inputDiv.style.height="1px",r.inputDiv.style.position="absolute"):ji&&(r.scrollbarH.style.minWidth=r.scrollbarV.style.minWidth="18px"),r.viewOffset=r.lastSizeC=0,r.showingFrom=r.showingTo=e,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.prevInput="",r.alignWidgets=!1,r.pollingFast=!1,r.poll=new ii,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.measureLineCache=[],r.measureLineCachePos=0,r.inaccurateSelection=!1,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r
}function r(e){e.doc.mode=t.getMode(e.options,e.doc.modeOption),n(e)}function n(t){t.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),t.doc.frontier=t.doc.first,P(t,100),t.state.modeGen++,t.curOp&&ce(t)}function i(t){t.options.lineWrapping?(t.display.wrapper.className+=" CodeMirror-wrap",t.display.sizer.style.minWidth=""):(t.display.wrapper.className=t.display.wrapper.className.replace(" CodeMirror-wrap",""),d(t)),a(t),ce(t),$(t),setTimeout(function(){p(t)},100)}function o(t){var e=ne(t.display),r=t.options.lineWrapping,n=r&&Math.max(5,t.display.scroller.clientWidth/ie(t.display)-3);return function(i){return Qr(t.doc,i)?0:r?(Math.ceil(i.text.length/n)||1)*e:e}}function a(t){var e=t.doc,r=o(t);e.iter(function(t){var e=r(t);e!=t.height&&Ln(t,e)})}function l(t){var e=Eo[t.options.keyMap],r=e.style;t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(r?" cm-keymap-"+r:"")}function s(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),$(t)}function u(t){c(t),ce(t),setTimeout(function(){g(t)},20)}function c(t){var e=t.display.gutters,r=t.options.gutters;yi(e);for(var n=0;n<r.length;++n){var i=r[n],o=e.appendChild(vi("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(t.display.lineGutter=o,o.style.width=(t.display.lineNumWidth||1)+"px")}e.style.display=n?"":"none"}function f(t,e){if(0==e.height)return 0;for(var r,n=e.text.length,i=e;r=$r(i);){var o=r.find();i=An(t,o.from.line),n+=o.from.ch-o.to.ch}for(i=e;r=qr(i);){var o=r.find();n-=i.text.length-o.from.ch,i=An(t,o.to.line),n+=i.text.length-o.to.ch}return n}function d(t){var e=t.display,r=t.doc;e.maxLine=An(r,r.first),e.maxLineLength=f(r,e.maxLine),e.maxLineChanged=!0,r.iter(function(t){var n=f(r,t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)})}function h(t){var e=ui(t.gutters,"CodeMirror-linenumbers");-1==e&&t.lineNumbers?t.gutters=t.gutters.concat(["CodeMirror-linenumbers"]):e>-1&&!t.lineNumbers&&(t.gutters=t.gutters.slice(0),t.gutters.splice(e,1))}function p(t){var e=t.display,r=t.doc.height,n=r+z(e);e.sizer.style.minHeight=e.heightForcer.style.top=n+"px",e.gutters.style.height=Math.max(n,e.scroller.clientHeight-Fo)+"px";var i=Math.max(n,e.scroller.scrollHeight),o=e.scroller.scrollWidth>e.scroller.clientWidth+1,a=i>e.scroller.clientHeight+1;a?(e.scrollbarV.style.display="block",e.scrollbarV.style.bottom=o?ki(e.measure)+"px":"0",e.scrollbarV.firstChild.style.height=Math.max(0,i-e.scroller.clientHeight+e.scrollbarV.clientHeight)+"px"):(e.scrollbarV.style.display="",e.scrollbarV.firstChild.style.height="0"),o?(e.scrollbarH.style.display="block",e.scrollbarH.style.right=a?ki(e.measure)+"px":"0",e.scrollbarH.firstChild.style.width=e.scroller.scrollWidth-e.scroller.clientWidth+e.scrollbarH.clientWidth+"px"):(e.scrollbarH.style.display="",e.scrollbarH.firstChild.style.width="0"),o&&a?(e.scrollbarFiller.style.display="block",e.scrollbarFiller.style.height=e.scrollbarFiller.style.width=ki(e.measure)+"px"):e.scrollbarFiller.style.display="",o&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(e.gutterFiller.style.display="block",e.gutterFiller.style.height=ki(e.measure)+"px",e.gutterFiller.style.width=e.gutters.offsetWidth+"px"):e.gutterFiller.style.display="",Yi&&0===ki(e.measure)&&(e.scrollbarV.style.minWidth=e.scrollbarH.style.minHeight=Qi?"18px":"12px",e.scrollbarV.style.pointerEvents=e.scrollbarH.style.pointerEvents="none")}function m(t,e,r){var n=t.scroller.scrollTop,i=t.wrapper.clientHeight;"number"==typeof r?n=r:r&&(n=r.top,i=r.bottom-r.top),n=Math.floor(n-R(t));var o=Math.ceil(n+i);return{from:En(e,n),to:En(e,o)}}function g(t){var e=t.display;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var r=b(e)-e.scroller.scrollLeft+t.doc.scrollLeft,n=e.gutters.offsetWidth,i=r+"px",o=e.lineDiv.firstChild;o;o=o.nextSibling)if(o.alignable)for(var a=0,l=o.alignable;a<l.length;++a)l[a].style.left=i;t.options.fixedGutter&&(e.gutters.style.left=r+n+"px")}}function v(t){if(!t.options.lineNumbers)return!1;var e=t.doc,r=y(t.options,e.first+e.size-1),n=t.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(vi("div",[vi("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-a),n.lineNumWidth=n.lineNumInnerWidth+a,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",!0}return!1}function y(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function b(t){return wi(t.scroller).left-wi(t.sizer).left}function x(t,e,r,n){for(var i,o=t.display.showingFrom,a=t.display.showingTo,l=m(t.display,t.doc,r),s=!0;;s=!1){var u=t.display.scroller.clientWidth;if(!w(t,e,l,n))break;if(i=!0,e=[],E(t),p(t),s&&t.options.lineWrapping&&u!=t.display.scroller.clientWidth)n=!0;else if(n=!1,r&&(r=Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,"number"==typeof r?r:r.top)),l=m(t.display,t.doc,r),l.from>=t.display.showingFrom&&l.to<=t.display.showingTo)break}return i&&(Zn(t,"update",t),(t.display.showingFrom!=o||t.display.showingTo!=a)&&Zn(t,"viewportChange",t,t.display.showingFrom,t.display.showingTo)),i}function w(t,e,r,n){var i=t.display,o=t.doc;if(!i.wrapper.offsetWidth)return i.showingFrom=i.showingTo=o.first,void(i.viewOffset=0);if(!(!n&&0==e.length&&r.from>i.showingFrom&&r.to<i.showingTo)){v(t)&&(e=[{from:o.first,to:o.first+o.size}]);var a=i.sizer.style.marginLeft=i.gutters.offsetWidth+"px";i.scrollbarH.style.left=t.options.fixedGutter?a:"0";var l=1/0;if(t.options.lineNumbers)for(var s=0;s<e.length;++s)e[s].diff&&e[s].from<l&&(l=e[s].from);var u=o.first+o.size,c=Math.max(r.from-t.options.viewportMargin,o.first),f=Math.min(u,r.to+t.options.viewportMargin);if(i.showingFrom<c&&c-i.showingFrom<20&&(c=Math.max(o.first,i.showingFrom)),i.showingTo>f&&i.showingTo-f<20&&(f=Math.min(u,i.showingTo)),co)for(c=Tn(Yr(o,An(o,c)));u>f&&Qr(o,An(o,f));)++f;var d=[{from:Math.max(i.showingFrom,o.first),to:Math.min(i.showingTo,u)}];if(d=d[0].from>=d[0].to?[]:A(d,e),co)for(var s=0;s<d.length;++s)for(var h,p=d[s];h=qr(An(o,p.to-1));){var m=h.find().from.line;if(!(m>p.from)){d.splice(s--,1);break}p.to=m}for(var g=0,s=0;s<d.length;++s){var p=d[s];p.from<c&&(p.from=c),p.to>f&&(p.to=f),p.from>=p.to?d.splice(s--,1):g+=p.to-p.from}if(!n&&g==f-c&&c==i.showingFrom&&f==i.showingTo)return void k(t);d.sort(function(t,e){return t.from-e.from});try{var y=document.activeElement}catch(b){}.7*(f-c)>g&&(i.lineDiv.style.display="none"),S(t,c,f,d,l),i.lineDiv.style.display="",y&&document.activeElement!=y&&y.offsetHeight&&y.focus();var x=c!=i.showingFrom||f!=i.showingTo||i.lastSizeC!=i.wrapper.clientHeight;return x&&(i.lastSizeC=i.wrapper.clientHeight,P(t,400)),i.showingFrom=c,i.showingTo=f,i.gutters.style.height="",C(t),k(t),!0}}function C(t){for(var e,r=t.display,n=r.lineDiv.offsetTop,i=r.lineDiv.firstChild;i;i=i.nextSibling)if(i.lineObj){if(ji){var o=i.offsetTop+i.offsetHeight;e=o-n,n=o}else{var a=wi(i);e=a.bottom-a.top}var l=i.lineObj.height-e;if(2>e&&(e=ne(r)),l>.001||-.001>l){Ln(i.lineObj,e);var s=i.lineObj.widgets;if(s)for(var u=0;u<s.length;++u)s[u].height=s[u].node.offsetHeight}}}function k(t){var e=t.display.viewOffset=On(t,An(t.doc,t.display.showingFrom));t.display.mover.style.top=e+"px"}function A(t,e){for(var r=0,n=e.length||0;n>r;++r){for(var i=e[r],o=[],a=i.diff||0,l=0,s=t.length;s>l;++l){var u=t[l];i.to<=u.from&&i.diff?o.push({from:u.from+a,to:u.to+a}):i.to<=u.from||i.from>=u.to?o.push(u):(i.from>u.from&&o.push({from:u.from,to:i.from}),i.to<u.to&&o.push({from:i.to+a,to:u.to+a}))}t=o}return t}function M(t){for(var e=t.display,r={},n={},i=e.gutters.firstChild,o=0;i;i=i.nextSibling,++o)r[t.options.gutters[o]]=i.offsetLeft,n[t.options.gutters[o]]=i.offsetWidth;return{fixedPos:b(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:e.wrapper.clientWidth}}function S(t,e,r,n,i){function o(e){var r=e.nextSibling;return Gi&&eo&&t.display.currentWheelTarget==e?(e.style.display="none",e.lineObj=null):e.parentNode.removeChild(e),r}var a=M(t),l=t.display,s=t.options.lineNumbers;n.length||Gi&&t.display.currentWheelTarget||yi(l.lineDiv);var u=l.lineDiv,c=u.firstChild,f=n.shift(),d=e;for(t.doc.iter(e,r,function(e){if(f&&f.to==d&&(f=n.shift()),Qr(t.doc,e)){if(0!=e.height&&Ln(e,0),e.widgets&&c&&c.previousSibling)for(var r=0;r<e.widgets.length;++r){var l=e.widgets[r];if(l.showIfHidden){var h=c.previousSibling;if(/pre/i.test(h.nodeName)){var p=vi("div",null,null,"position: relative");h.parentNode.replaceChild(p,h),p.appendChild(h),h=p}var m=h.appendChild(vi("div",[l.node],"CodeMirror-linewidget"));l.handleMouseEvents||(m.ignoreEvents=!0),T(l,m,h,a)}}}else if(f&&f.from<=d&&f.to>d){for(;c.lineObj!=e;)c=o(c);s&&d>=i&&c.lineNumber&&xi(c.lineNumber,y(t.options,d)),c=c.nextSibling}else{if(e.widgets)for(var g,v=0,b=c;b&&20>v;++v,b=b.nextSibling)if(b.lineObj==e&&/div/i.test(b.nodeName)){g=b;break}var x=L(t,e,d,a,g);if(x!=g)u.insertBefore(x,c);else{for(;c!=g;)c=o(c);c=c.nextSibling}x.lineObj=e}++d});c;)c=o(c)}function L(t,e,r,n,i){var o,a=dn(t,e),l=a.pre,s=e.gutterMarkers,u=t.display,c=a.bgClass?a.bgClass+" "+(e.bgClass||""):e.bgClass;if(!(t.options.lineNumbers||s||c||e.wrapClass||e.widgets))return l;if(i){i.alignable=null;for(var f,d=!0,h=0,p=null,m=i.firstChild;m;m=f)if(f=m.nextSibling,/\bCodeMirror-linewidget\b/.test(m.className)){for(var g=0;g<e.widgets.length;++g){var v=e.widgets[g];if(v.node==m.firstChild){v.above||p||(p=m),T(v,m,i,n),++h;break}}if(g==e.widgets.length){d=!1;break}}else i.removeChild(m);i.insertBefore(l,p),d&&h==e.widgets.length&&(o=i,i.className=e.wrapClass||"")}if(o||(o=vi("div",null,e.wrapClass,"position: relative"),o.appendChild(l)),c&&o.insertBefore(vi("div",null,c+" CodeMirror-linebackground"),o.firstChild),t.options.lineNumbers||s){var b=o.insertBefore(vi("div",null,"CodeMirror-gutter-wrapper","position: absolute; left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px"),l);if(t.options.fixedGutter&&(o.alignable||(o.alignable=[])).push(b),!t.options.lineNumbers||s&&s["CodeMirror-linenumbers"]||(o.lineNumber=b.appendChild(vi("div",y(t.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+u.lineNumInnerWidth+"px"))),s)for(var x=0;x<t.options.gutters.length;++x){var w=t.options.gutters[x],C=s.hasOwnProperty(w)&&s[w];C&&b.appendChild(vi("div",[C],"CodeMirror-gutter-elt","left: "+n.gutterLeft[w]+"px; width: "+n.gutterWidth[w]+"px"))}}if(ji&&(o.style.zIndex=2),e.widgets&&o!=i)for(var g=0,k=e.widgets;g<k.length;++g){var v=k[g],A=vi("div",[v.node],"CodeMirror-linewidget");v.handleMouseEvents||(A.ignoreEvents=!0),T(v,A,o,n),v.above?o.insertBefore(A,t.options.lineNumbers&&0!=e.height?b:l):o.appendChild(A),Zn(v,"redraw")}return o}function T(t,e,r,n){if(t.noHScroll){(r.alignable||(r.alignable=[])).push(e);var i=n.wrapperWidth;e.style.left=n.fixedPos+"px",t.coverGutter||(i-=n.gutterTotalWidth,e.style.paddingLeft=n.gutterTotalWidth+"px"),e.style.width=i+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-n.gutterTotalWidth+"px"))}function E(t){var e=t.display,r=Qe(t.doc.sel.from,t.doc.sel.to);if(r||t.options.showCursorWhenSelecting?O(t):e.cursor.style.display=e.otherCursor.style.display="none",r?e.selectionDiv.style.display="none":N(t),t.options.moveInputWithCursor){var n=Z(t,t.doc.sel.head,"div"),i=wi(e.wrapper),o=wi(e.lineDiv);e.inputDiv.style.top=Math.max(0,Math.min(e.wrapper.clientHeight-10,n.top+o.top-i.top))+"px",e.inputDiv.style.left=Math.max(0,Math.min(e.wrapper.clientWidth-10,n.left+o.left-i.left))+"px"}}function O(t){var e=t.display,r=Z(t,t.doc.sel.head,"div");e.cursor.style.left=r.left+"px",e.cursor.style.top=r.top+"px",e.cursor.style.height=Math.max(0,r.bottom-r.top)*t.options.cursorHeight+"px",e.cursor.style.display="",r.other?(e.otherCursor.style.display="",e.otherCursor.style.left=r.other.left+"px",e.otherCursor.style.top=r.other.top+"px",e.otherCursor.style.height=.85*(r.other.bottom-r.other.top)+"px"):e.otherCursor.style.display="none"}function N(t){function e(t,e,r,n){0>e&&(e=0),a.appendChild(vi("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px; top: "+e+"px; width: "+(null==r?u-t:r)+"px; height: "+(n-e)+"px"))}function r(r,n,o){function a(e,n){return J(t,Ye(r,e),"div",f,n)}var l,c,f=An(i,r),d=f.text.length;return Mi(Nn(f),n||0,null==o?d:o,function(t,r,i){var f,h,p,m=a(t,"left");if(t==r)f=m,h=p=m.left;else{if(f=a(r-1,"right"),"rtl"==i){var g=m;m=f,f=g}h=m.left,p=f.right}null==n&&0==t&&(h=s),f.top-m.top>3&&(e(h,m.top,null,m.bottom),h=s,m.bottom<f.top&&e(h,m.bottom,null,f.top)),null==o&&r==d&&(p=u),(!l||m.top<l.top||m.top==l.top&&m.left<l.left)&&(l=m),(!c||f.bottom>c.bottom||f.bottom==c.bottom&&f.right>c.right)&&(c=f),s+1>h&&(h=s),e(h,f.top,p-h,f.bottom)}),{start:l,end:c}}var n=t.display,i=t.doc,o=t.doc.sel,a=document.createDocumentFragment(),l=j(t.display),s=l.left,u=n.lineSpace.offsetWidth-l.right;if(o.from.line==o.to.line)r(o.from.line,o.from.ch,o.to.ch);else{var c=An(i,o.from.line),f=An(i,o.to.line),d=Yr(i,c)==Yr(i,f),h=r(o.from.line,o.from.ch,d?c.text.length:null).end,p=r(o.to.line,d?0:null,o.to.ch).start;d&&(h.top<p.top-2?(e(h.right,h.top,null,h.bottom),e(s,p.top,p.left,p.bottom)):e(h.right,h.top,p.left-h.right,h.bottom)),h.bottom<p.top&&e(s,h.bottom,null,p.top)}bi(n.selectionDiv,a),n.selectionDiv.style.display=""}function H(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var r=!0;e.cursor.style.visibility=e.otherCursor.style.visibility="",t.options.cursorBlinkRate>0&&(e.blinker=setInterval(function(){e.cursor.style.visibility=e.otherCursor.style.visibility=(r=!r)?"":"hidden"},t.options.cursorBlinkRate))}}function P(t,e){t.doc.mode.startState&&t.doc.frontier<t.display.showingTo&&t.state.highlight.set(e,hi(I,t))}function I(t){var e=t.doc;if(e.frontier<e.first&&(e.frontier=e.first),!(e.frontier>=t.display.showingTo)){var r,n=+new Date+t.options.workTime,i=kr(e.mode,D(t,e.frontier)),o=[];e.iter(e.frontier,Math.min(e.first+e.size,t.display.showingTo+500),function(a){if(e.frontier>=t.display.showingFrom){var l=a.styles;a.styles=sn(t,a,i,!0);for(var s=!l||l.length!=a.styles.length,u=0;!s&&u<l.length;++u)s=l[u]!=a.styles[u];s&&(r&&r.end==e.frontier?r.end++:o.push(r={start:e.frontier,end:e.frontier+1})),a.stateAfter=kr(e.mode,i)}else cn(t,a.text,i),a.stateAfter=e.frontier%5==0?kr(e.mode,i):null;return++e.frontier,+new Date>n?(P(t,t.options.workDelay),!0):void 0}),o.length&&le(t,function(){for(var t=0;t<o.length;++t)ce(this,o[t].start,o[t].end)})()}}function W(t,e,r){for(var n,i,o=t.doc,a=r?-1:e-(t.doc.mode.innerMode?1e3:100),l=e;l>a;--l){if(l<=o.first)return o.first;var s=An(o,l-1);if(s.stateAfter&&(!r||l<=o.frontier))return l;var u=oi(s.text,null,t.options.tabSize);(null==i||n>u)&&(i=l-1,n=u)}return i}function D(t,e,r){var n=t.doc,i=t.display;if(!n.mode.startState)return!0;var o=W(t,e,r),a=o>n.first&&An(n,o-1).stateAfter;return a=a?kr(n.mode,a):Ar(n.mode),n.iter(o,e,function(r){cn(t,r.text,a);var l=o==e-1||o%5==0||o>=i.showingFrom&&o<i.showingTo;r.stateAfter=l?kr(n.mode,a):null,++o}),r&&(n.frontier=o),a}function R(t){return t.lineSpace.offsetTop}function z(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function j(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=bi(t.measure,vi("pre","x")),r=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle;return t.cachedPaddingH={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)}}function _(t,e,r,n,i){var o=-1;if(n=n||V(t,e),n.crude){var a=n.left+r*n.width;return{left:a,right:a+n.width,top:n.top,bottom:n.bottom}}for(var l=r;;l+=o){var s=n[l];if(s)break;0>o&&0==l&&(o=1)}return i=l>r?"left":r>l?"right":i,"left"==i&&s.leftSide?s=s.leftSide:"right"==i&&s.rightSide&&(s=s.rightSide),{left:r>l?s.right:s.left,right:l>r?s.left:s.right,top:s.top,bottom:s.bottom}}function F(t,e){for(var r=t.display.measureLineCache,n=0;n<r.length;++n){var i=r[n];if(i.text==e.text&&i.markedSpans==e.markedSpans&&t.display.scroller.clientWidth==i.width&&i.classes==e.textClass+"|"+e.wrapClass)return i}}function B(t,e){var r=F(t,e);r&&(r.text=r.measure=r.markedSpans=null)}function V(t,e){var r=F(t,e);if(r)return r.measure;var n=G(t,e),i=t.display.measureLineCache,o={text:e.text,width:t.display.scroller.clientWidth,markedSpans:e.markedSpans,measure:n,classes:e.textClass+"|"+e.wrapClass};return 16==i.length?i[++t.display.measureLineCachePos%16]=o:i.push(o),n}function G(t,e){function r(t){var e=t.top-p.top,r=t.bottom-p.top;r>v&&(r=v),0>e&&(e=0);for(var n=m.length-2;n>=0;n-=2){var i=m[n],o=m[n+1];if(!(i>r||e>o)&&(e>=i&&o>=r||i>=e&&r>=o||Math.min(r,o)-Math.max(e,i)>=r-e>>1)){m[n]=Math.min(e,i),m[n+1]=Math.max(r,o);break}}return 0>n&&(n=m.length,m.push(e,r)),{left:t.left-p.left,right:t.right-p.left,top:n,bottom:null}}function n(t){t.bottom=m[t.top+1],t.top=m[t.top]}if(!t.options.lineWrapping&&e.text.length>=t.options.crudeMeasuringFrom)return K(t,e);var i=t.display,o=di(e.text.length),a=dn(t,e,o,!0).pre;if(zi&&!ji&&!t.options.lineWrapping&&a.childNodes.length>100){for(var l=document.createDocumentFragment(),s=10,u=a.childNodes.length,c=0,f=Math.ceil(u/s);f>c;++c){for(var d=vi("div",null,null,"display: inline-block"),h=0;s>h&&u;++h)d.appendChild(a.firstChild),--u;l.appendChild(d)}a.appendChild(l)}bi(i.measure,a);var p=wi(i.lineDiv),m=[],g=di(e.text.length),v=a.offsetHeight;_i&&i.measure.first!=a&&bi(i.measure,a);for(var y,c=0;c<o.length;++c)if(y=o[c]){var b=y,x=null;if(/\bCodeMirror-widget\b/.test(y.className)&&y.getClientRects){1==y.firstChild.nodeType&&(b=y.firstChild);var w=b.getClientRects();w.length>1&&(x=g[c]=r(w[0]),x.rightSide=r(w[w.length-1]))}x||(x=g[c]=r(wi(b))),y.measureRight&&(x.right=wi(y.measureRight).left-p.left),y.leftSide&&(x.leftSide=r(wi(y.leftSide)))}yi(t.display.measure);for(var y,c=0;c<g.length;++c)(y=g[c])&&(n(y),y.leftSide&&n(y.leftSide),y.rightSide&&n(y.rightSide));return g}function K(t,e){var r=new Ho(e.text.slice(0,100),null);e.textClass&&(r.textClass=e.textClass);var n=G(t,r),i=_(t,r,0,n,"left"),o=_(t,r,99,n,"right");return{crude:!0,top:i.top,left:i.left,bottom:i.bottom,width:(o.right-i.left)/100}}function U(t,e){var r=!1;if(e.markedSpans)for(var n=0;n<e.markedSpans;++n){var i=e.markedSpans[n];!i.collapsed||null!=i.to&&i.to!=e.text.length||(r=!0)}var o=!r&&F(t,e);if(o||e.text.length>=t.options.crudeMeasuringFrom)return _(t,e,e.text.length,o&&o.measure,"right").right;var a=dn(t,e,null,!0).pre,l=a.appendChild(Ai(t.display.measure));return bi(t.display.measure,a),wi(l).right-wi(t.display.lineDiv).left}function $(t){t.display.measureLineCache.length=t.display.measureLineCachePos=0,t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function q(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function X(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function Y(t,e,r,n){if(e.widgets)for(var i=0;i<e.widgets.length;++i)if(e.widgets[i].above){var o=rn(e.widgets[i]);r.top+=o,r.bottom+=o}if("line"==n)return r;n||(n="local");var a=On(t,e);if("local"==n?a+=R(t.display):a-=t.display.viewOffset,"page"==n||"window"==n){var l=wi(t.display.lineSpace);a+=l.top+("window"==n?0:X());var s=l.left+("window"==n?0:q());r.left+=s,r.right+=s}return r.top+=a,r.bottom+=a,r}function Q(t,e,r){if("div"==r)return e;var n=e.left,i=e.top;if("page"==r)n-=q(),i-=X();else if("local"==r||!r){var o=wi(t.display.sizer);n+=o.left,i+=o.top}var a=wi(t.display.lineSpace);return{left:n-a.left,top:i-a.top}}function J(t,e,r,n,i){return n||(n=An(t.doc,e.line)),Y(t,n,_(t,n,e.ch,null,i),r)}function Z(t,e,r,n,i){function o(e,o){var a=_(t,n,e,i,o?"right":"left");return o?a.left=a.right:a.right=a.left,Y(t,n,a,r)}function a(t,e){var r=l[e],n=r.level%2;return t==Si(r)&&e&&r.level<l[e-1].level?(r=l[--e],t=Li(r)-(r.level%2?0:1),n=!0):t==Li(r)&&e<l.length-1&&r.level<l[e+1].level&&(r=l[++e],t=Si(r)-r.level%2,n=!1),n&&t==r.to&&t>r.from?o(t-1):o(t,n)}n=n||An(t.doc,e.line),i||(i=V(t,n));var l=Nn(n),s=e.ch;if(!l)return o(s);var u=Pi(l,s),c=a(s,u);return null!=Zo&&(c.other=a(s,Zo)),c}function te(t,e,r,n){var i=new Ye(t,e);return i.xRel=n,r&&(i.outside=!0),i}function ee(t,e,r){var n=t.doc;if(r+=t.display.viewOffset,0>r)return te(n.first,0,!0,-1);var i=En(n,r),o=n.first+n.size-1;if(i>o)return te(n.first+n.size-1,An(n,o).text.length,!0,1);for(0>e&&(e=0);;){var a=An(n,i),l=re(t,a,i,e,r),s=qr(a),u=s&&s.find();if(!s||!(l.ch>u.from.ch||l.ch==u.from.ch&&l.xRel>0))return l;i=u.to.line}}function re(t,e,r,n,i){function o(n){var i=Z(t,Ye(r,n),"line",e,u);return l=!0,a>i.bottom?i.left-s:a<i.top?i.left+s:(l=!1,i.left)}var a=i-On(t,e),l=!1,s=2*t.display.wrapper.clientWidth,u=V(t,e),c=Nn(e),f=e.text.length,d=Ti(e),h=Ei(e),p=o(d),m=l,g=o(h),v=l;if(n>g)return te(r,h,v,1);for(;;){if(c?h==d||h==Wi(e,d,1):1>=h-d){for(var y=p>n||g-n>=n-p?d:h,b=n-(y==d?p:g);gi(e.text.charAt(y));)++y;var x=te(r,y,y==d?m:v,0>b?-1:b?1:0);return x}var w=Math.ceil(f/2),C=d+w;if(c){C=d;for(var k=0;w>k;++k)C=Wi(e,C,1)}var A=o(C);A>n?(h=C,g=A,(v=l)&&(g+=1e3),f=w):(d=C,p=A,m=l,f-=w)}}function ne(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==io){io=vi("pre");for(var e=0;49>e;++e)io.appendChild(document.createTextNode("x")),io.appendChild(vi("br"));io.appendChild(document.createTextNode("x"))}bi(t.measure,io);var r=io.offsetHeight/50;return r>3&&(t.cachedTextHeight=r),yi(t.measure),r||1}function ie(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=vi("span","x"),r=vi("pre",[e]);bi(t.measure,r);var n=e.offsetWidth;return n>2&&(t.cachedCharWidth=n),n||10}function oe(t){t.curOp={changes:[],forceUpdate:!1,updateInput:null,userSelChange:null,textChanged:null,selectionChanged:!1,cursorActivity:!1,updateMaxLine:!1,updateScrollPos:!1,id:++fo},_o++||(jo=[])}function ae(t){var e=t.curOp,r=t.doc,n=t.display;if(t.curOp=null,e.updateMaxLine&&d(t),n.maxLineChanged&&!t.options.lineWrapping&&n.maxLine){var i=U(t,n.maxLine);n.sizer.style.minWidth=Math.max(0,i+3)+"px",n.maxLineChanged=!1;var o=Math.max(0,n.sizer.offsetLeft+n.sizer.offsetWidth-n.scroller.clientWidth);o<r.scrollLeft&&!e.updateScrollPos&&Te(t,Math.min(n.scroller.scrollLeft,o),!0)}var a,l;if(e.updateScrollPos)a=e.updateScrollPos;else if(e.selectionChanged&&n.scroller.clientHeight){var s=Z(t,r.sel.head);a=hr(t,s.left,s.top,s.left,s.bottom)}if((e.changes.length||e.forceUpdate||a&&null!=a.scrollTop)&&(l=x(t,e.changes,a&&a.scrollTop,e.forceUpdate),t.display.scroller.offsetHeight&&(t.doc.scrollTop=t.display.scroller.scrollTop)),!l&&e.selectionChanged&&E(t),e.updateScrollPos){var u=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,a.scrollTop)),c=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,a.scrollLeft));n.scroller.scrollTop=n.scrollbarV.scrollTop=r.scrollTop=u,n.scroller.scrollLeft=n.scrollbarH.scrollLeft=r.scrollLeft=c,g(t),e.scrollToPos&&fr(t,rr(t.doc,e.scrollToPos.from),rr(t.doc,e.scrollToPos.to),e.scrollToPos.margin)}else a&&cr(t);e.selectionChanged&&H(t),t.state.focused&&e.updateInput&&pe(t,e.userSelChange);var f=e.maybeHiddenMarkers,h=e.maybeUnhiddenMarkers;if(f)for(var p=0;p<f.length;++p)f[p].lines.length||Jn(f[p],"hide");if(h)for(var p=0;p<h.length;++p)h[p].lines.length&&Jn(h[p],"unhide");var m;if(--_o||(m=jo,jo=null),e.textChanged&&Jn(t,"change",t,e.textChanged),e.cursorActivity&&Jn(t,"cursorActivity",t),m)for(var p=0;p<m.length;++p)m[p]()}function le(t,e){return function(){var r=t||this,n=!r.curOp;n&&oe(r);try{var i=e.apply(r,arguments)}finally{n&&ae(r)}return i}}function se(t){return function(){var e,r=this.cm&&!this.cm.curOp;r&&oe(this.cm);try{e=t.apply(this,arguments)}finally{r&&ae(this.cm)}return e}}function ue(t,e){var r,n=!t.curOp;n&&oe(t);try{r=e()}finally{n&&ae(t)}return r}function ce(t,e,r,n){null==e&&(e=t.doc.first),null==r&&(r=t.doc.first+t.doc.size),t.curOp.changes.push({from:e,to:r,diff:n})}function fe(t){t.display.pollingFast||t.display.poll.set(t.options.pollInterval,function(){he(t),t.state.focused&&fe(t)})}function de(t){function e(){var n=he(t);n||r?(t.display.pollingFast=!1,fe(t)):(r=!0,t.display.poll.set(60,e))}var r=!1;t.display.pollingFast=!0,t.display.poll.set(20,e)}function he(t){var e=t.display.input,r=t.display.prevInput,n=t.doc,i=n.sel;if(!t.state.focused||Yo(e)||ve(t)||t.options.disableInput)return!1;t.state.pasteIncoming&&t.state.fakedLastChar&&(e.value=e.value.substring(0,e.value.length-1),t.state.fakedLastChar=!1);var o=e.value;if(o==r&&Qe(i.from,i.to))return!1;if(Vi&&!_i&&t.display.inputHasSelection===o)return pe(t,!0),!1;var a=!t.curOp;a&&oe(t),i.shift=!1;for(var l=0,s=Math.min(r.length,o.length);s>l&&r.charCodeAt(l)==o.charCodeAt(l);)++l;var u=i.from,c=i.to,f=o.slice(l);l<r.length?u=Ye(u.line,u.ch-(r.length-l)):t.state.overwrite&&Qe(u,c)&&!t.state.pasteIncoming&&(c=Ye(c.line,Math.min(An(n,c.line).text.length,c.ch+f.length)));var d=t.curOp.updateInput,h={from:u,to:c,text:Xo(f),origin:t.state.pasteIncoming?"paste":t.state.cutIncoming?"cut":"+input"};if(Ve(t.doc,h,"end"),t.curOp.updateInput=d,Zn(t,"inputRead",t,h),f&&!t.state.pasteIncoming&&t.options.electricChars&&t.options.smartIndent&&i.head.ch<100){var p=t.getModeAt(i.head).electricChars;if(p)for(var m=0;m<p.length;m++)if(f.indexOf(p.charAt(m))>-1){gr(t,i.head.line,"smart");break}}return o.length>1e3||o.indexOf("\n")>-1?e.value=t.display.prevInput="":t.display.prevInput=o,a&&ae(t),t.state.pasteIncoming=t.state.cutIncoming=!1,!0}function pe(t,e){var r,n,i=t.doc;if(Qe(i.sel.from,i.sel.to))e&&(t.display.prevInput=t.display.input.value="",Vi&&!_i&&(t.display.inputHasSelection=null));else{t.display.prevInput="",r=Qo&&(i.sel.to.line-i.sel.from.line>100||(n=t.getSelection()).length>1e3);var o=r?"-":n||t.getSelection();t.display.input.value=o,t.state.focused&&si(t.display.input),Vi&&!_i&&(t.display.inputHasSelection=o)}t.display.inaccurateSelection=r}function me(t){"nocursor"==t.options.readOnly||to&&document.activeElement==t.display.input||t.display.input.focus()}function ge(t){t.state.focused||(me(t),Re(t))}function ve(t){return t.options.readOnly||t.doc.cantEdit}function ye(t){function e(){t.state.focused&&setTimeout(hi(me,t),0)}function r(){null==l&&(l=setTimeout(function(){l=null,a.cachedCharWidth=a.cachedTextHeight=a.cachedPaddingH=$o=null,$(t),ue(t,hi(ce,t))},100))}function n(){for(var t=a.wrapper.parentNode;t&&t!=document.body;t=t.parentNode);t?setTimeout(n,5e3):Qn(window,"resize",r)}function i(e){ti(t,e)||t.options.onDragEvent&&t.options.onDragEvent(t,Vn(e))||$n(e)}function o(e){a.inaccurateSelection&&(a.prevInput="",a.inaccurateSelection=!1,a.input.value=t.getSelection(),si(a.input)),"cut"==e.type&&(t.state.cutIncoming=!0)}var a=t.display;Yn(a.scroller,"mousedown",le(t,we)),zi?Yn(a.scroller,"dblclick",le(t,function(e){if(!ti(t,e)){var r=xe(t,e);if(r&&!Ae(t,e)&&!be(t.display,e)){Gn(e);var n=xr(An(t.doc,r.line).text,r);or(t.doc,n.from,n.to)}}})):Yn(a.scroller,"dblclick",function(e){ti(t,e)||Gn(e)}),Yn(a.lineSpace,"selectstart",function(t){be(a,t)||Gn(t)}),so||Yn(a.scroller,"contextmenu",function(e){je(t,e)}),Yn(a.scroller,"scroll",function(){a.scroller.clientHeight&&(Le(t,a.scroller.scrollTop),Te(t,a.scroller.scrollLeft,!0),Jn(t,"scroll",t))}),Yn(a.scrollbarV,"scroll",function(){a.scroller.clientHeight&&Le(t,a.scrollbarV.scrollTop)}),Yn(a.scrollbarH,"scroll",function(){a.scroller.clientHeight&&Te(t,a.scrollbarH.scrollLeft)}),Yn(a.scroller,"mousewheel",function(e){Ee(t,e)}),Yn(a.scroller,"DOMMouseScroll",function(e){Ee(t,e)}),Yn(a.scrollbarH,"mousedown",e),Yn(a.scrollbarV,"mousedown",e),Yn(a.wrapper,"scroll",function(){a.wrapper.scrollTop=a.wrapper.scrollLeft=0});var l;Yn(window,"resize",r),setTimeout(n,5e3),Yn(a.input,"keyup",le(t,Ie)),Yn(a.input,"input",function(){Vi&&!_i&&t.display.inputHasSelection&&(t.display.inputHasSelection=null),de(t)}),Yn(a.input,"keydown",le(t,We)),Yn(a.input,"keypress",le(t,De)),Yn(a.input,"focus",hi(Re,t)),Yn(a.input,"blur",hi(ze,t)),t.options.dragDrop&&(Yn(a.scroller,"dragstart",function(e){Se(t,e)}),Yn(a.scroller,"dragenter",i),Yn(a.scroller,"dragover",i),Yn(a.scroller,"drop",le(t,Me))),Yn(a.scroller,"paste",function(e){be(a,e)||(me(t),de(t))}),Yn(a.input,"paste",function(){if(Gi&&!t.state.fakedLastChar&&!(new Date-t.state.lastMiddleDown<200)){var e=a.input.selectionStart,r=a.input.selectionEnd;a.input.value+="$",a.input.selectionStart=e,a.input.selectionEnd=r,t.state.fakedLastChar=!0}t.state.pasteIncoming=!0,de(t)}),Yn(a.input,"cut",o),Yn(a.input,"copy",o),Xi&&Yn(a.sizer,"mouseup",function(){document.activeElement==a.input&&a.input.blur(),me(t)})}function be(t,e){for(var r=qn(e);r!=t.wrapper;r=r.parentNode)if(!r||r.ignoreEvents||r.parentNode==t.sizer&&r!=t.mover)return!0}function xe(t,e,r){var n=t.display;if(!r){var i=qn(e);if(i==n.scrollbarH||i==n.scrollbarH.firstChild||i==n.scrollbarV||i==n.scrollbarV.firstChild||i==n.scrollbarFiller||i==n.gutterFiller)return null}var o,a,l=wi(n.lineSpace);try{o=e.clientX,a=e.clientY}catch(e){return null}return ee(t,o-l.left,a-l.top)}function we(t){function e(t){if(!Qe(v,t)){if(v=t,"single"==c)return void or(i.doc,rr(a,s),t);if(p=rr(a,p),g=rr(a,g),"double"==c){var e=xr(An(a,t.line).text,t);Je(t,p)?or(i.doc,e.from,g):or(i.doc,p,e.to)}else"triple"==c&&(Je(t,p)?or(i.doc,g,rr(a,Ye(t.line,0))):or(i.doc,p,rr(a,Ye(t.line+1,0))))}}function r(t){var n=++b,l=xe(i,t,!0);if(l)if(Qe(l,d)){var s=t.clientY<y.top?-20:t.clientY>y.bottom?20:0;s&&setTimeout(le(i,function(){b==n&&(o.scroller.scrollTop+=s,r(t))}),50)}else{ge(i),d=l,e(l);var u=m(o,a);(l.line>=u.to||l.line<u.from)&&setTimeout(le(i,function(){b==n&&r(t)}),150)}}function n(t){b=1/0,Gn(t),me(i),Qn(document,"mousemove",x),Qn(document,"mouseup",w)}if(!ti(this,t)){var i=this,o=i.display,a=i.doc,l=a.sel;if(l.shift=t.shiftKey,be(o,t))return void(Gi||(o.scroller.draggable=!1,setTimeout(function(){o.scroller.draggable=!0},100)));if(!Ae(i,t)){var s=xe(i,t);switch(window.focus(),Xn(t)){case 3:return void(so&&je.call(i,i,t));case 2:return Gi&&(i.state.lastMiddleDown=+new Date),s&&or(i.doc,s),setTimeout(hi(me,i),20),void Gn(t)}if(!s)return void(qn(t)==o.scroller&&Gn(t));setTimeout(hi(ge,i),0);var u=+new Date,c="single";if(ao&&ao.time>u-400&&Qe(ao.pos,s))c="triple",Gn(t),setTimeout(hi(me,i),20),wr(i,s.line);else if(oo&&oo.time>u-400&&Qe(oo.pos,s)){c="double",ao={time:u,pos:s},Gn(t);var f=xr(An(a,s.line).text,s);or(i.doc,f.from,f.to)}else oo={time:u,pos:s};var d=s;if(i.options.dragDrop&&Uo&&!ve(i)&&!Qe(l.from,l.to)&&!Je(s,l.from)&&!Je(l.to,s)&&"single"==c){var h=le(i,function(e){Gi&&(o.scroller.draggable=!1),i.state.draggingText=!1,Qn(document,"mouseup",h),Qn(o.scroller,"drop",h),Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)<10&&(Gn(e),or(i.doc,s),me(i),zi&&!_i&&setTimeout(function(){document.body.focus(),me(i)},20))});return Gi&&(o.scroller.draggable=!0),i.state.draggingText=h,o.scroller.dragDrop&&o.scroller.dragDrop(),Yn(document,"mouseup",h),void Yn(o.scroller,"drop",h)}Gn(t),"single"==c&&or(i.doc,rr(a,s));var p=l.from,g=l.to,v=s,y=wi(o.wrapper),b=0,x=le(i,function(t){(Vi&&!Fi?t.buttons:Xn(t))?r(t):n(t)}),w=le(i,n);Yn(document,"mousemove",x),Yn(document,"mouseup",w)}}}function Ce(t,e,r,n,i){try{var o=e.clientX,a=e.clientY}catch(e){return!1}if(o>=Math.floor(wi(t.display.gutters).right))return!1;n&&Gn(e);var l=t.display,s=wi(l.lineDiv);if(a>s.bottom||!ri(t,r))return Un(e);a-=s.top-l.viewOffset;for(var u=0;u<t.options.gutters.length;++u){var c=l.gutters.childNodes[u];if(c&&wi(c).right>=o){var f=En(t.doc,a),d=t.options.gutters[u];return i(t,r,t,f,d,e),Un(e)}}}function ke(t,e){return ri(t,"gutterContextMenu")?Ce(t,e,"gutterContextMenu",!1,Jn):!1}function Ae(t,e){return Ce(t,e,"gutterClick",!0,Zn)}function Me(t){var e=this;if(!(ti(e,t)||be(e.display,t)||e.options.onDragEvent&&e.options.onDragEvent(e,Vn(t)))){Gn(t),Vi&&(ho=+new Date);var r=xe(e,t,!0),n=t.dataTransfer.files;
if(r&&!ve(e))if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),a=0,l=function(t,n){var l=new FileReader;l.onload=function(){o[n]=l.result,++a==i&&(r=rr(e.doc,r),Ve(e.doc,{from:r,to:r,text:Xo(o.join("\n")),origin:"paste"},"around"))},l.readAsText(t)},s=0;i>s;++s)l(n[s],s);else{if(e.state.draggingText&&!Je(r,e.doc.sel.from)&&!Je(e.doc.sel.to,r))return e.state.draggingText(t),void setTimeout(hi(me,e),20);try{var o=t.dataTransfer.getData("Text");if(o){var u=e.doc.sel.from,c=e.doc.sel.to;lr(e.doc,r,r),e.state.draggingText&&Xe(e.doc,"",u,c,"paste"),e.replaceSelection(o,null,"paste"),me(e)}}catch(t){}}}}function Se(t,e){if(Vi&&(!t.state.draggingText||+new Date-ho<100))return void $n(e);if(!ti(t,e)&&!be(t.display,e)){var r=t.getSelection();if(e.dataTransfer.setData("Text",r),e.dataTransfer.setDragImage&&!qi){var n=vi("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",$i&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),$i&&n.parentNode.removeChild(n)}}}function Le(t,e){Math.abs(t.doc.scrollTop-e)<2||(t.doc.scrollTop=e,Ri||x(t,[],e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e),t.display.scrollbarV.scrollTop!=e&&(t.display.scrollbarV.scrollTop=e),Ri&&x(t,[]),P(t,100))}function Te(t,e,r){(r?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)||(e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),t.doc.scrollLeft=e,g(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbarH.scrollLeft!=e&&(t.display.scrollbarH.scrollLeft=e))}function Ee(t,e){var r=e.wheelDeltaX,n=e.wheelDeltaY;null==r&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(r=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta);var i=t.display,o=i.scroller;if(r&&o.scrollWidth>o.clientWidth||n&&o.scrollHeight>o.clientHeight){if(n&&eo&&Gi)for(var a=e.target;a!=o;a=a.parentNode)if(a.lineObj){t.display.currentWheelTarget=a;break}if(r&&!Ri&&!$i&&null!=mo)return n&&Le(t,Math.max(0,Math.min(o.scrollTop+n*mo,o.scrollHeight-o.clientHeight))),Te(t,Math.max(0,Math.min(o.scrollLeft+r*mo,o.scrollWidth-o.clientWidth))),Gn(e),void(i.wheelStartX=null);if(n&&null!=mo){var l=n*mo,s=t.doc.scrollTop,u=s+i.wrapper.clientHeight;0>l?s=Math.max(0,s+l-50):u=Math.min(t.doc.height,u+l+50),x(t,[],{top:s,bottom:u})}20>po&&(null==i.wheelStartX?(i.wheelStartX=o.scrollLeft,i.wheelStartY=o.scrollTop,i.wheelDX=r,i.wheelDY=n,setTimeout(function(){if(null!=i.wheelStartX){var t=o.scrollLeft-i.wheelStartX,e=o.scrollTop-i.wheelStartY,r=e&&i.wheelDY&&e/i.wheelDY||t&&i.wheelDX&&t/i.wheelDX;i.wheelStartX=i.wheelStartY=null,r&&(mo=(mo*po+r)/(po+1),++po)}},200)):(i.wheelDX+=r,i.wheelDY+=n))}}function Oe(t,e,r){if("string"==typeof e&&(e=To[e],!e))return!1;t.display.pollingFast&&he(t)&&(t.display.pollingFast=!1);var n=t.doc,i=n.sel.shift,o=!1;try{ve(t)&&(t.state.suppressEdits=!0),r&&(n.sel.shift=!1),o=e(t)!=Bo}finally{n.sel.shift=i,t.state.suppressEdits=!1}return o}function Ne(t){var e=t.state.keyMaps.slice(0);return t.options.extraKeys&&e.push(t.options.extraKeys),e.push(t.options.keyMap),e}function He(t,e){var r=Mr(t.options.keyMap),n=r.auto;clearTimeout(go),n&&!Lr(e)&&(go=setTimeout(function(){Mr(t.options.keyMap)==r&&(t.options.keyMap=n.call?n.call(null,t):n,l(t))},50));var i=Tr(e,!0),o=!1;if(!i)return!1;var a=Ne(t);return o=e.shiftKey?Sr("Shift-"+i,a,function(e){return Oe(t,e,!0)})||Sr(i,a,function(e){return("string"==typeof e?/^go[A-Z]/.test(e):e.motion)?Oe(t,e):void 0}):Sr(i,a,function(e){return Oe(t,e)}),o&&(Gn(e),H(t),_i&&(e.oldKeyCode=e.keyCode,e.keyCode=0),Zn(t,"keyHandled",t,i,e)),o}function Pe(t,e,r){var n=Sr("'"+r+"'",Ne(t),function(e){return Oe(t,e,!0)});return n&&(Gn(e),H(t),Zn(t,"keyHandled",t,"'"+r+"'",e)),n}function Ie(t){var e=this;ti(e,t)||e.options.onKeyEvent&&e.options.onKeyEvent(e,Vn(t))||16==t.keyCode&&(e.doc.sel.shift=!1)}function We(t){var e=this;if(ge(e),!(ti(e,t)||e.options.onKeyEvent&&e.options.onKeyEvent(e,Vn(t)))){zi&&27==t.keyCode&&(t.returnValue=!1);var r=t.keyCode;e.doc.sel.shift=16==r||t.shiftKey;var n=He(e,t);$i&&(yo=n?r:null,!n&&88==r&&!Qo&&(eo?t.metaKey:t.ctrlKey)&&e.replaceSelection(""))}}function De(t){var e=this;if(!(ti(e,t)||e.options.onKeyEvent&&e.options.onKeyEvent(e,Vn(t)))){var r=t.keyCode,n=t.charCode;if($i&&r==yo)return yo=null,void Gn(t);if(!($i&&(!t.which||t.which<10)||Xi)||!He(e,t)){var i=String.fromCharCode(null==n?r:n);Pe(e,t,i)||(Vi&&!_i&&(e.display.inputHasSelection=null),de(e))}}}function Re(t){"nocursor"!=t.options.readOnly&&(t.state.focused||(Jn(t,"focus",t),t.state.focused=!0,-1==t.display.wrapper.className.search(/\bCodeMirror-focused\b/)&&(t.display.wrapper.className+=" CodeMirror-focused"),t.curOp||(pe(t,!0),Gi&&setTimeout(hi(pe,t,!0),0))),fe(t),H(t))}function ze(t){t.state.focused&&(Jn(t,"blur",t),t.state.focused=!1,t.display.wrapper.className=t.display.wrapper.className.replace(" CodeMirror-focused","")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.doc.sel.shift=!1)},150)}function je(t,e){function r(){if(null!=i.input.selectionStart){var t=i.input.value="​"+(Qe(o.from,o.to)?"":i.input.value);i.prevInput="​",i.input.selectionStart=1,i.input.selectionEnd=t.length}}function n(){if(i.inputDiv.style.position="relative",i.input.style.cssText=u,_i&&(i.scrollbarV.scrollTop=i.scroller.scrollTop=l),fe(t),null!=i.input.selectionStart){(!Vi||_i)&&r(),clearTimeout(vo);var e=0,n=function(){"​"==i.prevInput&&0==i.input.selectionStart?le(t,To.selectAll)(t):e++<10?vo=setTimeout(n,500):pe(t)};vo=setTimeout(n,200)}}if(!ti(t,e,"contextmenu")){var i=t.display,o=t.doc.sel;if(!be(i,e)&&!ke(t,e)){var a=xe(t,e),l=i.scroller.scrollTop;if(a&&!$i){var s=t.options.resetSelectionOnContextMenu;s&&(Qe(o.from,o.to)||Je(a,o.from)||!Je(a,o.to))&&le(t,lr)(t.doc,a,a);var u=i.input.style.cssText;if(i.inputDiv.style.position="absolute",i.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: transparent; outline: none;border-width: 0; outline: none; overflow: hidden; opacity: .05; -ms-opacity: .05; filter: alpha(opacity=5);",me(t),pe(t,!0),Qe(o.from,o.to)&&(i.input.value=i.prevInput=" "),Vi&&!_i&&r(),so){$n(e);var c=function(){Qn(window,"mouseup",c),setTimeout(n,20)};Yn(window,"mouseup",c)}else setTimeout(n,50)}}}}function _e(t,e,r){if(!Je(e.from,r))return rr(t,r);var n=e.text.length-1-(e.to.line-e.from.line);if(r.line>e.to.line+n){var i=r.line-n,o=t.first+t.size-1;return i>o?Ye(o,An(t,o).text.length):nr(r,An(t,i).text.length)}if(r.line==e.to.line+n)return nr(r,li(e.text).length+(1==e.text.length?e.from.ch:0)+An(t,e.to.line).text.length-e.to.ch);var a=r.line-e.from.line;return nr(r,e.text[a].length+(a?0:e.from.ch))}function Fe(t,e,r){if(r&&"object"==typeof r)return{anchor:_e(t,e,r.anchor),head:_e(t,e,r.head)};if("start"==r)return{anchor:e.from,head:e.from};var n=bo(e);if("around"==r)return{anchor:e.from,head:n};if("end"==r)return{anchor:n,head:n};var i=function(t){if(Je(t,e.from))return t;if(!Je(e.to,t))return n;var r=t.line+e.text.length-(e.to.line-e.from.line)-1,i=t.ch;return t.line==e.to.line&&(i+=n.ch-e.to.ch),Ye(r,i)};return{anchor:i(t.sel.anchor),head:i(t.sel.head)}}function Be(t,e,r){var n={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){this.canceled=!0}};return r&&(n.update=function(e,r,n,i){e&&(this.from=rr(t,e)),r&&(this.to=rr(t,r)),n&&(this.text=n),void 0!==i&&(this.origin=i)}),Jn(t,"beforeChange",t,n),t.cm&&Jn(t.cm,"beforeChange",t.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Ve(t,e,r,n){if(t.cm){if(!t.cm.curOp)return le(t.cm,Ve)(t,e,r,n);if(t.cm.state.suppressEdits)return}if(!(ri(t,"beforeChange")||t.cm&&ri(t.cm,"beforeChange"))||(e=Be(t,e,!0))){var i=uo&&!n&&Br(t,e.from,e.to);if(i){for(var o=i.length-1;o>=1;--o)Ge(t,{from:i[o].from,to:i[o].to,text:[""]});i.length&&Ge(t,{from:i[0].from,to:i[0].to,text:e.text},r)}else Ge(t,e,r)}}function Ge(t,e,r){if(1!=e.text.length||""!=e.text[0]||!Qe(e.from,e.to)){var n=Fe(t,e,r);Wn(t,e,n,t.cm?t.cm.curOp.id:0/0),$e(t,e,n,jr(t,e));var i=[];Cn(t,function(t,r){r||-1!=ui(i,t.history)||(Fn(t.history,e),i.push(t.history)),$e(t,e,null,jr(t,e))})}}function Ke(t,e){if(!t.cm||!t.cm.state.suppressEdits){var r=t.history,n=("undo"==e?r.done:r.undone).pop();if(n){var i={changes:[],anchorBefore:n.anchorAfter,headBefore:n.headAfter,anchorAfter:n.anchorBefore,headAfter:n.headBefore,generation:r.generation};("undo"==e?r.undone:r.done).push(i),r.generation=n.generation||++r.maxGeneration;for(var o=ri(t,"beforeChange")||t.cm&&ri(t.cm,"beforeChange"),a=n.changes.length-1;a>=0;--a){var l=n.changes[a];if(l.origin=e,o&&!Be(t,l,!1))return void(("undo"==e?r.done:r.undone).length=0);i.changes.push(In(t,l));var s=a?Fe(t,l,null):{anchor:n.anchorBefore,head:n.headBefore};$e(t,l,s,Fr(t,l));var u=[];Cn(t,function(t,e){e||-1!=ui(u,t.history)||(Fn(t.history,l),u.push(t.history)),$e(t,l,null,Fr(t,l))})}}}}function Ue(t,e){function r(t){return Ye(t.line+e,t.ch)}t.first+=e,t.cm&&ce(t.cm,t.first,t.first,e),t.sel.head=r(t.sel.head),t.sel.anchor=r(t.sel.anchor),t.sel.from=r(t.sel.from),t.sel.to=r(t.sel.to)}function $e(t,e,r,n){if(t.cm&&!t.cm.curOp)return le(t.cm,$e)(t,e,r,n);if(e.to.line<t.first)return void Ue(t,e.text.length-1-(e.to.line-e.from.line));if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var i=e.text.length-1-(t.first-e.from.line);Ue(t,i),e={from:Ye(t.first,0),to:Ye(e.to.line+i,e.to.ch),text:[li(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:Ye(o,An(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Mn(t,e.from,e.to),r||(r=Fe(t,e,null)),t.cm?qe(t.cm,e,n,r):bn(t,e,n,r)}}function qe(t,e,r,n){var i=t.doc,a=t.display,l=e.from,s=e.to,u=!1,c=l.line;t.options.lineWrapping||(c=Tn(Yr(i,An(i,l.line))),i.iter(c,s.line+1,function(t){return t==a.maxLine?(u=!0,!0):void 0})),Je(i.sel.head,e.from)||Je(e.to,i.sel.head)||(t.curOp.cursorActivity=!0),bn(i,e,r,n,o(t)),t.options.lineWrapping||(i.iter(c,l.line+e.text.length,function(t){var e=f(i,t);e>a.maxLineLength&&(a.maxLine=t,a.maxLineLength=e,a.maxLineChanged=!0,u=!1)}),u&&(t.curOp.updateMaxLine=!0)),i.frontier=Math.min(i.frontier,l.line),P(t,400);var d=e.text.length-(s.line-l.line)-1;if(ce(t,l.line,s.line+1,d),ri(t,"change")){var h={from:l,to:s,text:e.text,removed:e.removed,origin:e.origin};if(t.curOp.textChanged){for(var p=t.curOp.textChanged;p.next;p=p.next);p.next=h}else t.curOp.textChanged=h}}function Xe(t,e,r,n,i){if(n||(n=r),Je(n,r)){var o=n;n=r,r=o}"string"==typeof e&&(e=Xo(e)),Ve(t,{from:r,to:n,text:e,origin:i},null)}function Ye(t,e){return this instanceof Ye?(this.line=t,void(this.ch=e)):new Ye(t,e)}function Qe(t,e){return t.line==e.line&&t.ch==e.ch}function Je(t,e){return t.line<e.line||t.line==e.line&&t.ch<e.ch}function Ze(t,e){return t.line-e.line||t.ch-e.ch}function tr(t){return Ye(t.line,t.ch)}function er(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function rr(t,e){if(e.line<t.first)return Ye(t.first,0);var r=t.first+t.size-1;return e.line>r?Ye(r,An(t,r).text.length):nr(e,An(t,e.line).text.length)}function nr(t,e){var r=t.ch;return null==r||r>e?Ye(t.line,e):0>r?Ye(t.line,0):t}function ir(t,e){return e>=t.first&&e<t.first+t.size}function or(t,e,r,n){if(t.sel.shift||t.sel.extend){var i=t.sel.anchor;if(r){var o=Je(e,i);o!=Je(r,i)?(i=e,e=r):o!=Je(e,r)&&(e=r)}lr(t,i,e,n)}else lr(t,e,r||e,n);t.cm&&(t.cm.curOp.userSelChange=!0)}function ar(t,e,r){var n={anchor:e,head:r};return Jn(t,"beforeSelectionChange",t,n),t.cm&&Jn(t.cm,"beforeSelectionChange",t.cm,n),n.anchor=rr(t,n.anchor),n.head=rr(t,n.head),n}function lr(t,e,r,n,i){if(!i&&ri(t,"beforeSelectionChange")||t.cm&&ri(t.cm,"beforeSelectionChange")){var o=ar(t,e,r);r=o.head,e=o.anchor}var a=t.sel;if(a.goalColumn=null,null==n&&(n=Je(r,a.head)?-1:1),(i||!Qe(e,a.anchor))&&(e=ur(t,e,n,"push"!=i)),(i||!Qe(r,a.head))&&(r=ur(t,r,n,"push"!=i)),!Qe(a.anchor,e)||!Qe(a.head,r)){a.anchor=e,a.head=r;var l=Je(r,e);a.from=l?r:e,a.to=l?e:r,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=t.cm.curOp.cursorActivity=!0),Zn(t,"cursorActivity",t)}}function sr(t){lr(t.doc,t.doc.sel.from,t.doc.sel.to,null,"push")}function ur(t,e,r,n){var i=!1,o=e,a=r||1;t.cantEdit=!1;t:for(;;){var l=An(t,o.line);if(l.markedSpans)for(var s=0;s<l.markedSpans.length;++s){var u=l.markedSpans[s],c=u.marker;if((null==u.from||(c.inclusiveLeft?u.from<=o.ch:u.from<o.ch))&&(null==u.to||(c.inclusiveRight?u.to>=o.ch:u.to>o.ch))){if(n&&(Jn(c,"beforeCursorEnter"),c.explicitlyCleared)){if(l.markedSpans){--s;continue}break}if(!c.atomic)continue;var f=c.find()[0>a?"from":"to"];if(Qe(f,o)&&(f.ch+=a,f.ch<0?f=f.line>t.first?rr(t,Ye(f.line-1)):null:f.ch>l.text.length&&(f=f.line<t.first+t.size-1?Ye(f.line+1,0):null),!f)){if(i)return n?(t.cantEdit=!0,Ye(t.first,0)):ur(t,e,r,!0);i=!0,f=e,a=-a}o=f;continue t}}return o}}function cr(t){var e=fr(t,t.doc.sel.head,null,t.options.cursorScrollMargin);if(t.state.focused){var r=t.display,n=wi(r.sizer),i=null;if(e.top+n.top<0?i=!0:e.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!Ji){var o=vi("div","​",null,"position: absolute; top: "+(e.top-r.viewOffset)+"px; height: "+(e.bottom-e.top+Fo)+"px; left: "+e.left+"px; width: 2px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(i),t.display.lineSpace.removeChild(o)}}}function fr(t,e,r,n){for(null==n&&(n=0);;){var i=!1,o=Z(t,e),a=r&&r!=e?Z(t,r):o,l=hr(t,Math.min(o.left,a.left),Math.min(o.top,a.top)-n,Math.max(o.left,a.left),Math.max(o.bottom,a.bottom)+n),s=t.doc.scrollTop,u=t.doc.scrollLeft;if(null!=l.scrollTop&&(Le(t,l.scrollTop),Math.abs(t.doc.scrollTop-s)>1&&(i=!0)),null!=l.scrollLeft&&(Te(t,l.scrollLeft),Math.abs(t.doc.scrollLeft-u)>1&&(i=!0)),!i)return o}}function dr(t,e,r,n,i){var o=hr(t,e,r,n,i);null!=o.scrollTop&&Le(t,o.scrollTop),null!=o.scrollLeft&&Te(t,o.scrollLeft)}function hr(t,e,r,n,i){var o=t.display,a=ne(t.display);0>r&&(r=0);var l=o.scroller.clientHeight-Fo,s=o.scroller.scrollTop,u={},c=t.doc.height+z(o),f=a>r,d=i>c-a;if(s>r)u.scrollTop=f?0:r;else if(i>s+l){var h=Math.min(r,(d?c:i)-l);h!=s&&(u.scrollTop=h)}var p=o.scroller.clientWidth-Fo,m=o.scroller.scrollLeft;e+=o.gutters.offsetWidth,n+=o.gutters.offsetWidth;var g=o.gutters.offsetWidth,v=g+10>e;return m+g>e||v?(v&&(e=0),u.scrollLeft=Math.max(0,e-10-g)):n>p+m-3&&(u.scrollLeft=n+10-p),u}function pr(t,e,r){t.curOp.updateScrollPos={scrollLeft:null==e?t.doc.scrollLeft:e,scrollTop:null==r?t.doc.scrollTop:r}}function mr(t,e,r){var n=t.curOp.updateScrollPos||(t.curOp.updateScrollPos={scrollLeft:t.doc.scrollLeft,scrollTop:t.doc.scrollTop}),i=t.display.scroller;n.scrollTop=Math.max(0,Math.min(i.scrollHeight-i.clientHeight,n.scrollTop+r)),n.scrollLeft=Math.max(0,Math.min(i.scrollWidth-i.clientWidth,n.scrollLeft+e))}function gr(t,e,r,n){var i,o=t.doc;null==r&&(r="add"),"smart"==r&&(t.doc.mode.indent?i=D(t,e):r="prev");var a=t.options.tabSize,l=An(o,e),s=oi(l.text,null,a);l.stateAfter&&(l.stateAfter=null);var u,c=l.text.match(/^\s*/)[0];if(n||/\S/.test(l.text)){if("smart"==r&&(u=t.doc.mode.indent(i,l.text.slice(c.length),l.text),u==Bo)){if(!n)return;r="prev"}}else u=0,r="not";"prev"==r?u=e>o.first?oi(An(o,e-1).text,null,a):0:"add"==r?u=s+t.options.indentUnit:"subtract"==r?u=s-t.options.indentUnit:"number"==typeof r&&(u=s+r),u=Math.max(0,u);var f="",d=0;if(t.options.indentWithTabs)for(var h=Math.floor(u/a);h;--h)d+=a,f+="	";u>d&&(f+=ai(u-d)),f!=c?Xe(t.doc,f,Ye(e,0),Ye(e,c.length),"+input"):o.sel.head.line==e&&o.sel.head.ch<c.length&&lr(o,Ye(e,c.length),Ye(e,c.length),1),l.stateAfter=null}function vr(t,e,r){var n=e,i=e,o=t.doc;return"number"==typeof e?i=An(o,er(o,e)):n=Tn(e),null==n?null:r(i,n)?(ce(t,n,n+1),i):null}function yr(t,e,r,n,i){function o(){var e=l+r;return e<t.first||e>=t.first+t.size?f=!1:(l=e,c=An(t,e))}function a(t){var e=(i?Wi:Di)(c,s,r,!0);if(null==e){if(t||!o())return f=!1;s=i?(0>r?Ei:Ti)(c):0>r?c.text.length:0}else s=e;return!0}var l=e.line,s=e.ch,u=r,c=An(t,l),f=!0;if("char"==n)a();else if("column"==n)a(!0);else if("word"==n||"group"==n)for(var d=null,h="group"==n,p=!0;!(0>r)||a(!p);p=!1){var m=c.text.charAt(s)||"\n",g=pi(m)?"w":h&&"\n"==m?"n":!h||/\s/.test(m)?null:"p";if(!h||p||g||(g="s"),d&&d!=g){0>r&&(r=1,a());break}if(g&&(d=g),r>0&&!a(!p))break}var v=ur(t,Ye(l,s),u,!0);return f||(v.hitSide=!0),v}function br(t,e,r,n){var i,o=t.doc,a=e.left;if("page"==n){var l=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=e.top+r*(l-(0>r?1.5:.5)*ne(t.display))}else"line"==n&&(i=r>0?e.bottom+3:e.top-3);for(;;){var s=ee(t,a,i);if(!s.outside)break;if(0>r?0>=i:i>=o.height){s.hitSide=!0;break}i+=5*r}return s}function xr(t,e){var r=e.ch,n=e.ch;if(t){(e.xRel<0||n==t.length)&&r?--r:++n;for(var i=t.charAt(r),o=pi(i)?pi:/\s/.test(i)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!pi(t)};r>0&&o(t.charAt(r-1));)--r;for(;n<t.length&&o(t.charAt(n));)++n}return{from:Ye(e.line,r),to:Ye(e.line,n)}}function wr(t,e){or(t.doc,Ye(e,0),rr(t.doc,Ye(e+1,0)))}function Cr(e,r,n,i){t.defaults[e]=r,n&&(xo[e]=i?function(t,e,r){r!=Co&&n(t,e,r)}:n)}function kr(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var r={};for(var n in e){var i=e[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function Ar(t,e,r){return t.startState?t.startState(e,r):!0}function Mr(t){return"string"==typeof t?Eo[t]:t}function Sr(t,e,r){function n(e){e=Mr(e);var i=e[t];if(i===!1)return"stop";if(null!=i&&r(i))return!0;if(e.nofallthrough)return"stop";var o=e.fallthrough;if(null==o)return!1;if("[object Array]"!=Object.prototype.toString.call(o))return n(o);for(var a=0,l=o.length;l>a;++a){var s=n(o[a]);if(s)return s}return!1}for(var i=0;i<e.length;++i){var o=n(e[i]);if(o)return"stop"!=o}}function Lr(t){var e=Jo[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function Tr(t,e){if($i&&34==t.keyCode&&t["char"])return!1;var r=Jo[t.keyCode];return null==r||t.altGraphKey?!1:(t.altKey&&(r="Alt-"+r),(lo?t.metaKey:t.ctrlKey)&&(r="Ctrl-"+r),(lo?t.ctrlKey:t.metaKey)&&(r="Cmd-"+r),!e&&t.shiftKey&&(r="Shift-"+r),r)}function Er(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0}function Or(t,e){this.lines=[],this.type=e,this.doc=t}function Nr(t,e,r,n,i){if(n&&n.shared)return Pr(t,e,r,n,i);if(t.cm&&!t.cm.curOp)return le(t.cm,Nr)(t,e,r,n,i);var o=new Or(t,i);if(n&&fi(n,o),Je(r,e)||Qe(e,r)&&o.clearWhenEmpty!==!1)return o;if(o.replacedWith&&(o.collapsed=!0,o.replacedWith=vi("span",[o.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||(o.replacedWith.ignoreEvents=!0)),o.collapsed){if(Xr(t,e.line,e,r,o)||e.line!=r.line&&Xr(t,r.line,e,r,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");co=!0}o.addToHistory&&Wn(t,{from:e,to:r,origin:"markText"},{head:t.sel.head,anchor:t.sel.anchor},0/0);var a,l=e.line,s=t.cm;return t.iter(l,r.line+1,function(n){s&&o.collapsed&&!s.options.lineWrapping&&Yr(t,n)==s.display.maxLine&&(a=!0);var i={from:null,to:null,marker:o};l==e.line&&(i.from=e.ch),l==r.line&&(i.to=r.ch),o.collapsed&&l!=e.line&&Ln(n,0),Dr(n,i),++l}),o.collapsed&&t.iter(e.line,r.line+1,function(e){Qr(t,e)&&Ln(e,0)}),o.clearOnEnter&&Yn(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(uo=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++Oo,o.atomic=!0),s&&(a&&(s.curOp.updateMaxLine=!0),(o.className||o.title||o.startStyle||o.endStyle||o.collapsed)&&ce(s,e.line,r.line+1),o.atomic&&sr(s)),o}function Hr(t,e){this.markers=t,this.primary=e;for(var r=0,n=this;r<t.length;++r)t[r].parent=this,Yn(t[r],"clear",function(){n.clear()})}function Pr(t,e,r,n,i){n=fi(n),n.shared=!1;var o=[Nr(t,e,r,n,i)],a=o[0],l=n.replacedWith;return Cn(t,function(t){l&&(n.replacedWith=l.cloneNode(!0)),o.push(Nr(t,rr(t,e),rr(t,r),n,i));for(var s=0;s<t.linked.length;++s)if(t.linked[s].isParent)return;a=li(o)}),new Hr(o,a)}function Ir(t,e){if(t)for(var r=0;r<t.length;++r){var n=t[r];if(n.marker==e)return n}}function Wr(t,e){for(var r,n=0;n<t.length;++n)t[n]!=e&&(r||(r=[])).push(t[n]);return r}function Dr(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}function Rr(t,e,r){if(t)for(var n,i=0;i<t.length;++i){var o=t[i],a=o.marker,l=null==o.from||(a.inclusiveLeft?o.from<=e:o.from<e);if(l||o.from==e&&"bookmark"==a.type&&(!r||!o.marker.insertLeft)){var s=null==o.to||(a.inclusiveRight?o.to>=e:o.to>e);(n||(n=[])).push({from:o.from,to:s?null:o.to,marker:a})}}return n}function zr(t,e,r){if(t)for(var n,i=0;i<t.length;++i){var o=t[i],a=o.marker,l=null==o.to||(a.inclusiveRight?o.to>=e:o.to>e);if(l||o.from==e&&"bookmark"==a.type&&(!r||o.marker.insertLeft)){var s=null==o.from||(a.inclusiveLeft?o.from<=e:o.from<e);(n||(n=[])).push({from:s?null:o.from-e,to:null==o.to?null:o.to-e,marker:a})}}return n}function jr(t,e){var r=ir(t,e.from.line)&&An(t,e.from.line).markedSpans,n=ir(t,e.to.line)&&An(t,e.to.line).markedSpans;if(!r&&!n)return null;var i=e.from.ch,o=e.to.ch,a=Qe(e.from,e.to),l=Rr(r,i,a),s=zr(n,o,a),u=1==e.text.length,c=li(e.text).length+(u?i:0);if(l)for(var f=0;f<l.length;++f){var d=l[f];if(null==d.to){var h=Ir(s,d.marker);h?u&&(d.to=null==h.to?null:h.to+c):d.to=i}}if(s)for(var f=0;f<s.length;++f){var d=s[f];if(null!=d.to&&(d.to+=c),null==d.from){var h=Ir(l,d.marker);h||(d.from=c,u&&(l||(l=[])).push(d))}else d.from+=c,u&&(l||(l=[])).push(d)}l&&(l=_r(l)),s&&s!=l&&(s=_r(s));var p=[l];if(!u){var m,g=e.text.length-2;if(g>0&&l)for(var f=0;f<l.length;++f)null==l[f].to&&(m||(m=[])).push({from:null,to:null,marker:l[f].marker});for(var f=0;g>f;++f)p.push(m);p.push(s)}return p}function _r(t){for(var e=0;e<t.length;++e){var r=t[e];null!=r.from&&r.from==r.to&&r.marker.clearWhenEmpty!==!1&&t.splice(e--,1)}return t.length?t:null}function Fr(t,e){var r=Rn(t,e),n=jr(t,e);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],a=n[i];if(o&&a)t:for(var l=0;l<a.length;++l){for(var s=a[l],u=0;u<o.length;++u)if(o[u].marker==s.marker)continue t;o.push(s)}else a&&(r[i]=a)}return r}function Br(t,e,r){var n=null;if(t.iter(e.line,r.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var r=t.markedSpans[e].marker;!r.readOnly||n&&-1!=ui(n,r)||(n||(n=[])).push(r)}}),!n)return null;for(var i=[{from:e,to:r}],o=0;o<n.length;++o)for(var a=n[o],l=a.find(),s=0;s<i.length;++s){var u=i[s];if(!Je(u.to,l.from)&&!Je(l.to,u.from)){var c=[s,1];(Je(u.from,l.from)||!a.inclusiveLeft&&Qe(u.from,l.from))&&c.push({from:u.from,to:l.from}),(Je(l.to,u.to)||!a.inclusiveRight&&Qe(u.to,l.to))&&c.push({from:l.to,to:u.to}),i.splice.apply(i,c),s+=c.length-1}}return i}function Vr(t){return t.inclusiveLeft?-1:0}function Gr(t){return t.inclusiveRight?1:0}function Kr(t,e){var r=t.lines.length-e.lines.length;if(0!=r)return r;var n=t.find(),i=e.find(),o=Ze(n.from,i.from)||Vr(t)-Vr(e);if(o)return-o;var a=Ze(n.to,i.to)||Gr(t)-Gr(e);return a?a:e.id-t.id}function Ur(t,e){var r,n=co&&t.markedSpans;if(n)for(var i,o=0;o<n.length;++o)i=n[o],i.marker.collapsed&&null==(e?i.from:i.to)&&(!r||Kr(r,i.marker)<0)&&(r=i.marker);return r}function $r(t){return Ur(t,!0)}function qr(t){return Ur(t,!1)}function Xr(t,e,r,n,i){var o=An(t,e),a=co&&o.markedSpans;if(a)for(var l=0;l<a.length;++l){var s=a[l];if(s.marker.collapsed){var u=s.marker.find(!0),c=Ze(u.from,r)||Vr(s.marker)-Vr(i),f=Ze(u.to,n)||Gr(s.marker)-Gr(i);if(!(c>=0&&0>=f||0>=c&&f>=0)&&(0>=c&&(Ze(u.to,r)||Gr(s.marker)-Vr(i))>0||c>=0&&(Ze(u.from,n)||Vr(s.marker)-Gr(i))<0))return!0}}}function Yr(t,e){for(var r;r=$r(e);)e=An(t,r.find().from.line);return e}function Qr(t,e){var r=co&&e.markedSpans;if(r)for(var n,i=0;i<r.length;++i)if(n=r[i],n.marker.collapsed){if(null==n.from)return!0;if(!n.marker.replacedWith&&0==n.from&&n.marker.inclusiveLeft&&Jr(t,e,n))return!0}}function Jr(t,e,r){if(null==r.to){var n=r.marker.find().to,i=An(t,n.line);return Jr(t,i,Ir(i.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==e.text.length)return!0;for(var o,a=0;a<e.markedSpans.length;++a)if(o=e.markedSpans[a],o.marker.collapsed&&!o.marker.replacedWith&&o.from==r.to&&(null==o.to||o.to!=r.from)&&(o.marker.inclusiveLeft||r.marker.inclusiveRight)&&Jr(t,e,o))return!0}function Zr(t){var e=t.markedSpans;if(e){for(var r=0;r<e.length;++r)e[r].marker.detachLine(t);t.markedSpans=null}}function tn(t,e){if(e){for(var r=0;r<e.length;++r)e[r].marker.attachLine(t);t.markedSpans=e}}function en(t){return function(){var e=!this.cm.curOp;e&&oe(this.cm);try{var r=t.apply(this,arguments)}finally{e&&ae(this.cm)}return r}}function rn(t){return null!=t.height?t.height:(t.node.parentNode&&1==t.node.parentNode.nodeType||bi(t.cm.display.measure,vi("div",[t.node],null,"position: relative")),t.height=t.node.offsetHeight)}function nn(t,e,r,n){var i=new No(t,r,n);return i.noHScroll&&(t.display.alignWidgets=!0),vr(t,e,function(e){var r=e.widgets||(e.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length-1,Math.max(0,i.insertAt)),0,i),i.line=e,!Qr(t.doc,e)||i.showIfHidden){var n=On(t,e)<t.doc.scrollTop;Ln(e,e.height+rn(i)),n&&mr(t,0,i.height),t.curOp.forceUpdate=!0}return!0}),i}function on(t,e,r,n){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),Zr(t),tn(t,r);var i=n?n(t):1;i!=t.height&&Ln(t,i)}function an(t){t.parent=null,Zr(t)}function ln(e,r,n,i,o,a){var l=n.flattenSpans;null==l&&(l=e.options.flattenSpans);var s,u=0,c=null,f=new Er(r,e.options.tabSize);for(""==r&&n.blankLine&&n.blankLine(i);!f.eol();){if(f.pos>e.options.maxHighlightLength?(l=!1,a&&cn(e,r,i,f.pos),f.pos=r.length,s=null):s=n.token(f,i),e.options.addModeClass){var d=t.innerMode(n,i).mode.name;d&&(s="m-"+(s?d+" "+s:d))}l&&c==s||(u<f.start&&o(f.start,c),u=f.start,c=s),f.start=f.pos}for(;u<f.pos;){var h=Math.min(f.pos,u+5e4);o(h,c),u=h}}function sn(t,e,r,n){var i=[t.state.modeGen];ln(t,e.text,t.doc.mode,r,function(t,e){i.push(t,e)},n);for(var o=0;o<t.state.overlays.length;++o){var a=t.state.overlays[o],l=1,s=0;ln(t,e.text,a.mode,!0,function(t,e){for(var r=l;t>s;){var n=i[l];n>t&&i.splice(l,1,t,i[l+1],n),l+=2,s=Math.min(t,n)}if(e)if(a.opaque)i.splice(r,l-r,t,e),l=r+2;else for(;l>r;r+=2){var o=i[r+1];i[r+1]=o?o+" "+e:e}})}return i}function un(t,e){return e.styles&&e.styles[0]==t.state.modeGen||(e.styles=sn(t,e,e.stateAfter=D(t,Tn(e)))),e.styles}function cn(t,e,r,n){var i=t.doc.mode,o=new Er(e,t.options.tabSize);for(o.start=o.pos=n||0,""==e&&i.blankLine&&i.blankLine(r);!o.eol()&&o.pos<=t.options.maxHighlightLength;)i.token(o,r),o.start=o.pos}function fn(t,e){if(!t)return null;for(;;){var r=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;t=t.slice(0,r.index)+t.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==e[n]?e[n]=r[2]:new RegExp("(?:^|s)"+r[2]+"(?:$|s)").test(e[n])||(e[n]+=" "+r[2])}if(/^\s*$/.test(t))return null;var i=e.cm.options.addModeClass?Io:Po;return i[t]||(i[t]=t.replace(/\S+/g,"cm-$&"))}function dn(t,e,r,n){for(var i,o=e,a=!0;i=$r(o);)o=An(t.doc,i.find().from.line);var l={pre:vi("pre"),col:0,pos:0,measure:null,measuredSomething:!1,cm:t,copyWidgets:n};do{o.text&&(a=!1),l.measure=o==e&&r,l.pos=0,l.addToken=l.measure?mn:pn,(Vi||Gi)&&t.getOption("lineWrapping")&&(l.addToken=gn(l.addToken));var s=yn(o,l,un(t,o));r&&o==e&&!l.measuredSomething&&(r[0]=l.pre.appendChild(Ai(t.display.measure)),l.measuredSomething=!0),s&&(o=An(t.doc,s.to.line))}while(s);!r||l.measuredSomething||r[0]||(r[0]=l.pre.appendChild(a?vi("span"," "):Ai(t.display.measure))),l.pre.firstChild||Qr(t.doc,e)||l.pre.appendChild(document.createTextNode(" "));var u;if(r&&Vi&&(u=Nn(o))){var c=u.length-1;u[c].from==u[c].to&&--c;var f=u[c],d=u[c-1];if(f.from+1==f.to&&d&&f.level<d.level){var h=r[l.pos-1];h&&h.parentNode.insertBefore(h.measureRight=Ai(t.display.measure),h.nextSibling)}}var p=l.textClass?l.textClass+" "+(e.textClass||""):e.textClass;return p&&(l.pre.className=p),Jn(t,"renderLine",t,e,l.pre),l}function hn(t){var e=vi("span","•","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e}function pn(t,e,r,n,i,o){if(e){var a=t.cm.options.specialChars;if(a.test(e))for(var l=document.createDocumentFragment(),s=0;;){a.lastIndex=s;var u=a.exec(e),c=u?u.index-s:e.length-s;if(c&&(l.appendChild(document.createTextNode(e.slice(s,s+c))),t.col+=c),!u)break;if(s+=c+1,"	"==u[0]){var f=t.cm.options.tabSize,d=f-t.col%f;l.appendChild(vi("span",ai(d),"cm-tab")),t.col+=d}else{var h=t.cm.options.specialCharPlaceholder(u[0]);l.appendChild(h),t.col+=1}}else{t.col+=e.length;var l=document.createTextNode(e)}if(r||n||i||t.measure){var p=r||"";n&&(p+=n),i&&(p+=i);var h=vi("span",[l],p);return o&&(h.title=o),t.pre.appendChild(h)}t.pre.appendChild(l)}}function mn(t,e,r,n,i){for(var o=t.cm.options.lineWrapping,a=0;a<e.length;++a){for(var l=0==a,s=a+1;s<e.length&&gi(e.charAt(s));)++s;var u=e.slice(a,s);a=s-1,a&&o&&Ci(e,a)&&t.pre.appendChild(vi("wbr"));var c=t.measure[t.pos],f=t.measure[t.pos]=pn(t,u,r,l&&n,a==e.length-1&&i);c&&(f.leftSide=c.leftSide||c),zi&&o&&" "==u&&a&&!/\s/.test(e.charAt(a-1))&&a<e.length-1&&!/\s/.test(e.charAt(a+1))&&(f.style.whiteSpace="normal"),t.pos+=u.length}e.length&&(t.measuredSomething=!0)}function gn(t){function e(t){for(var e=" ",r=0;r<t.length-2;++r)e+=r%2?" ":" ";return e+=" "}return function(r,n,i,o,a,l){return t(r,n.replace(/ {3,}/g,e),i,o,a,l)}}function vn(t,e,r,n){var i=!n&&r.replacedWith;if(i&&(t.copyWidgets&&(i=i.cloneNode(!0)),t.pre.appendChild(i),t.measure)){if(e)t.measure[t.pos]=i;else{var o=Ai(t.cm.display.measure);if("bookmark"!=r.type||r.insertLeft){if(t.measure[t.pos])return;t.measure[t.pos]=t.pre.insertBefore(o,i)}else t.measure[t.pos]=t.pre.appendChild(o)}t.measuredSomething=!0}t.pos+=e}function yn(t,e,r){var n=t.markedSpans,i=t.text,o=0;if(n)for(var a,l,s,u,c,f,d=i.length,h=0,p=1,m="",g=0;;){if(g==h){l=s=u=c="",f=null,g=1/0;for(var v=[],y=0;y<n.length;++y){var b=n[y],x=b.marker;b.from<=h&&(null==b.to||b.to>h)?(null!=b.to&&g>b.to&&(g=b.to,s=""),x.className&&(l+=" "+x.className),x.startStyle&&b.from==h&&(u+=" "+x.startStyle),x.endStyle&&b.to==g&&(s+=" "+x.endStyle),x.title&&!c&&(c=x.title),x.collapsed&&(!f||Kr(f.marker,x)<0)&&(f=b)):b.from>h&&g>b.from&&(g=b.from),"bookmark"==x.type&&b.from==h&&x.replacedWith&&v.push(x)}if(f&&(f.from||0)==h&&(vn(e,(null==f.to?d:f.to)-h,f.marker,null==f.from),null==f.to))return f.marker.find();if(!f&&v.length)for(var y=0;y<v.length;++y)vn(e,0,v[y])}if(h>=d)break;for(var w=Math.min(d,g);;){if(m){var C=h+m.length;if(!f){var k=C>w?m.slice(0,w-h):m;e.addToken(e,k,a?a+l:l,u,h+k.length==g?s:"",c)}if(C>=w){m=m.slice(w-h),h=w;break}h=C,u=""}m=i.slice(o,o=r[p++]),a=fn(r[p++],e)}}else for(var p=1;p<r.length;p+=2)e.addToken(e,i.slice(o,o=r[p]),fn(r[p+1],e))}function bn(t,e,r,n,i){function o(t){return r?r[t]:null}function a(t,r,n){on(t,r,n,i),Zn(t,"change",t,e)}var l=e.from,s=e.to,u=e.text,c=An(t,l.line),f=An(t,s.line),d=li(u),h=o(u.length-1),p=s.line-l.line;if(0!=l.ch||0!=s.ch||""!=d||t.cm&&!t.cm.options.wholeLineUpdateBefore)if(c==f)if(1==u.length)a(c,c.text.slice(0,l.ch)+d+c.text.slice(s.ch),h);else{for(var m=[],g=1,v=u.length-1;v>g;++g)m.push(new Ho(u[g],o(g),i));m.push(new Ho(d+c.text.slice(s.ch),h,i)),a(c,c.text.slice(0,l.ch)+u[0],o(0)),t.insert(l.line+1,m)}else if(1==u.length)a(c,c.text.slice(0,l.ch)+u[0]+f.text.slice(s.ch),o(0)),t.remove(l.line+1,p);else{a(c,c.text.slice(0,l.ch)+u[0],o(0)),a(f,d+f.text.slice(s.ch),h);for(var g=1,v=u.length-1,m=[];v>g;++g)m.push(new Ho(u[g],o(g),i));p>1&&t.remove(l.line+1,p-1),t.insert(l.line+1,m)}else{for(var g=0,v=u.length-1,m=[];v>g;++g)m.push(new Ho(u[g],o(g),i));a(f,f.text,h),p&&t.remove(l.line,p),m.length&&t.insert(l.line,m)}Zn(t,"change",t,e),lr(t,n.anchor,n.head,null,!0)}function xn(t){this.lines=t,this.parent=null;for(var e=0,r=t.length,n=0;r>e;++e)t[e].parent=this,n+=t[e].height;this.height=n}function wn(t){this.children=t;for(var e=0,r=0,n=0,i=t.length;i>n;++n){var o=t[n];e+=o.chunkSize(),r+=o.height,o.parent=this}this.size=e,this.height=r,this.parent=null
}function Cn(t,e,r){function n(t,i,o){if(t.linked)for(var a=0;a<t.linked.length;++a){var l=t.linked[a];if(l.doc!=i){var s=o&&l.sharedHist;(!r||s)&&(e(l.doc,s),n(l.doc,t,s))}}}n(t,null,!0)}function kn(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,a(t),r(t),t.options.lineWrapping||d(t),t.options.mode=e.modeOption,ce(t)}function An(t,e){for(e-=t.first;!t.lines;)for(var r=0;;++r){var n=t.children[r],i=n.chunkSize();if(i>e){t=n;break}e-=i}return t.lines[e]}function Mn(t,e,r){var n=[],i=e.line;return t.iter(e.line,r.line+1,function(t){var o=t.text;i==r.line&&(o=o.slice(0,r.ch)),i==e.line&&(o=o.slice(e.ch)),n.push(o),++i}),n}function Sn(t,e,r){var n=[];return t.iter(e,r,function(t){n.push(t.text)}),n}function Ln(t,e){for(var r=e-t.height,n=t;n;n=n.parent)n.height+=r}function Tn(t){if(null==t.parent)return null;for(var e=t.parent,r=ui(e.lines,t),n=e.parent;n;e=n,n=n.parent)for(var i=0;n.children[i]!=e;++i)r+=n.children[i].chunkSize();return r+e.first}function En(t,e){var r=t.first;t:do{for(var n=0,i=t.children.length;i>n;++n){var o=t.children[n],a=o.height;if(a>e){t=o;continue t}e-=a,r+=o.chunkSize()}return r}while(!t.lines);for(var n=0,i=t.lines.length;i>n;++n){var l=t.lines[n],s=l.height;if(s>e)break;e-=s}return r+n}function On(t,e){e=Yr(t.doc,e);for(var r=0,n=e.parent,i=0;i<n.lines.length;++i){var o=n.lines[i];if(o==e)break;r+=o.height}for(var a=n.parent;a;n=a,a=n.parent)for(var i=0;i<a.children.length;++i){var l=a.children[i];if(l==n)break;r+=l.height}return r}function Nn(t){var e=t.order;return null==e&&(e=t.order=ta(t.text)),e}function Hn(t){return{done:[],undone:[],undoDepth:1/0,lastTime:0,lastOp:null,lastOrigin:null,generation:t||1,maxGeneration:t||1}}function Pn(t,e,r,n){var i=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,r),Math.min(t.first+t.size,n),function(r){r.markedSpans&&((i||(i=e["spans_"+t.id]={}))[o]=r.markedSpans),++o})}function In(t,e){var r={line:e.from.line,ch:e.from.ch},n={from:r,to:bo(e),text:Mn(t,e.from,e.to)};return Pn(t,n,e.from.line,e.to.line+1),Cn(t,function(t){Pn(t,n,e.from.line,e.to.line+1)},!0),n}function Wn(t,e,r,n){var i=t.history;i.undone.length=0;var o=+new Date,a=li(i.done);if(a&&(i.lastOp==n||i.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&t.cm&&i.lastTime>o-t.cm.options.historyEventDelay||"*"==e.origin.charAt(0)))){var l=li(a.changes);Qe(e.from,e.to)&&Qe(e.from,l.to)?l.to=bo(e):a.changes.push(In(t,e)),a.anchorAfter=r.anchor,a.headAfter=r.head}else for(a={changes:[In(t,e)],generation:i.generation,anchorBefore:t.sel.anchor,headBefore:t.sel.head,anchorAfter:r.anchor,headAfter:r.head},i.done.push(a);i.done.length>i.undoDepth;)i.done.shift();i.generation=++i.maxGeneration,i.lastTime=o,i.lastOp=n,i.lastOrigin=e.origin,l||Jn(t,"historyAdded")}function Dn(t){if(!t)return null;for(var e,r=0;r<t.length;++r)t[r].marker.explicitlyCleared?e||(e=t.slice(0,r)):e&&e.push(t[r]);return e?e.length?e:null:t}function Rn(t,e){var r=e["spans_"+t.id];if(!r)return null;for(var n=0,i=[];n<e.text.length;++n)i.push(Dn(r[n]));return i}function zn(t,e){for(var r=0,n=[];r<t.length;++r){var i=t[r],o=i.changes,a=[];n.push({changes:a,anchorBefore:i.anchorBefore,headBefore:i.headBefore,anchorAfter:i.anchorAfter,headAfter:i.headAfter});for(var l=0;l<o.length;++l){var s,u=o[l];if(a.push({from:u.from,to:u.to,text:u.text}),e)for(var c in u)(s=c.match(/^spans_(\d+)$/))&&ui(e,Number(s[1]))>-1&&(li(a)[c]=u[c],delete u[c])}}return n}function jn(t,e,r,n){r<t.line?t.line+=n:e<t.line&&(t.line=e,t.ch=0)}function _n(t,e,r,n){for(var i=0;i<t.length;++i){for(var o=t[i],a=!0,l=0;l<o.changes.length;++l){var s=o.changes[l];if(o.copied||(s.from=tr(s.from),s.to=tr(s.to)),r<s.from.line)s.from.line+=n,s.to.line+=n;else if(e<=s.to.line){a=!1;break}}o.copied||(o.anchorBefore=tr(o.anchorBefore),o.headBefore=tr(o.headBefore),o.anchorAfter=tr(o.anchorAfter),o.readAfter=tr(o.headAfter),o.copied=!0),a?(jn(o.anchorBefore),jn(o.headBefore),jn(o.anchorAfter),jn(o.headAfter)):(t.splice(0,i+1),i=0)}}function Fn(t,e){var r=e.from.line,n=e.to.line,i=e.text.length-(n-r)-1;_n(t.done,r,n,i),_n(t.undone,r,n,i)}function Bn(){$n(this)}function Vn(t){return t.stop||(t.stop=Bn),t}function Gn(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function Kn(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function Un(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function $n(t){Gn(t),Kn(t)}function qn(t){return t.target||t.srcElement}function Xn(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),eo&&t.ctrlKey&&1==e&&(e=3),e}function Yn(t,e,r){if(t.addEventListener)t.addEventListener(e,r,!1);else if(t.attachEvent)t.attachEvent("on"+e,r);else{var n=t._handlers||(t._handlers={}),i=n[e]||(n[e]=[]);i.push(r)}}function Qn(t,e,r){if(t.removeEventListener)t.removeEventListener(e,r,!1);else if(t.detachEvent)t.detachEvent("on"+e,r);else{var n=t._handlers&&t._handlers[e];if(!n)return;for(var i=0;i<n.length;++i)if(n[i]==r){n.splice(i,1);break}}}function Jn(t,e){var r=t._handlers&&t._handlers[e];if(r)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}function Zn(t,e){function r(t){return function(){t.apply(null,i)}}var n=t._handlers&&t._handlers[e];if(n){var i=Array.prototype.slice.call(arguments,2);jo||(++_o,jo=[],setTimeout(ei,0));for(var o=0;o<n.length;++o)jo.push(r(n[o]))}}function ti(t,e,r){return Jn(t,r||e.type,t,e),Un(e)||e.codemirrorIgnore}function ei(){--_o;var t=jo;jo=null;for(var e=0;e<t.length;++e)t[e]()}function ri(t,e){var r=t._handlers&&t._handlers[e];return r&&r.length>0}function ni(t){t.prototype.on=function(t,e){Yn(this,t,e)},t.prototype.off=function(t,e){Qn(this,t,e)}}function ii(){this.id=null}function oi(t,e,r,n,i){null==e&&(e=t.search(/[^\s\u00a0]/),-1==e&&(e=t.length));for(var o=n||0,a=i||0;e>o;++o)"	"==t.charAt(o)?a+=r-a%r:++a;return a}function ai(t){for(;Vo.length<=t;)Vo.push(li(Vo)+" ");return Vo[t]}function li(t){return t[t.length-1]}function si(t){if(Zi)t.selectionStart=0,t.selectionEnd=t.value.length;else try{t.select()}catch(e){}}function ui(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;n>r;++r)if(t[r]==e)return r;return-1}function ci(t,e){function r(){}r.prototype=t;var n=new r;return e&&fi(e,n),n}function fi(t,e){e||(e={});for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function di(t){for(var e=[],r=0;t>r;++r)e.push(void 0);return e}function hi(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function pi(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Go.test(t))}function mi(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}function gi(t){return t.charCodeAt(0)>=768&&Ko.test(t)}function vi(t,e,r,n){var i=document.createElement(t);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof e)xi(i,e);else if(e)for(var o=0;o<e.length;++o)i.appendChild(e[o]);return i}function yi(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function bi(t,e){return yi(t).appendChild(e)}function xi(t,e){_i?(t.innerHTML="",t.appendChild(document.createTextNode(e))):t.textContent=e}function wi(t){return t.getBoundingClientRect()}function Ci(){return!1}function ki(t){if(null!=$o)return $o;var e=vi("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return bi(t,e),e.offsetWidth&&($o=e.offsetHeight-e.clientHeight),$o||0}function Ai(t){if(null==qo){var e=vi("span","​");bi(t,vi("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(qo=e.offsetWidth<=1&&e.offsetHeight>2&&!ji)}return qo?vi("span","​"):vi("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px")}function Mi(t,e,r,n){if(!t)return n(e,r,"ltr");for(var i=!1,o=0;o<t.length;++o){var a=t[o];(a.from<r&&a.to>e||e==r&&a.to==e)&&(n(Math.max(a.from,e),Math.min(a.to,r),1==a.level?"rtl":"ltr"),i=!0)}i||n(e,r,"ltr")}function Si(t){return t.level%2?t.to:t.from}function Li(t){return t.level%2?t.from:t.to}function Ti(t){var e=Nn(t);return e?Si(e[0]):0}function Ei(t){var e=Nn(t);return e?Li(li(e)):t.text.length}function Oi(t,e){var r=An(t.doc,e),n=Yr(t.doc,r);n!=r&&(e=Tn(n));var i=Nn(n),o=i?i[0].level%2?Ei(n):Ti(n):0;return Ye(e,o)}function Ni(t,e){for(var r,n;r=qr(n=An(t.doc,e));)e=r.find().to.line;var i=Nn(n),o=i?i[0].level%2?Ti(n):Ei(n):n.text.length;return Ye(e,o)}function Hi(t,e,r){var n=t[0].level;return e==n?!0:r==n?!1:r>e}function Pi(t,e){Zo=null;for(var r,n=0;n<t.length;++n){var i=t[n];if(i.from<e&&i.to>e)return n;if(i.from==e||i.to==e){if(null!=r)return Hi(t,i.level,t[r].level)?(i.from!=i.to&&(Zo=r),n):(i.from!=i.to&&(Zo=n),r);r=n}}return r}function Ii(t,e,r,n){if(!n)return e+r;do e+=r;while(e>0&&gi(t.text.charAt(e)));return e}function Wi(t,e,r,n){var i=Nn(t);if(!i)return Di(t,e,r,n);for(var o=Pi(i,e),a=i[o],l=Ii(t,e,a.level%2?-r:r,n);;){if(l>a.from&&l<a.to)return l;if(l==a.from||l==a.to)return Pi(i,l)==o?l:(a=i[o+=r],r>0==a.level%2?a.to:a.from);if(a=i[o+=r],!a)return null;l=r>0==a.level%2?Ii(t,a.to,-1,n):Ii(t,a.from,1,n)}}function Di(t,e,r,n){var i=e+r;if(n)for(;i>0&&gi(t.text.charAt(i));)i+=r;return 0>i||i>t.text.length?null:i}var Ri=/gecko\/\d/i.test(navigator.userAgent),zi=/MSIE \d/.test(navigator.userAgent),ji=zi&&(null==document.documentMode||document.documentMode<8),_i=zi&&(null==document.documentMode||document.documentMode<9),Fi=zi&&(null==document.documentMode||document.documentMode<10),Bi=/Trident\/([7-9]|\d{2,})\./.test(navigator.userAgent),Vi=zi||Bi,Gi=/WebKit\//.test(navigator.userAgent),Ki=Gi&&/Qt\/\d+\.\d+/.test(navigator.userAgent),Ui=/Chrome\//.test(navigator.userAgent),$i=/Opera\//.test(navigator.userAgent),qi=/Apple Computer/.test(navigator.vendor),Xi=/KHTML\//.test(navigator.userAgent),Yi=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent),Qi=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),Ji=/PhantomJS/.test(navigator.userAgent),Zi=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),to=Zi||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),eo=Zi||/Mac/.test(navigator.platform),ro=/win/i.test(navigator.platform),no=$i&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);no&&(no=Number(no[1])),no&&no>=15&&($i=!1,Gi=!0);var io,oo,ao,lo=eo&&(Ki||$i&&(null==no||12.11>no)),so=Ri||Vi&&!_i,uo=!1,co=!1,fo=0,ho=0,po=0,mo=null;Vi?mo=-.53:Ri?mo=15:Ui?mo=-.7:qi&&(mo=-1/3);var go,vo,yo=null,bo=t.changeEnd=function(t){return t.text?Ye(t.from.line+t.text.length-1,li(t.text).length+(1==t.text.length?t.from.ch:0)):t.to};t.Pos=Ye,t.prototype={constructor:t,focus:function(){window.focus(),me(this),de(this)},setOption:function(t,e){var r=this.options,n=r[t];(r[t]!=e||"mode"==t)&&(r[t]=e,xo.hasOwnProperty(t)&&le(this,xo[t])(this,e,n))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](t)},removeKeyMap:function(t){for(var e=this.state.keyMaps,r=0;r<e.length;++r)if(e[r]==t||"string"!=typeof e[r]&&e[r].name==t)return e.splice(r,1),!0},addOverlay:le(null,function(e,r){var n=e.token?e:t.getMode(this.options,e);if(n.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:n,modeSpec:e,opaque:r&&r.opaque}),this.state.modeGen++,ce(this)}),removeOverlay:le(null,function(t){for(var e=this.state.overlays,r=0;r<e.length;++r){var n=e[r].modeSpec;if(n==t||"string"==typeof t&&n.name==t)return e.splice(r,1),this.state.modeGen++,void ce(this)}}),indentLine:le(null,function(t,e,r){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),ir(this.doc,t)&&gr(this,t,e,r)}),indentSelection:le(null,function(t){var e=this.doc.sel;if(Qe(e.from,e.to))return gr(this,e.from.line,t,!0);for(var r=e.to.line-(e.to.ch?0:1),n=e.from.line;r>=n;++n)gr(this,n,t)}),getTokenAt:function(t,e){var r=this.doc;t=rr(r,t);for(var n=D(this,t.line,e),i=this.doc.mode,o=An(r,t.line),a=new Er(o.text,this.options.tabSize);a.pos<t.ch&&!a.eol();){a.start=a.pos;var l=i.token(a,n)}return{start:a.start,end:a.pos,string:a.current(),className:l||null,type:l||null,state:n}},getTokenTypeAt:function(t){t=rr(this.doc,t);var e=un(this,An(this.doc,t.line)),r=0,n=(e.length-1)/2,i=t.ch;if(0==i)return e[2];for(;;){var o=r+n>>1;if((o?e[2*o-1]:0)>=i)n=o;else{if(!(e[2*o+1]<i))return e[2*o+2];r=o+1}}},getModeAt:function(e){var r=this.doc.mode;return r.innerMode?t.innerMode(r,this.getTokenAt(e).state).mode:r},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var r=[];if(!Lo.hasOwnProperty(e))return Lo;var n=Lo[e],i=this.getModeAt(t);if("string"==typeof i[e])n[i[e]]&&r.push(n[i[e]]);else if(i[e])for(var o=0;o<i[e].length;o++){var a=n[i[e][o]];a&&r.push(a)}else i.helperType&&n[i.helperType]?r.push(n[i.helperType]):n[i.name]&&r.push(n[i.name]);for(var o=0;o<n._global.length;o++){var l=n._global[o];l.pred(i,this)&&-1==ui(r,l.val)&&r.push(l.val)}return r},getStateAfter:function(t,e){var r=this.doc;return t=er(r,null==t?r.first+r.size-1:t),D(this,t+1,e)},cursorCoords:function(t,e){var r,n=this.doc.sel;return r=null==t?n.head:"object"==typeof t?rr(this.doc,t):t?n.from:n.to,Z(this,r,e||"page")},charCoords:function(t,e){return J(this,rr(this.doc,t),e||"page")},coordsChar:function(t,e){return t=Q(this,t,e||"page"),ee(this,t.left,t.top)},lineAtHeight:function(t,e){return t=Q(this,{top:t,left:0},e||"page").top,En(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e){var r=!1,n=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>n&&(t=n,r=!0);var i=An(this.doc,t);return Y(this,An(this.doc,t),{top:0,left:0},e||"page").top+(r?i.height:0)},defaultTextHeight:function(){return ne(this.display)},defaultCharWidth:function(){return ie(this.display)},setGutterMarker:le(null,function(t,e,r){return vr(this,t,function(t){var n=t.gutterMarkers||(t.gutterMarkers={});return n[e]=r,!r&&mi(n)&&(t.gutterMarkers=null),!0})}),clearGutter:le(null,function(t){var e=this,r=e.doc,n=r.first;r.iter(function(r){r.gutterMarkers&&r.gutterMarkers[t]&&(r.gutterMarkers[t]=null,ce(e,n,n+1),mi(r.gutterMarkers)&&(r.gutterMarkers=null)),++n})}),addLineClass:le(null,function(t,e,r){return vr(this,t,function(t){var n="text"==e?"textClass":"background"==e?"bgClass":"wrapClass";if(t[n]){if(new RegExp("(?:^|\\s)"+r+"(?:$|\\s)").test(t[n]))return!1;t[n]+=" "+r}else t[n]=r;return!0})}),removeLineClass:le(null,function(t,e,r){return vr(this,t,function(t){var n="text"==e?"textClass":"background"==e?"bgClass":"wrapClass",i=t[n];if(!i)return!1;if(null==r)t[n]=null;else{var o=i.match(new RegExp("(?:^|\\s+)"+r+"(?:$|\\s+)"));if(!o)return!1;var a=o.index+o[0].length;t[n]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0})}),addLineWidget:le(null,function(t,e,r){return nn(this,t,e,r)}),removeLineWidget:function(t){t.clear()},lineInfo:function(t){if("number"==typeof t){if(!ir(this.doc,t))return null;var e=t;if(t=An(this.doc,t),!t)return null}else{var e=Tn(t);if(null==e)return null}return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},getViewport:function(){return{from:this.display.showingFrom,to:this.display.showingTo}},addWidget:function(t,e,r,n,i){var o=this.display;t=Z(this,rr(this.doc,t));var a=t.bottom,l=t.left;if(e.style.position="absolute",o.sizer.appendChild(e),"over"==n)a=t.top;else if("above"==n||"near"==n){var s=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==n||t.bottom+e.offsetHeight>s)&&t.top>e.offsetHeight?a=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=s&&(a=t.bottom),l+e.offsetWidth>u&&(l=u-e.offsetWidth)}e.style.top=a+"px",e.style.left=e.style.right="","right"==i?(l=o.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==i?l=0:"middle"==i&&(l=(o.sizer.clientWidth-e.offsetWidth)/2),e.style.left=l+"px"),r&&dr(this,l,a,l+e.offsetWidth,a+e.offsetHeight)},triggerOnKeyDown:le(null,We),triggerOnKeyPress:le(null,De),triggerOnKeyUp:le(null,Ie),execCommand:function(t){return To.hasOwnProperty(t)?To[t](this):void 0},findPosH:function(t,e,r,n){var i=1;0>e&&(i=-1,e=-e);for(var o=0,a=rr(this.doc,t);e>o&&(a=yr(this.doc,a,i,r,n),!a.hitSide);++o);return a},moveH:le(null,function(t,e){var r,n=this.doc.sel;r=n.shift||n.extend||Qe(n.from,n.to)?yr(this.doc,n.head,t,e,this.options.rtlMoveVisually):0>t?n.from:n.to,or(this.doc,r,r,t)}),deleteH:le(null,function(t,e){var r=this.doc.sel;Qe(r.from,r.to)?Xe(this.doc,"",r.from,yr(this.doc,r.head,t,e,!1),"+delete"):Xe(this.doc,"",r.from,r.to,"+delete"),this.curOp.userSelChange=!0}),findPosV:function(t,e,r,n){var i=1,o=n;0>e&&(i=-1,e=-e);for(var a=0,l=rr(this.doc,t);e>a;++a){var s=Z(this,l,"div");if(null==o?o=s.left:s.left=o,l=br(this,s,i,r),l.hitSide)break}return l},moveV:le(null,function(t,e){var r,n,i=this.doc.sel;if(i.shift||i.extend||Qe(i.from,i.to)){var o=Z(this,i.head,"div");null!=i.goalColumn&&(o.left=i.goalColumn),r=br(this,o,t,e),"page"==e&&mr(this,0,J(this,r,"div").top-o.top),n=o.left}else r=0>t?i.from:i.to;or(this.doc,r,r,t),null!=n&&(i.goalColumn=n)}),toggleOverwrite:function(t){(null==t||t!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?this.display.cursor.className+=" CodeMirror-overwrite":this.display.cursor.className=this.display.cursor.className.replace(" CodeMirror-overwrite",""),Jn(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return document.activeElement==this.display.input},scrollTo:le(null,function(t,e){pr(this,t,e)}),getScrollInfo:function(){var t=this.display.scroller,e=Fo;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-e,width:t.scrollWidth-e,clientHeight:t.clientHeight-e,clientWidth:t.clientWidth-e}},scrollIntoView:le(null,function(t,e){null==t?t={from:this.doc.sel.head,to:null}:"number"==typeof t?t={from:Ye(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),e||(e=0);var r=t;null!=t.from.line&&(this.curOp.scrollToPos={from:t.from,to:t.to,margin:e},r={from:Z(this,t.from),to:Z(this,t.to)});var n=hr(this,Math.min(r.from.left,r.to.left),Math.min(r.from.top,r.to.top)-e,Math.max(r.from.right,r.to.right),Math.max(r.from.bottom,r.to.bottom)+e);pr(this,n.scrollLeft,n.scrollTop)}),setSize:le(null,function(t,e){function r(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t}null!=t&&(this.display.wrapper.style.width=r(t)),null!=e&&(this.display.wrapper.style.height=r(e)),this.options.lineWrapping&&(this.display.measureLineCache.length=this.display.measureLineCachePos=0),this.curOp.forceUpdate=!0,Jn(this,"refresh",this)}),operation:function(t){return ue(this,t)},refresh:le(null,function(){var t=this.display.cachedTextHeight;$(this),pr(this,this.doc.scrollLeft,this.doc.scrollTop),ce(this),(null==t||Math.abs(t-ne(this.display))>.5)&&a(this),Jn(this,"refresh",this)}),swapDoc:le(null,function(t){var e=this.doc;return e.cm=null,kn(this,t),$(this),pe(this,!0),pr(this,t.scrollLeft,t.scrollTop),Zn(this,"swapDoc",this,e),e}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ni(t);var xo=t.optionHandlers={},wo=t.defaults={},Co=t.Init={toString:function(){return"CodeMirror.Init"}};Cr("value","",function(t,e){t.setValue(e)},!0),Cr("mode",null,function(t,e){t.doc.modeOption=e,r(t)},!0),Cr("indentUnit",2,r,!0),Cr("indentWithTabs",!1),Cr("smartIndent",!0),Cr("tabSize",4,function(t){n(t),$(t),ce(t)},!0),Cr("specialChars",/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\ufeff]/g,function(t,e){t.options.specialChars=new RegExp(e.source+(e.test("	")?"":"|	"),"g"),t.refresh()},!0),Cr("specialCharPlaceholder",hn,function(t){t.refresh()},!0),Cr("electricChars",!0),Cr("rtlMoveVisually",!ro),Cr("wholeLineUpdateBefore",!0),Cr("theme","default",function(t){s(t),u(t)},!0),Cr("keyMap","default",l),Cr("extraKeys",null),Cr("onKeyEvent",null),Cr("onDragEvent",null),Cr("lineWrapping",!1,i,!0),Cr("gutters",[],function(t){h(t.options),u(t)},!0),Cr("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?b(t.display)+"px":"0",t.refresh()},!0),Cr("coverGutterNextToScrollbar",!1,p,!0),Cr("lineNumbers",!1,function(t){h(t.options),u(t)},!0),Cr("firstLineNumber",1,u,!0),Cr("lineNumberFormatter",function(t){return t},u,!0),Cr("showCursorWhenSelecting",!1,E,!0),Cr("resetSelectionOnContextMenu",!0),Cr("readOnly",!1,function(t,e){"nocursor"==e?(ze(t),t.display.input.blur(),t.display.disabled=!0):(t.display.disabled=!1,e||pe(t,!0))}),Cr("disableInput",!1,function(t,e){e||pe(t,!0)},!0),Cr("dragDrop",!0),Cr("cursorBlinkRate",530),Cr("cursorScrollMargin",0),Cr("cursorHeight",1),Cr("workTime",100),Cr("workDelay",100),Cr("flattenSpans",!0,n,!0),Cr("addModeClass",!1,n,!0),Cr("pollInterval",100),Cr("undoDepth",40,function(t,e){t.doc.history.undoDepth=e}),Cr("historyEventDelay",500),Cr("viewportMargin",10,function(t){t.refresh()},!0),Cr("maxHighlightLength",1e4,n,!0),Cr("crudeMeasuringFrom",1e4),Cr("moveInputWithCursor",!0,function(t,e){e||(t.display.inputDiv.style.top=t.display.inputDiv.style.left=0)}),Cr("tabindex",null,function(t,e){t.display.input.tabIndex=e||""}),Cr("autofocus",null);var ko=t.modes={},Ao=t.mimeModes={};t.defineMode=function(e,r){if(t.defaults.mode||"null"==e||(t.defaults.mode=e),arguments.length>2){r.dependencies=[];for(var n=2;n<arguments.length;++n)r.dependencies.push(arguments[n])}ko[e]=r},t.defineMIME=function(t,e){Ao[t]=e},t.resolveMode=function(e){if("string"==typeof e&&Ao.hasOwnProperty(e))e=Ao[e];else if(e&&"string"==typeof e.name&&Ao.hasOwnProperty(e.name)){var r=Ao[e.name];"string"==typeof r&&(r={name:r}),e=ci(r,e),e.name=r.name}else if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return t.resolveMode("application/xml");return"string"==typeof e?{name:e}:e||{name:"null"}},t.getMode=function(e,r){var r=t.resolveMode(r),n=ko[r.name];if(!n)return t.getMode(e,"text/plain");var i=n(e,r);if(Mo.hasOwnProperty(r.name)){var o=Mo[r.name];for(var a in o)o.hasOwnProperty(a)&&(i.hasOwnProperty(a)&&(i["_"+a]=i[a]),i[a]=o[a])}if(i.name=r.name,r.helperType&&(i.helperType=r.helperType),r.modeProps)for(var a in r.modeProps)i[a]=r.modeProps[a];return i},t.defineMode("null",function(){return{token:function(t){t.skipToEnd()}}}),t.defineMIME("text/plain","null");var Mo=t.modeExtensions={};t.extendMode=function(t,e){var r=Mo.hasOwnProperty(t)?Mo[t]:Mo[t]={};fi(e,r)},t.defineExtension=function(e,r){t.prototype[e]=r},t.defineDocExtension=function(t,e){Do.prototype[t]=e},t.defineOption=Cr;var So=[];t.defineInitHook=function(t){So.push(t)};var Lo=t.helpers={};t.registerHelper=function(e,r,n){Lo.hasOwnProperty(e)||(Lo[e]=t[e]={_global:[]}),Lo[e][r]=n},t.registerGlobalHelper=function(e,r,n,i){t.registerHelper(e,r,i),Lo[e]._global.push({pred:n,val:i})},t.isWordChar=pi,t.copyState=kr,t.startState=Ar,t.innerMode=function(t,e){for(;t.innerMode;){var r=t.innerMode(e);if(!r||r.mode==t)break;e=r.state,t=r.mode}return r||{mode:t,state:e}};var To=t.commands={selectAll:function(t){t.setSelection(Ye(t.firstLine(),0),Ye(t.lastLine()))},killLine:function(t){var e=t.getCursor(!0),r=t.getCursor(!1),n=!Qe(e,r);n||t.getLine(e.line).length!=e.ch?t.replaceRange("",e,n?r:Ye(e.line),"+delete"):t.replaceRange("",e,Ye(e.line+1,0),"+delete")},deleteLine:function(t){var e=t.getCursor().line;t.replaceRange("",Ye(e,0),Ye(e+1,0),"+delete")},delLineLeft:function(t){var e=t.getCursor();t.replaceRange("",Ye(e.line,0),e,"+delete")},undo:function(t){t.undo()},redo:function(t){t.redo()},goDocStart:function(t){t.extendSelection(Ye(t.firstLine(),0))},goDocEnd:function(t){t.extendSelection(Ye(t.lastLine()))},goLineStart:function(t){t.extendSelection(Oi(t,t.getCursor().line))},goLineStartSmart:function(t){var e=t.getCursor(),r=Oi(t,e.line),n=t.getLineHandle(r.line),i=Nn(n);if(i&&0!=i[0].level)t.extendSelection(r);else{var o=Math.max(0,n.text.search(/\S/)),a=e.line==r.line&&e.ch<=o&&e.ch;t.extendSelection(Ye(r.line,a?0:o))}},goLineEnd:function(t){t.extendSelection(Ni(t,t.getCursor().line))},goLineRight:function(t){var e=t.charCoords(t.getCursor(),"div").top+5;t.extendSelection(t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:e},"div"))},goLineLeft:function(t){var e=t.charCoords(t.getCursor(),"div").top+5;t.extendSelection(t.coordsChar({left:0,top:e},"div"))},goLineUp:function(t){t.moveV(-1,"line")},goLineDown:function(t){t.moveV(1,"line")},goPageUp:function(t){t.moveV(-1,"page")},goPageDown:function(t){t.moveV(1,"page")},goCharLeft:function(t){t.moveH(-1,"char")},goCharRight:function(t){t.moveH(1,"char")},goColumnLeft:function(t){t.moveH(-1,"column")},goColumnRight:function(t){t.moveH(1,"column")},goWordLeft:function(t){t.moveH(-1,"word")},goGroupRight:function(t){t.moveH(1,"group")},goGroupLeft:function(t){t.moveH(-1,"group")},goWordRight:function(t){t.moveH(1,"word")},delCharBefore:function(t){t.deleteH(-1,"char")},delCharAfter:function(t){t.deleteH(1,"char")},delWordBefore:function(t){t.deleteH(-1,"word")},delWordAfter:function(t){t.deleteH(1,"word")},delGroupBefore:function(t){t.deleteH(-1,"group")},delGroupAfter:function(t){t.deleteH(1,"group")},indentAuto:function(t){t.indentSelection("smart")},indentMore:function(t){t.indentSelection("add")},indentLess:function(t){t.indentSelection("subtract")},insertTab:function(t){t.replaceSelection("	","end","+input")},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.replaceSelection("	","end","+input")},transposeChars:function(t){var e=t.getCursor(),r=t.getLine(e.line);e.ch>0&&e.ch<r.length-1&&t.replaceRange(r.charAt(e.ch)+r.charAt(e.ch-1),Ye(e.line,e.ch-1),Ye(e.line,e.ch+1))},newlineAndIndent:function(t){le(t,function(){t.replaceSelection("\n","end","+input"),t.indentLine(t.getCursor().line,null,!0)})()},toggleOverwrite:function(t){t.toggleOverwrite()}},Eo=t.keyMap={};Eo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},Eo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"},Eo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delLineLeft",fallthrough:["basic","emacsy"]},Eo["default"]=eo?Eo.macDefault:Eo.pcDefault,Eo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},t.lookupKey=Sr,t.isModifierKey=Lr,t.keyName=Tr,t.fromTextArea=function(e,r){function n(){e.value=u.getValue()}if(r||(r={}),r.value=e.value,!r.tabindex&&e.tabindex&&(r.tabindex=e.tabindex),!r.placeholder&&e.placeholder&&(r.placeholder=e.placeholder),null==r.autofocus){var i=document.body;try{i=document.activeElement}catch(o){}r.autofocus=i==e||null!=e.getAttribute("autofocus")&&i==document.body}if(e.form&&(Yn(e.form,"submit",n),!r.leaveSubmitMethodAlone)){var a=e.form,l=a.submit;try{var s=a.submit=function(){n(),a.submit=l,a.submit(),a.submit=s}}catch(o){}}e.style.display="none";var u=t(function(t){e.parentNode.insertBefore(t,e.nextSibling)},r);return u.save=n,u.getTextArea=function(){return e},u.toTextArea=function(){n(),e.parentNode.removeChild(u.getWrapperElement()),e.style.display="",e.form&&(Qn(e.form,"submit",n),"function"==typeof e.form.submit&&(e.form.submit=l))},u},Er.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var r=e==t;else var r=e&&(t.test?t.test(e):t(e));return r?(++this.pos,e):void 0},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);return e>-1?(this.pos=e,!0):void 0},backUp:function(t){this.pos-=t},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=oi(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?oi(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return oi(this.string,null,this.tabSize)-(this.lineStart?oi(this.string,this.lineStart,this.tabSize):0)},match:function(t,e,r){if("string"!=typeof t){var n=this.string.slice(this.pos).match(t);return n&&n.index>0?null:(n&&e!==!1&&(this.pos+=n[0].length),n)}var i=function(t){return r?t.toLowerCase():t},o=this.string.substr(this.pos,t.length);return i(o)==i(t)?(e!==!1&&(this.pos+=t.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}}},t.StringStream=Er,t.TextMarker=Or,ni(Or),Or.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&oe(t),ri(this,"clear")){var r=this.find();r&&Zn(this,"clear",r.from,r.to)}for(var n=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],l=Ir(a.markedSpans,this);null!=l.to&&(i=Tn(a)),a.markedSpans=Wr(a.markedSpans,l),null!=l.from?n=Tn(a):this.collapsed&&!Qr(this.doc,a)&&t&&Ln(a,ne(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var s=Yr(t.doc,this.lines[o]),u=f(t.doc,s);u>t.display.maxLineLength&&(t.display.maxLine=s,t.display.maxLineLength=u,t.display.maxLineChanged=!0)}null!=n&&t&&ce(t,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&sr(t)),e&&ae(t)}},Or.prototype.find=function(t){for(var e,r,n=0;n<this.lines.length;++n){var i=this.lines[n],o=Ir(i.markedSpans,this);if(null!=o.from||null!=o.to){var a=Tn(i);null!=o.from&&(e=Ye(a,o.from)),null!=o.to&&(r=Ye(a,o.to))}}return"bookmark"!=this.type||t?e&&{from:e,to:r}:e},Or.prototype.changed=function(){var t=this.find(),e=this.doc.cm;if(t&&e){"bookmark"!=this.type&&(t=t.from);var r=An(this.doc,t.line);if(B(e,r),t.line>=e.display.showingFrom&&t.line<e.display.showingTo){for(var n=e.display.lineDiv.firstChild;n;n=n.nextSibling)if(n.lineObj==r){n.offsetHeight!=r.height&&Ln(r,n.offsetHeight);break}ue(e,function(){e.curOp.selectionChanged=e.curOp.forceUpdate=e.curOp.updateMaxLine=!0})}}},Or.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=ui(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)
}this.lines.push(t)},Or.prototype.detachLine=function(t){if(this.lines.splice(ui(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}};var Oo=0;t.SharedTextMarker=Hr,ni(Hr),Hr.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();Zn(this,"clear")}},Hr.prototype.find=function(){return this.primary.find()};var No=t.LineWidget=function(t,e,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.cm=t,this.node=e};ni(No),No.prototype.clear=en(function(){var t=this.line.widgets,e=Tn(this.line);if(null!=e&&t){for(var r=0;r<t.length;++r)t[r]==this&&t.splice(r--,1);t.length||(this.line.widgets=null);var n=On(this.cm,this.line)<this.cm.doc.scrollTop;Ln(this.line,Math.max(0,this.line.height-rn(this))),n&&mr(this.cm,0,-this.height),ce(this.cm,e,e+1)}}),No.prototype.changed=en(function(){var t=this.height;this.height=null;var e=rn(this)-t;if(e){Ln(this.line,this.line.height+e);var r=Tn(this.line);ce(this.cm,r,r+1)}});var Ho=t.Line=function(t,e,r){this.text=t,tn(this,e),this.height=r?r(this):1};ni(Ho),Ho.prototype.lineNo=function(){return Tn(this)};var Po={},Io={};xn.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var r=t,n=t+e;n>r;++r){var i=this.lines[r];this.height-=i.height,an(i),Zn(i,"delete")}this.lines.splice(t,e)},collapse:function(t){t.splice.apply(t,[t.length,0].concat(this.lines))},insertInner:function(t,e,r){this.height+=r,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var n=0,i=e.length;i>n;++n)e[n].parent=this},iterN:function(t,e,r){for(var n=t+e;n>t;++t)if(r(this.lines[t]))return!0}},wn.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(i>t){var o=Math.min(e,i-t),a=n.height;if(n.removeInner(t,o),this.height-=a-n.height,i==o&&(this.children.splice(r--,1),n.parent=null),0==(e-=o))break;t=0}else t-=i}if(this.size-e<25){var l=[];this.collapse(l),this.children=[new xn(l)],this.children[0].parent=this}},collapse:function(t){for(var e=0,r=this.children.length;r>e;++e)this.children[e].collapse(t)},insertInner:function(t,e,r){this.size+=e.length,this.height+=r;for(var n=0,i=this.children.length;i>n;++n){var o=this.children[n],a=o.chunkSize();if(a>=t){if(o.insertInner(t,e,r),o.lines&&o.lines.length>50){for(;o.lines.length>50;){var l=o.lines.splice(o.lines.length-25,25),s=new xn(l);o.height-=s.height,this.children.splice(n+1,0,s),s.parent=this}this.maybeSpill()}break}t-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),r=new wn(e);if(t.parent){t.size-=r.size,t.height-=r.height;var n=ui(t.parent.children,t);t.parent.children.splice(n+1,0,r)}else{var i=new wn(t.children);i.parent=t,t.children=[i,r],t=i}r.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,r){for(var n=0,i=this.children.length;i>n;++n){var o=this.children[n],a=o.chunkSize();if(a>t){var l=Math.min(e,a-t);if(o.iterN(t,l,r))return!0;if(0==(e-=l))break;t=0}else t-=a}}};var Wo=0,Do=t.Doc=function(t,e,r){if(!(this instanceof Do))return new Do(t,e,r);null==r&&(r=0),wn.call(this,[new xn([new Ho("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.history=Hn(),this.cleanGeneration=1,this.frontier=r;var n=Ye(r,0);this.sel={from:n,to:n,head:n,anchor:n,shift:!1,extend:!1,goalColumn:null},this.id=++Wo,this.modeOption=e,"string"==typeof t&&(t=Xo(t)),bn(this,{from:n,to:n,text:t},null,{head:n,anchor:n})};Do.prototype=ci(wn.prototype,{constructor:Do,iter:function(t,e,r){r?this.iterN(t-this.first,e-t,r):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var r=0,n=0,i=e.length;i>n;++n)r+=e[n].height;this.insertInner(t-this.first,e,r)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=Sn(this,this.first,this.first+this.size);return t===!1?e:e.join(t||"\n")},setValue:function(t){var e=Ye(this.first,0),r=this.first+this.size-1;Ve(this,{from:e,to:Ye(r,An(this,r).text.length),text:Xo(t),origin:"setValue"},{head:e,anchor:e},!0)},replaceRange:function(t,e,r,n){e=rr(this,e),r=r?rr(this,r):e,Xe(this,t,e,r,n)},getRange:function(t,e,r){var n=Mn(this,rr(this,t),rr(this,e));return r===!1?n:n.join(r||"\n")},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},setLine:function(t,e){ir(this,t)&&Xe(this,e,Ye(t,0),rr(this,Ye(t)))},removeLine:function(t){t?Xe(this,"",rr(this,Ye(t-1)),rr(this,Ye(t))):Xe(this,"",Ye(0,0),rr(this,Ye(1,0)))},getLineHandle:function(t){return ir(this,t)?An(this,t):void 0},getLineNumber:function(t){return Tn(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=An(this,t)),Yr(this,t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return rr(this,t)},getCursor:function(t){var e,r=this.sel;return e=null==t||"head"==t?r.head:"anchor"==t?r.anchor:"end"==t||t===!1?r.to:r.from,tr(e)},somethingSelected:function(){return!Qe(this.sel.head,this.sel.anchor)},setCursor:se(function(t,e,r){var n=rr(this,"number"==typeof t?Ye(t,e||0):t);r?or(this,n):lr(this,n,n)}),setSelection:se(function(t,e,r){lr(this,rr(this,t),rr(this,e||t),r)}),extendSelection:se(function(t,e,r){or(this,rr(this,t),e&&rr(this,e),r)}),getSelection:function(t){return this.getRange(this.sel.from,this.sel.to,t)},replaceSelection:function(t,e,r){Ve(this,{from:this.sel.from,to:this.sel.to,text:Xo(t),origin:r},e||"around")},undo:se(function(){Ke(this,"undo")}),redo:se(function(){Ke(this,"redo")}),setExtending:function(t){this.sel.extend=t},historySize:function(){var t=this.history;return{undo:t.done.length,redo:t.undone.length}},clearHistory:function(){this.history=Hn(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:zn(this.history.done),undone:zn(this.history.undone)}},setHistory:function(t){var e=this.history=Hn(this.history.maxGeneration);e.done=t.done.slice(0),e.undone=t.undone.slice(0)},markText:function(t,e,r){return Nr(this,rr(this,t),rr(this,e),r,"range")},setBookmark:function(t,e){var r={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1};return t=rr(this,t),Nr(this,t,t,r,"bookmark")},findMarksAt:function(t){t=rr(this,t);var e=[],r=An(this,t.line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=t.ch)&&(null==i.to||i.to>=t.ch)&&e.push(i.marker.parent||i.marker)}return e},findMarks:function(t,e){t=rr(this,t),e=rr(this,e);var r=[],n=t.line;return this.iter(t.line,e.line+1,function(i){var o=i.markedSpans;if(o)for(var a=0;a<o.length;a++){var l=o[a];n==t.line&&t.ch>l.to||null==l.from&&n!=t.line||n==e.line&&l.from>e.ch||r.push(l.marker.parent||l.marker)}++n}),r},getAllMarks:function(){var t=[];return this.iter(function(e){var r=e.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&t.push(r[n].marker)}),t},posFromIndex:function(t){var e,r=this.first;return this.iter(function(n){var i=n.text.length+1;return i>t?(e=t,!0):(t-=i,void++r)}),rr(this,Ye(r,e))},indexFromPos:function(t){t=rr(this,t);var e=t.ch;return t.line<this.first||t.ch<0?0:(this.iter(this.first,t.line,function(t){e+=t.text.length+1}),e)},copy:function(t){var e=new Do(Sn(this,this.first,this.first+this.size),this.modeOption,this.first);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel={from:this.sel.from,to:this.sel.to,head:this.sel.head,anchor:this.sel.anchor,shift:this.sel.shift,extend:!1,goalColumn:this.sel.goalColumn},t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,r=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<r&&(r=t.to);var n=new Do(Sn(this,e,r),t.mode||this.modeOption,e);return t.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:t.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],n},unlinkDoc:function(e){if(e instanceof t&&(e=e.doc),this.linked)for(var r=0;r<this.linked.length;++r){var n=this.linked[r];if(n.doc==e){this.linked.splice(r,1),e.unlinkDoc(this);break}}if(e.history==this.history){var i=[e.id];Cn(e,function(t){i.push(t.id)},!0),e.history=Hn(),e.history.done=zn(this.history.done,i),e.history.undone=zn(this.history.undone,i)}},iterLinkedDocs:function(t){Cn(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),Do.prototype.eachLine=Do.prototype.iter;var Ro="iter insert remove copy getEditor".split(" ");for(var zo in Do.prototype)Do.prototype.hasOwnProperty(zo)&&ui(Ro,zo)<0&&(t.prototype[zo]=function(t){return function(){return t.apply(this.doc,arguments)}}(Do.prototype[zo]));ni(Do),t.e_stop=$n,t.e_preventDefault=Gn,t.e_stopPropagation=Kn;var jo,_o=0;t.on=Yn,t.off=Qn,t.signal=Jn;var Fo=30,Bo=t.Pass={toString:function(){return"CodeMirror.Pass"}};ii.prototype={set:function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)}},t.countColumn=oi;var Vo=[""],Go=/[\u00df\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ko=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;t.replaceGetRect=function(t){wi=t};var Uo=function(){if(_i)return!1;var t=vi("div");return"draggable"in t||"dragDrop"in t}();Ri?Ci=function(t,e){return 36==t.charCodeAt(e-1)&&39==t.charCodeAt(e)}:qi&&!/Version\/([6-9]|\d\d)\b/.test(navigator.userAgent)?Ci=function(t,e){return/\-[^ \-?]|\?[^ !\'\"\),.\-\/:;\?\]\}]/.test(t.slice(e-1,e+1))}:Gi&&/Chrome\/(?:29|[3-9]\d|\d\d\d)\./.test(navigator.userAgent)?Ci=function(t,e){var r=t.charCodeAt(e-1);return r>=8208&&8212>=r}:Gi&&(Ci=function(t,e){if(e>1&&45==t.charCodeAt(e-1)){if(/\w/.test(t.charAt(e-2))&&/[^\-?\.]/.test(t.charAt(e)))return!0;if(e>2&&/[\d\.,]/.test(t.charAt(e-2))&&/[\d\.,]/.test(t.charAt(e)))return!1}return/[~!#%&*)=+}\]\\|\"\.>,:;][({[<]|-[^\-?\.\u2010-\u201f\u2026]|\?[\w~`@#$%\^&*(_=+{[|><]|\u2026[\w~`@#$%\^&*(_=+{[><]/.test(t.slice(e-1,e+1))});var $o,qo,Xo=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,r=[],n=t.length;n>=e;){var i=t.indexOf("\n",e);-1==i&&(i=t.length);var o=t.slice(e,"\r"==t.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(r.push(o.slice(0,a)),e+=a+1):(r.push(o),e=i+1)}return r}:function(t){return t.split(/\r\n?|\n/)};t.splitLines=Xo;var Yo=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(e){return!1}}:function(t){try{var e=t.ownerDocument.selection.createRange()}catch(r){}return e&&e.parentElement()==t?0!=e.compareEndPoints("StartToEnd",e):!1},Qo=function(){var t=vi("div");return"oncopy"in t?!0:(t.setAttribute("oncopy","return;"),"function"==typeof t.oncopy)}(),Jo={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};t.keyNames=Jo,function(){for(var t=0;10>t;t++)Jo[t+48]=Jo[t+96]=String(t);for(var t=65;90>=t;t++)Jo[t]=String.fromCharCode(t);for(var t=1;12>=t;t++)Jo[t+111]=Jo[t+63235]="F"+t}();var Zo,ta=function(){function t(t){return 255>=t?e.charAt(t):t>=1424&&1524>=t?"R":t>=1536&&1791>=t?r.charAt(t-1536):t>=1792&&2220>=t?"r":"L"}var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL",r="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr",n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,o=/[LRr]/,a=/[Lb1n]/,l=/[1n]/,s="L";return function(e){if(!n.test(e))return!1;for(var r,u=e.length,c=[],f=0;u>f;++f)c.push(r=t(e.charCodeAt(f)));for(var f=0,d=s;u>f;++f){var r=c[f];"m"==r?c[f]=d:d=r}for(var f=0,h=s;u>f;++f){var r=c[f];"1"==r&&"r"==h?c[f]="n":o.test(r)&&(h=r,"r"==r&&(c[f]="R"))}for(var f=1,d=c[0];u-1>f;++f){var r=c[f];"+"==r&&"1"==d&&"1"==c[f+1]?c[f]="1":","!=r||d!=c[f+1]||"1"!=d&&"n"!=d||(c[f]=d),d=r}for(var f=0;u>f;++f){var r=c[f];if(","==r)c[f]="N";else if("%"==r){for(var p=f+1;u>p&&"%"==c[p];++p);for(var m=f&&"!"==c[f-1]||u>p&&"1"==c[p]?"1":"N",g=f;p>g;++g)c[g]=m;f=p-1}}for(var f=0,h=s;u>f;++f){var r=c[f];"L"==h&&"1"==r?c[f]="L":o.test(r)&&(h=r)}for(var f=0;u>f;++f)if(i.test(c[f])){for(var p=f+1;u>p&&i.test(c[p]);++p);for(var v="L"==(f?c[f-1]:s),y="L"==(u>p?c[p]:s),m=v||y?"L":"R",g=f;p>g;++g)c[g]=m;f=p-1}for(var b,x=[],f=0;u>f;)if(a.test(c[f])){var w=f;for(++f;u>f&&a.test(c[f]);++f);x.push({from:w,to:f,level:0})}else{var C=f,k=x.length;for(++f;u>f&&"L"!=c[f];++f);for(var g=C;f>g;)if(l.test(c[g])){g>C&&x.splice(k,0,{from:C,to:g,level:1});var A=g;for(++g;f>g&&l.test(c[g]);++g);x.splice(k,0,{from:A,to:g,level:2}),C=g}else++g;f>C&&x.splice(k,0,{from:C,to:f,level:1})}return 1==x[0].level&&(b=e.match(/^\s+/))&&(x[0].from=b[0].length,x.unshift({from:0,to:b[0].length,level:0})),1==li(x).level&&(b=e.match(/\s+$/))&&(li(x).to-=b[0].length,x.push({from:u-b[0].length,to:u,level:0})),x[0].level!=li(x).level&&x.push({from:u,to:u,level:x[0].level}),x}}();return t.version="3.22.0",t}()},function(){CodeMirror.defineMode("javascript",function(t,e){function r(t){for(var e,r=!1,n=!1;null!=(e=t.next());){if(!r){if("/"==e&&!n)return;"["==e?n=!0:n&&"]"==e&&(n=!1)}r=!r&&"\\"==e}}function n(t,e,r){return de=t,he=r,e}function i(t,e){var i=t.next();if('"'==i||"'"==i)return e.tokenize=o(i),e.tokenize(t,e);if("."==i&&t.match(/^\d+(?:[eE][+\-]?\d+)?/))return n("number","number");if("."==i&&t.match(".."))return n("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(i))return n(i);if("="==i&&t.eat(">"))return n("=>","operator");if("0"==i&&t.eat(/x/i))return t.eatWhile(/[\da-f]/i),n("number","number");if(/\d/.test(i))return t.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),n("number","number");if("/"==i)return t.eat("*")?(e.tokenize=a,a(t,e)):t.eat("/")?(t.skipToEnd(),n("comment","comment")):"operator"==e.lastType||"keyword c"==e.lastType||"sof"==e.lastType||/^[\[{}\(,;:]$/.test(e.lastType)?(r(t),t.eatWhile(/[gimy]/),n("regexp","string-2")):(t.eatWhile(xe),n("operator","operator",t.current()));if("`"==i)return e.tokenize=l,l(t,e);if("#"==i)return t.skipToEnd(),n("error","error");if(xe.test(i))return t.eatWhile(xe),n("operator","operator",t.current());t.eatWhile(/[\w\$_]/);var s=t.current(),u=be.propertyIsEnumerable(s)&&be[s];return u&&"."!=e.lastType?n(u.type,u.style,s):n("variable","variable",s)}function o(t){return function(e,r){var o,a=!1;if(ge&&"@"==e.peek()&&e.match(we))return r.tokenize=i,n("jsonld-keyword","meta");for(;null!=(o=e.next())&&(o!=t||a);)a=!a&&"\\"==o;return a||(r.tokenize=i),n("string","string")}}function a(t,e){for(var r,o=!1;r=t.next();){if("/"==r&&o){e.tokenize=i;break}o="*"==r}return n("comment","comment")}function l(t,e){for(var r,o=!1;null!=(r=t.next());){if(!o&&("`"==r||"$"==r&&t.eat("{"))){e.tokenize=i;break}o=!o&&"\\"==r}return n("quasi","string-2",t.current())}function s(t,e){e.fatArrowAt&&(e.fatArrowAt=null);var r=t.string.indexOf("=>",t.start);if(!(0>r)){for(var n=0,i=!1,o=r-1;o>=0;--o){var a=t.string.charAt(o),l=Ce.indexOf(a);if(l>=0&&3>l){if(!n){++o;break}if(0==--n)break}else if(l>=3&&6>l)++n;else if(/[$\w]/.test(a))i=!0;else if(i&&!n){++o;break}}i&&!n&&(e.fatArrowAt=o)}}function u(t,e,r,n,i,o){this.indented=t,this.column=e,this.type=r,this.prev=i,this.info=o,null!=n&&(this.align=n)}function c(t,e){for(var r=t.localVars;r;r=r.next)if(r.name==e)return!0;for(var n=t.context;n;n=n.prev)for(var r=n.vars;r;r=r.next)if(r.name==e)return!0}function f(t,e,r,n,i){var o=t.cc;for(Ae.state=t,Ae.stream=i,Ae.marked=null,Ae.cc=o,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;){var a=o.length?o.pop():ve?w:x;if(a(r,n)){for(;o.length&&o[o.length-1].lex;)o.pop()();return Ae.marked?Ae.marked:"variable"==r&&c(t,n)?"variable-2":e}}}function d(){for(var t=arguments.length-1;t>=0;t--)Ae.cc.push(arguments[t])}function h(){return d.apply(null,arguments),!0}function p(t){function r(e){for(var r=e;r;r=r.next)if(r.name==t)return!0;return!1}var n=Ae.state;if(n.context){if(Ae.marked="def",r(n.localVars))return;n.localVars={name:t,next:n.localVars}}else{if(r(n.globalVars))return;e.globalVars&&(n.globalVars={name:t,next:n.globalVars})}}function m(){Ae.state.context={prev:Ae.state.context,vars:Ae.state.localVars},Ae.state.localVars=Me}function g(){Ae.state.localVars=Ae.state.context.vars,Ae.state.context=Ae.state.context.prev}function v(t,e){var r=function(){var r=Ae.state,n=r.indented;"stat"==r.lexical.type&&(n=r.lexical.indented),r.lexical=new u(n,Ae.stream.column(),t,null,r.lexical,e)};return r.lex=!0,r}function y(){var t=Ae.state;t.lexical.prev&&(")"==t.lexical.type&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}function b(t){return function(e){return e==t?h():";"==t?d():h(arguments.callee)}}function x(t,e){return"var"==t?h(v("vardef",e.length),B,b(";"),y):"keyword a"==t?h(v("form"),w,x,y):"keyword b"==t?h(v("form"),x,y):"{"==t?h(v("}"),j,y):";"==t?h():"if"==t?h(v("form"),w,x,y,$):"function"==t?h(Z):"for"==t?h(v("form"),q,x,y):"variable"==t?h(v("stat"),H):"switch"==t?h(v("form"),w,v("}","switch"),b("{"),j,y,y):"case"==t?h(w,b(":")):"default"==t?h(b(":")):"catch"==t?h(v("form"),m,b("("),te,b(")"),x,y,g):"module"==t?h(v("form"),m,ie,g,y):"class"==t?h(v("form"),ee,ne,y):"export"==t?h(v("form"),oe,y):"import"==t?h(v("form"),ae,y):d(v("stat"),w,b(";"),y)}function w(t){return k(t,!1)}function C(t){return k(t,!0)}function k(t,e){if(Ae.state.fatArrowAt==Ae.stream.start){var r=e?N:O;if("("==t)return h(m,v(")"),R(V,")"),y,b("=>"),r,g);if("variable"==t)return d(m,V,b("=>"),r,g)}var n=e?L:S;return ke.hasOwnProperty(t)?h(n):"function"==t?h(Z):"keyword c"==t?h(e?M:A):"("==t?h(v(")"),A,fe,b(")"),y,n):"operator"==t||"spread"==t?h(e?C:w):"["==t?h(v("]"),ue,y,n):"{"==t?z(I,"}",null,n):h()}function A(t){return t.match(/[;\}\)\],]/)?d():d(w)}function M(t){return t.match(/[;\}\)\],]/)?d():d(C)}function S(t,e){return","==t?h(w):L(t,e,!1)}function L(t,e,r){var n=0==r?S:L,i=0==r?w:C;return"=>"==e?h(m,r?N:O,g):"operator"==t?/\+\+|--/.test(e)?h(n):"?"==e?h(w,b(":"),i):h(i):"quasi"==t?(Ae.cc.push(n),T(e)):";"!=t?"("==t?z(C,")","call",n):"."==t?h(P,n):"["==t?h(v("]"),A,b("]"),y,n):void 0:void 0}function T(t){return"${"!=t.slice(t.length-2)?h():h(w,E)}function E(t){return"}"==t?(Ae.marked="string-2",Ae.state.tokenize=l,h()):void 0}function O(t){return s(Ae.stream,Ae.state),d("{"==t?x:w)}function N(t){return s(Ae.stream,Ae.state),d("{"==t?x:C)}function H(t){return":"==t?h(y,x):d(S,b(";"),y)}function P(t){return"variable"==t?(Ae.marked="property",h()):void 0}function I(t,e){if("variable"==t){if(Ae.marked="property","get"==e||"set"==e)return h(W)}else if("number"==t||"string"==t)Ae.marked=ge?"property":t+" property";else if("["==t)return h(w,b("]"),D);return ke.hasOwnProperty(t)?h(D):void 0}function W(t){return"variable"!=t?d(D):(Ae.marked="property",h(Z))}function D(t){return":"==t?h(C):"("==t?d(Z):void 0}function R(t,e){function r(n){if(","==n){var i=Ae.state.lexical;return"call"==i.info&&(i.pos=(i.pos||0)+1),h(t,r)}return n==e?h():h(b(e))}return function(n){return n==e?h():d(t,r)}}function z(t,e,r){for(var n=3;n<arguments.length;n++)Ae.cc.push(arguments[n]);return h(v(e,r),R(t,e),y)}function j(t){return"}"==t?h():d(x,j)}function _(t){return ye&&":"==t?h(F):void 0}function F(t){return"variable"==t?(Ae.marked="variable-3",h()):void 0}function B(){return d(V,_,K,U)}function V(t,e){return"variable"==t?(p(e),h()):"["==t?z(V,"]"):"{"==t?z(G,"}"):void 0}function G(t,e){return"variable"!=t||Ae.stream.match(/^\s*:/,!1)?("variable"==t&&(Ae.marked="property"),h(b(":"),V,K)):(p(e),h(K))}function K(t,e){return"="==e?h(C):void 0}function U(t){return","==t?h(B):void 0}function $(t,e){return"keyword b"==t&&"else"==e?h(v("form"),x,y):void 0}function q(t){return"("==t?h(v(")"),X,b(")"),y):void 0}function X(t){return"var"==t?h(B,b(";"),Q):";"==t?h(Q):"variable"==t?h(Y):d(w,b(";"),Q)}function Y(t,e){return"in"==e||"of"==e?(Ae.marked="keyword",h(w)):h(S,Q)}function Q(t,e){return";"==t?h(J):"in"==e||"of"==e?(Ae.marked="keyword",h(w)):d(w,b(";"),J)}function J(t){")"!=t&&h(w)}function Z(t,e){return"*"==e?(Ae.marked="keyword",h(Z)):"variable"==t?(p(e),h(Z)):"("==t?h(m,v(")"),R(te,")"),y,x,g):void 0}function te(t){return"spread"==t?h(te):d(V,_)}function ee(t,e){return"variable"==t?(p(e),h(re)):void 0}function re(t,e){return"extends"==e?h(w):void 0}function ne(t){return"{"==t?z(I,"}"):void 0}function ie(t,e){return"string"==t?h(x):"variable"==t?(p(e),h(se)):void 0}function oe(t,e){return"*"==e?(Ae.marked="keyword",h(se,b(";"))):"default"==e?(Ae.marked="keyword",h(w,b(";"))):d(x)}function ae(t){return"string"==t?h():d(le,se)}function le(t,e){return"{"==t?z(le,"}"):("variable"==t&&p(e),h())}function se(t,e){return"from"==e?(Ae.marked="keyword",h(w)):void 0}function ue(t){return"]"==t?h():d(C,ce)}function ce(t){return"for"==t?d(fe,b("]")):","==t?h(R(C,"]")):d(R(C,"]"))}function fe(t){return"for"==t?h(q,fe):"if"==t?h(w,fe):void 0}var de,he,pe=t.indentUnit,me=e.statementIndent,ge=e.jsonld,ve=e.json||ge,ye=e.typescript,be=function(){function t(t){return{type:t,style:"keyword"}}var e=t("keyword a"),r=t("keyword b"),n=t("keyword c"),i=t("operator"),o={type:"atom",style:"atom"},a={"if":t("if"),"while":e,"with":e,"else":r,"do":r,"try":r,"finally":r,"return":n,"break":n,"continue":n,"new":n,"delete":n,"throw":n,"debugger":n,"var":t("var"),"const":t("var"),let:t("var"),"function":t("function"),"catch":t("catch"),"for":t("for"),"switch":t("switch"),"case":t("case"),"default":t("default"),"in":i,"typeof":i,"instanceof":i,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o,"this":t("this"),module:t("module"),"class":t("class"),"super":t("atom"),"yield":n,"export":t("export"),"import":t("import"),"extends":n};if(ye){var l={type:"variable",style:"variable-3"},s={"interface":t("interface"),"extends":t("extends"),constructor:t("constructor"),"public":t("public"),"private":t("private"),"protected":t("protected"),"static":t("static"),string:l,number:l,bool:l,any:l};for(var u in s)a[u]=s[u]}return a}(),xe=/[+\-*&%=<>!?|~^]/,we=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Ce="([{}])",ke={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},Ae={state:null,column:null,marked:null,cc:null},Me={name:"this",next:{name:"arguments"}};return y.lex=!0,{startState:function(t){var r={tokenize:i,lastType:"sof",cc:[],lexical:new u((t||0)-pe,0,"block",!1),localVars:e.localVars,context:e.localVars&&{vars:e.localVars},indented:0};return e.globalVars&&(r.globalVars=e.globalVars),r},token:function(t,e){if(t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation(),s(t,e)),e.tokenize!=a&&t.eatSpace())return null;var r=e.tokenize(t,e);return"comment"==de?r:(e.lastType="operator"!=de||"++"!=he&&"--"!=he?de:"incdec",f(e,r,de,he,t))},indent:function(t,r){if(t.tokenize==a)return CodeMirror.Pass;if(t.tokenize!=i)return 0;for(var n=r&&r.charAt(0),o=t.lexical,l=t.cc.length-1;l>=0;--l){var s=t.cc[l];if(s==y)o=o.prev;else if(s!=$)break}"stat"==o.type&&"}"==n&&(o=o.prev),me&&")"==o.type&&"stat"==o.prev.type&&(o=o.prev);var u=o.type,c=n==u;return"vardef"==u?o.indented+("operator"==t.lastType||","==t.lastType?o.info+1:0):"form"==u&&"{"==n?o.indented:"form"==u?o.indented+pe:"stat"==u?o.indented+("operator"==t.lastType||","==t.lastType?me||pe:0):"switch"!=o.info||c||0==e.doubleIndentSwitch?o.align?o.column+(c?0:1):o.indented+(c?0:pe):o.indented+(/^(?:case|default)\b/.test(r)?pe:2*pe)},electricChars:":{}",blockCommentStart:ve?null:"/*",blockCommentEnd:ve?null:"*/",lineComment:ve?null:"//",fold:"brace",helperType:ve?"json":"javascript",jsonldMode:ge,jsonMode:ve}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("text/ecmascript","javascript"),CodeMirror.defineMIME("application/javascript","javascript"),CodeMirror.defineMIME("application/ecmascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMIME("application/x-json",{name:"javascript",json:!0}),CodeMirror.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0})},function(t){t.exports=".CodeMirror-hints{position:absolute;z-index:10;overflow:hidden;list-style:none;margin:0;padding:2px;-webkit-box-shadow:2px 3px 5px rgba(0,0,0,.2);-moz-box-shadow:2px 3px 5px rgba(0,0,0,.2);box-shadow:2px 3px 5px rgba(0,0,0,.2);border-radius:3px;border:1px solid silver;background:#fff;font-size:90%;font-family:monospace;max-height:20em;overflow-y:auto}.CodeMirror-hint{margin:0;padding:0 4px;border-radius:2px;max-width:19em;overflow:hidden;white-space:pre;color:#000;cursor:pointer}.CodeMirror-hint-active{background:#08f;color:#fff}"},function(t){t.exports=".CodeMirror-lint-markers{width:16px}.CodeMirror-lint-tooltip{background-color:infobackground;border:1px solid #000;border-radius:4px 4px 4px 4px;color:infotext;font-family:monospace;font-size:10pt;overflow:hidden;padding:2px 5px;position:fixed;white-space:pre-wrap;z-index:100;max-width:600px;opacity:0;transition:opacity .4s;-moz-transition:opacity .4s;-webkit-transition:opacity .4s;-o-transition:opacity .4s;-ms-transition:opacity .4s}.CodeMirror-lint-mark-error,.CodeMirror-lint-mark-warning{background-position:left bottom;background-repeat:repeat-x}.CodeMirror-lint-mark-error{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJDw4cOCW1/KIAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAHElEQVQI12NggIL/DAz/GdA5/xkY/qPKMDAwAADLZwf5rvm+LQAAAABJRU5ErkJggg==)}.CodeMirror-lint-mark-warning{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJFhQXEbhTg7YAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAMklEQVQI12NkgIIvJ3QXMjAwdDN+OaEbysDA4MPAwNDNwMCwiOHLCd1zX07o6kBVGQEAKBANtobskNMAAAAASUVORK5CYII=)}.CodeMirror-lint-marker-error,.CodeMirror-lint-marker-warning{background-position:center center;background-repeat:no-repeat;cursor:pointer;display:inline-block;height:16px;width:16px;vertical-align:middle;position:relative}.CodeMirror-lint-message-error,.CodeMirror-lint-message-warning{padding-left:18px;background-position:top left;background-repeat:no-repeat}.CodeMirror-lint-marker-error,.CodeMirror-lint-message-error{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAHlBMVEW7AAC7AACxAAC7AAC7AAAAAAC4AAC5AAD///+7AAAUdclpAAAABnRSTlMXnORSiwCK0ZKSAAAATUlEQVR42mWPOQ7AQAgDuQLx/z8csYRmPRIFIwRGnosRrpamvkKi0FTIiMASR3hhKW+hAN6/tIWhu9PDWiTGNEkTtIOucA5Oyr9ckPgAWm0GPBog6v4AAAAASUVORK5CYII=)}.CodeMirror-lint-marker-warning,.CodeMirror-lint-message-warning{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAANlBMVEX/uwDvrwD/uwD/uwD/uwD/uwD/uwD/uwD/uwD6twD/uwAAAADurwD2tQD7uAD+ugAAAAD/uwDhmeTRAAAADHRSTlMJ8mN1EYcbmiixgACm7WbuAAAAVklEQVR42n3PUQqAIBBFUU1LLc3u/jdbOJoW1P08DA9Gba8+YWJ6gNJoNYIBzAA2chBth5kLmG9YUoG0NHAUwFXwO9LuBQL1giCQb8gC9Oro2vp5rncCIY8L8uEx5ZkAAAAASUVORK5CYII=)}.CodeMirror-lint-marker-multiple{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAMAAADzjKfhAAAACVBMVEUAAAAAAAC/v7914kyHAAAAAXRSTlMAQObYZgAAACNJREFUeNo1ioEJAAAIwmz/H90iFFSGJgFMe3gaLZ0od+9/AQZ0ADosbYraAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-position:right bottom;width:100%;height:100%}"},function(t){t.exports=".CodeMirror{font-family:monospace;height:300px}.CodeMirror-scroll{overflow:auto}.CodeMirror-lines{padding:4px 0}.CodeMirror pre{padding:0 4px}.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;-moz-box-sizing:content-box;box-sizing:content-box}.CodeMirror div.CodeMirror-cursor{border-left:1px solid #000;z-index:3}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.CodeMirror.cm-keymap-fat-cursor div.CodeMirror-cursor{width:auto;border:0;background:#7e7;z-index:1}.cm-tab{display:inline-block}.CodeMirror-ruler{border-left:1px solid #ccc;position:absolute}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable{color:#000}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-variable-3{color:#085}.cm-s-default .cm-property,.cm-s-default .cm-operator{color:#000}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-s-default .cm-error,.cm-invalidchar{color:red}div.CodeMirror span.CodeMirror-matchingbracket{color:#0f0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#f22}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{line-height:1;position:relative;overflow:hidden;background:#fff;color:#000}.CodeMirror-scroll{margin-bottom:-30px;margin-right:-30px;padding-bottom:30px;height:100%;outline:none}.CodeMirror-scroll,.CodeMirror-sizer{position:relative;-moz-box-sizing:content-box;box-sizing:content-box}.CodeMirror-sizer{border-right:30px solid transparent}.CodeMirror-vscrollbar,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{position:absolute;z-index:6;display:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;padding-bottom:30px;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;-moz-box-sizing:content-box;box-sizing:content-box;padding-bottom:30px;margin-bottom:-32px;display:inline-block;*zoom:1;*display:inline}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-lines{cursor:text}.CodeMirror pre{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;border-width:0;background:0 0;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible}.CodeMirror-wrap pre{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;overflow:auto}.CodeMirror-wrap .CodeMirror-scroll{overflow-x:hidden}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-measure pre{position:static}.CodeMirror div.CodeMirror-cursor{position:absolute;visibility:hidden;border-right:none;width:0}.CodeMirror-focused div.CodeMirror-cursor{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.cm-searching{background:#ffa;background:rgba(255,255,0,.4)}.CodeMirror span{*vertical-align:text-bottom}@media print{.CodeMirror div.CodeMirror-cursor{visibility:hidden}}"
},function(t){t.exports=".cm-s-xq-light span.cm-keyword{line-height:1em;font-weight:700;color:#5A5CAD}.cm-s-xq-light span.cm-atom{color:#6C8CD5}.cm-s-xq-light span.cm-number{color:#164}.cm-s-xq-light span.cm-def{text-decoration:underline}.cm-s-xq-light span.cm-variable,.cm-s-xq-light span.cm-variable-2,.cm-s-xq-light span.cm-variable-3{color:#000}.cm-s-xq-light span.cm-comment{color:#0080FF;font-style:italic}.cm-s-xq-light span.cm-string{color:red}.cm-s-xq-light span.cm-meta{color:#ff0}.cm-s-xq-light span.cm-qualifier{color:grey}.cm-s-xq-light span.cm-builtin{color:#7EA656}.cm-s-xq-light span.cm-bracket{color:#cc7}.cm-s-xq-light span.cm-tag{color:#3F7F7F}.cm-s-xq-light span.cm-attribute{color:#7F007F}.cm-s-xq-light span.cm-error{color:red}.cm-s-xq-light .CodeMirror-activeline-background{background:#e8f2ff!important}.cm-s-xq-light .CodeMirror-matchingbracket{outline:1px solid grey;color:#000!important;background:#ff0}"},function(t,e,r){t.exports=r(25)+r(26)+'html,body{border:0;font-family:"Helvetica-Neue","Helvetica",Arial,sans-serif;line-height:1.5;margin:0;padding:0}div,span,object,iframe,img,table,caption,thead,tbody,tfoot,tr,tr,td,article,aside,canvas,details,figure,hgroup,menu,nav,footer,header,section,summary,mark,audio,video{border:0;margin:0;padding:0}h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,address,cit,code,del,dfn,em,ins,q,samp,small,strong,sub,sup,b,i,hr,dl,dt,dd,ol,ul,li,fieldset,legend,label{border:0;font-size:100%;vertical-align:baseline;margin:0;padding:0}article,aside,canvas,figure,figure img,figcaption,hgroup,footer,header,nav,section,audio,video{display:block}table{border-collapse:separate;border-spacing:0}table caption,table th,table td{text-align:left;vertical-align:middle}a img{border:0}:focus{outline:0}*,*:before,*:after{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}body{color:#222;margin:0;padding:0;border:0;font-family:"Helvetica Neue LT Std";font-size:48pt;line-height:1.2em;visibility:visible}p,a,li,li:before,h1,h2,h3,h4,h5,h6{text-shadow:0 0 .1em rgba(0,0,0,.5)}h1,h2,h3,h4,h5,h6{text-align:center;font-weight:700;background-color:rgba(0,0,0,.1);margin:.4em -100%}h1{font-size:1.6em;padding-top:.25em}h2{font-size:1.4em;padding-top:.3em}h3{font-size:1.2em;padding-top:.3em}h4,h5,h6{font-size:1.1em;padding-top:.3em}ul li,ol li{list-style:none;position:relative}ul li:before,ol li:before{color:#888;text-align:right;position:absolute;left:0}ul li:before{content:\' \';width:1em;height:1em;margin-left:-1em;background:url('+r(40)+');background-size:contain}strong{letter-spacing:.05em}#slides{z-index:1;position:fixed;background:#ccc}#slides,#slides .background{background-size:cover;width:100%;height:100%;margin:0;padding:0;border:0}#slides .background{z-index:2;position:absolute;opacity:0;-webkit-transition:opacity .3s ease;-moz-transition:opacity .3s ease;transition:opacity .3s ease}#slides .background.active{opacity:1}#slides section{z-index:10;background:rgba(255,255,255,.8);background-size:cover;visibility:hidden;position:absolute;width:80%;height:80%;left:10%;top:10%;margin:0;padding:0 10%;border:0;border-radius:.2em;display:-webkit-box;display:-moz-box;display:box;-webkit-box-pack:center;-webkit-box-align:center;-moz-box-pack:center;-moz-box-align:center;box-pack:center;box-align:center;opacity:0;-webkit-transform:scale(1.25);-webkit-filter:grayscale(100%);-webkit-transition:-webkit-filter .3s ease,-webkit-transform .3s ease,opacity .3s ease;-moz-transform:scale(1.25);-moz-filter:grayscale(100%);-moz-transition:-moz-filter .3s ease,-moz-transform .3s ease,opacity .3s ease;transform:scale(1.25);filter:grayscale(100%);transition:filter .3s ease,transform .3s ease,opacity .3s ease}#slides section .slideContainer{width:100%}#slides section.current,#slides section.out{visibility:visible}#slides section.current{opacity:1;-webkit-filter:grayscale(0);-webkit-transform:scale(1);-moz-filter:grayscale(0);-moz-transform:scale(1);filter:grayscale(0);transform:scale(1)}#slides section.out{-webkit-transform:scale(.75);-moz-transform:scale(.75);transform:scale(.75)}#slides section.editor{left:0;top:0;width:100%;height:100%;border-radius:0;background:0 0}#slides section.editor .editorFrame,#slides section.editor .targetFrame{position:absolute;width:50%;height:100%;top:0;padding:.5em}#slides section.editor .editorFrame{left:0;padding-right:0}#slides section.editor .targetFrame{left:50%}#slides section.editor .targetFrame iframe{z-index:14;background:#444;width:100%;height:100%;margin:0;padding:0}#slides section.editor .loaderFrame{z-index:15;background:#444;width:100%;height:100%;margin:0;padding:0}#slides section.editor .CodeMirror{font-family:"Inconsolata";line-height:1.2em;font-size:.5em}#slides section.editor .CodeMirror,#slides section.editor .loaderFrame,#slides section.editor .targetFrame iframe{box-shadow:0 .1em .2em rgba(0,0,0,.6);border-radius:.1em}.CodeMirror-hints,.CodeMirror-hints li{font-family:"Inconsolata";line-height:1.2em;font-size:.5em;text-shadow:none}'},function(t,e,r){t.exports="@font-face{font-family:'Helvetica Neue LT Std';font-style:normal;font-weight:400;src:local('Helvetica Neue LT Std Regular'),url("+r(36)+") format('opentype')}@font-face{font-family:'Helvetica Neue LT Std';font-style:normal;font-weight:700;src:local('Helvetica Neue LT Std Bold'),url("+r(34)+") format('opentype')}@font-face{font-family:'Helvetica Neue LT Std';font-style:italic;font-weight:400;src:local('Helvetica Neue LT Std Regular Italic'),url("+r(37)+") format('opentype')}@font-face{font-family:'Helvetica Neue LT Std';font-style:italic;font-weight:700;src:local('Helvetica Neue LT Std Bold Italic'),url("+r(35)+") format('opentype')}"},function(t,e,r){t.exports="@font-face{font-family:'Inconsolata';font-style:normal;font-weight:400;src:local('Inconsolata'),url("+r(39)+") format('truetype')}@font-face{font-family:'Inconsolata';font-style:normal;font-weight:700;src:local('Inconsolata Bold'),local('Inconsolata-Bold'),url("+r(38)+") format('truetype')}"},function(t){!function(e,r){t.exports=r()}(this,function(){"use strict";function t(t,e){var r,n=document.createElement(t||"div");for(r in e)n[r]=e[r];return n}function e(t){for(var e=1,r=arguments.length;r>e;e++)t.appendChild(arguments[e]);return t}function r(t,e,r,n){var i=["opacity",e,~~(100*t),r,n].join("-"),o=.01+r/n*100,a=Math.max(1-(1-t)/e*(100-o),t),l=c.substring(0,c.indexOf("Animation")).toLowerCase(),s=l&&"-"+l+"-"||"";return d[i]||(h.insertRule("@"+s+"keyframes "+i+"{0%{opacity:"+a+"}"+o+"%{opacity:"+t+"}"+(o+.01)+"%{opacity:1}"+(o+e)%100+"%{opacity:"+t+"}100%{opacity:"+a+"}}",h.cssRules.length),d[i]=1),i}function n(t,e){var r,n,i=t.style;for(e=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<f.length;n++)if(r=f[n]+e,void 0!==i[r])return r;return void 0!==i[e]?e:void 0}function i(t,e){for(var r in e)t.style[n(t,r)||r]=e[r];return t}function o(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)void 0===t[n]&&(t[n]=r[n])}return t}function a(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function l(t,e){return"string"==typeof t?t:t[e%t.length]}function s(t){return"undefined"==typeof this?new s(t):void(this.opts=o(t||{},s.defaults,p))}function u(){function r(e,r){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',r)}h.addRule(".spin-vml","behavior:url(#default#VML)"),s.prototype.lines=function(t,n){function o(){return i(r("group",{coordsize:c+" "+c,coordorigin:-u+" "+-u}),{width:c,height:c})}function a(t,a,s){e(d,e(i(o(),{rotation:360/n.lines*t+"deg",left:~~a}),e(i(r("roundrect",{arcsize:n.corners}),{width:u,height:n.width,left:n.radius,top:-n.width>>1,filter:s}),r("fill",{color:l(n.color,t),opacity:n.opacity}),r("stroke",{opacity:0}))))}var s,u=n.length+n.width,c=2*u,f=2*-(n.width+n.length)+"px",d=i(o(),{position:"absolute",top:f,left:f});if(n.shadow)for(s=1;s<=n.lines;s++)a(s,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(s=1;s<=n.lines;s++)a(s);return e(t,d)},s.prototype.opacity=function(t,e,r,n){var i=t.firstChild;n=n.shadow&&n.lines||0,i&&e+n<i.childNodes.length&&(i=i.childNodes[e+n],i=i&&i.firstChild,i=i&&i.firstChild,i&&(i.opacity=r))}}var c,f=["webkit","Moz","ms","O"],d={},h=function(){var r=t("style",{type:"text/css"});return e(document.getElementsByTagName("head")[0],r),r.sheet||r.styleSheet}(),p={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};s.defaults={},o(s.prototype,{spin:function(e){this.stop();var r,n,o=this,l=o.opts,s=o.el=i(t(0,{className:l.className}),{position:l.position,width:0,zIndex:l.zIndex}),u=l.radius+l.length+l.width;if(e&&(e.insertBefore(s,e.firstChild||null),n=a(e),r=a(s),i(s,{left:("auto"==l.left?n.x-r.x+(e.offsetWidth>>1):parseInt(l.left,10)+u)+"px",top:("auto"==l.top?n.y-r.y+(e.offsetHeight>>1):parseInt(l.top,10)+u)+"px"})),s.setAttribute("role","progressbar"),o.lines(s,o.opts),!c){var f,d=0,h=(l.lines-1)*(1-l.direction)/2,p=l.fps,m=p/l.speed,g=(1-l.opacity)/(m*l.trail/100),v=m/l.lines;!function y(){d++;for(var t=0;t<l.lines;t++)f=Math.max(1-(d+(l.lines-t)*v)%m*g,l.opacity),o.opacity(s,t*l.direction+h,f,l);o.timeout=o.el&&setTimeout(y,~~(1e3/p))}()}return o},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(n,o){function a(e,r){return i(t(),{position:"absolute",width:o.length+o.width+"px",height:o.width+"px",background:e,boxShadow:r,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*u+o.rotate)+"deg) translate("+o.radius+"px,0)",borderRadius:(o.corners*o.width>>1)+"px"})}for(var s,u=0,f=(o.lines-1)*(1-o.direction)/2;u<o.lines;u++)s=i(t(),{position:"absolute",top:1+~(o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:c&&r(o.opacity,o.trail,f+u*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&e(s,i(a("#000","0 0 4px #000"),{top:"2px"})),e(n,e(s,a(l(o.color,u),"0 0 1px rgba(0,0,0,.1)")));return n},opacity:function(t,e,r){e<t.childNodes.length&&(t.childNodes[e].style.opacity=r)}});var m=i(t("group"),{behavior:"url(#default#VML)"});return!n(m,"transform")&&m.adj?u():c=n(m,"animation"),s})},function(t,e,r){r(1)(r(20))},function(t,e,r){r(1)(r(21))},function(t,e,r){r(1)(r(22))},function(t,e,r){r(1)(r(23))},function(t,e,r){r(1)(r(24))},function(t,e,r){(function(t,e,r){!function(t){"use strict";function e(t){return{configurable:!0,enumerable:!1,value:t,writable:!0}}function r(){return"__$"+Math.floor(1e9*Math.random())+"$"+ ++$+"$__"}function n(t){return"object"==typeof t&&t instanceof a}function i(t){return n(t)?"symbol":typeof t}function o(t){var e=new a(t);if(!(this instanceof o))return e;throw new TypeError("Symbol cannot be new'ed")}function a(t){var e=r();_(this,Y,{value:this}),_(this,q,{value:e}),_(this,X,{value:t}),F(this),Q[e]=this}function l(t){return n(t)?t[q]:t}function s(t){for(var e=[],r=V(t),n=0;n<r.length;n++){var i=r[n];Q[i]||e.push(i)}return e}function u(t,e){return B(t,l(e))}function c(t){for(var e=[],r=V(t),n=0;n<r.length;n++){var i=Q[r[n]];i&&e.push(i)}return e}function f(t){return K.call(this,l(t))}function d(e){return t.traceur&&t.traceur.options[e]}function h(t,e,r){var i,o;return n(e)&&(i=e,e=e[q]),t[e]=r,i&&(o=B(t,e))&&_(t,e,{enumerable:!1}),r}function p(t,e,r){return n(e)&&(r.enumerable&&(r=z(r,{enumerable:{value:!1}})),e=e[q]),_(t,e,r),t}function m(t){function e(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}function r(t,e){var r,n=V(e),i=n.length;for(r=0;i>r;r++)t[n[r]]=e[n[r]];return t}function n(t,e){var r,n,i=V(e),o=i.length;for(r=0;o>r;r++)n=B(e,i[r]),_(t,i[r],n);return t}_(t,"defineProperty",{value:p}),_(t,"getOwnPropertyNames",{value:s}),_(t,"getOwnPropertyDescriptor",{value:u}),_(t.prototype,"hasOwnProperty",{value:f}),t.getOwnPropertySymbols=c,_(t,"is",U(e)),_(t,"assign",U(r)),_(t,"mixin",U(n))}function g(t){for(var e=1;e<arguments.length;e++)for(var r=V(arguments[e]),n=0;n<r.length;n++)!function(e,r){_(t,r,{get:function(){return e[r]},enumerable:!0})}(arguments[e],r[n]);return t}function v(t){if(null==t)throw R();return D(t)}function y(){for(var t=[],e=0,r=0;r<arguments.length;r++)for(var n=v(arguments[r]),i=0;i<n.length;i++)t[e++]=n[i];return t}function b(t,e){for(;null!==t;){var r=B(t,e);if(r)return r;t=G(t)}return void 0}function x(t,e){var r=G(t);if(!r)throw R("super is null");return b(r,e)}function w(t,e,r,n){var i=x(e,r);if(i){if("value"in i)return i.value.apply(t,n);if(i.get)return i.get.call(t).apply(t,n)}throw R("super has no method '"+r+"'.")}function C(t,e,r){var n=x(e,r);if(n){if(n.get)return n.get.call(t);if("value"in n)return n.value}return void 0}function k(t,e,r,n){var i=x(e,r);if(i&&i.set)return void i.set.call(t,n);throw R("super has no setter '"+r+"'.")}function A(t){for(var e,r={},n=V(t),i=0;i<n.length;i++){var e=n[i];r[e]=B(t,e)}return r}function M(t,e,r,n){return _(e,"constructor",{value:t,configurable:!0,enumerable:!1,writable:!0}),arguments.length>3?("function"==typeof n&&(t.__proto__=n),t.prototype=z(S(n),A(e))):t.prototype=e,_(t,"prototype",{configurable:!1,writable:!1}),j(t,A(r))}function S(t){if("function"==typeof t){var e=t.prototype;if(D(e)===e||null===e)return t.prototype}if(null===t)return null;throw new TypeError}function L(t,e,r){null!==G(e)&&w(t,e,"constructor",r)}function T(t){return p(t,o.iterator,e(function(){return this}))}function E(){this.state=0,this.GState=J,this.storedException=void 0,this.finallyFallThrough=void 0,this.sent=void 0,this.returnValue=void 0,this.tryStack_=[]}function O(t,e,r){return function(n){switch(t.GState){case Z:throw new Error('"'+r+'" on executing generator');case ee:throw new Error('"'+r+'" on closed generator');case J:if("throw"===r)throw t.GState=ee,n;if(void 0!==n)throw R("Sent value to newborn generator");case te:t.GState=Z,t.action=r,t.sent=n;var i=e(t),o=i===t;return o&&(i=t.returnValue),t.GState=o?ee:te,{value:i,done:o}}}}function N(t,e){var r=I(t,e),n=new E;return T({next:O(n,r,"next"),"throw":O(n,r,"throw")})}function H(){E.call(this),this.err=void 0;var t=this;t.result=new Promise(function(e,r){t.resolve=e,t.reject=r})}function P(t,e){var r=I(t,e),n=new H;return n.createCallback=function(t){return function(e){n.state=t,n.value=e,r(n)}},n.createErrback=function(t){return function(e){n.state=t,n.err=e,r(n)}},r(n),n.result}function I(t,e){return function(r){for(;;)try{return t.call(e,r)}catch(n){r.storedException=n;var i=r.tryStack_[r.tryStack_.length-1];if(!i)throw r.GState=ee,r.state=re,n;r.state=void 0!==i.catch?i.catch:i.finally,void 0!==i.finallyFallThrough&&(r.finallyFallThrough=i.finallyFallThrough)}}}function W(t){t.Symbol=o,m(t.Object)}if(!t.$traceurRuntime){var D=Object,R=TypeError,z=D.create,j=D.defineProperties,_=D.defineProperty,F=D.freeze,B=D.getOwnPropertyDescriptor,V=D.getOwnPropertyNames,G=D.getPrototypeOf,K=D.prototype.hasOwnProperty,U=(D.prototype.toString,e),$=0,q=r(),X=r(),Y=r(),Q=z(null);_(o.prototype,"constructor",e(o)),_(o.prototype,"toString",U(function(){var t=this[Y];if(!d("symbols"))return t[q];if(!t)throw TypeError("Conversion from symbol to string");var e=t[X];return void 0===e&&(e=""),"Symbol("+e+")"})),_(o.prototype,"valueOf",U(function(){var t=this[Y];if(!t)throw TypeError("Conversion from symbol to string");return d("symbols")?t:t[q]})),_(a.prototype,"constructor",e(o)),_(a.prototype,"toString",{value:o.prototype.toString,enumerable:!1}),_(a.prototype,"valueOf",{value:o.prototype.valueOf,enumerable:!1}),F(a.prototype),o.iterator=o();var J=0,Z=1,te=2,ee=3,re=-3;E.prototype={pushTry:function(t,e){if(null!==e){for(var r=null,n=this.tryStack_.length-1;n>=0;n--)if(void 0!==this.tryStack_[n].catch){r=this.tryStack_[n].catch;break}null===r&&(r=-3),this.tryStack_.push({"finally":e,finallyFallThrough:r})}null!==t&&this.tryStack_.push({"catch":t})},popTry:function(){this.tryStack_.pop()}},H.prototype=Object.create(E.prototype),W(t),t.$traceurRuntime={asyncWrap:P,createClass:M,defaultSuperCall:L,exportStar:g,generatorWrap:N,setProperty:h,setupGlobals:W,spread:y,superCall:w,superGet:C,superSet:k,toObject:v,toProperty:l,"typeof":i}}}("undefined"!=typeof e?e:this),function(){function t(t,e,r,n,i,o,a){var l=[];return t&&l.push(t,":"),r&&(l.push("//"),e&&l.push(e,"@"),l.push(r),n&&l.push(":",n)),i&&l.push(i),o&&l.push("?",o),a&&l.push("#",a),l.join("")}function e(t){return t.match(l)}function r(t){if("/"===t)return"/";for(var e="/"===t[0]?"/":"",r="/"===t.slice(-1)?"/":"",n=t.split("/"),i=[],o=0,a=0;a<n.length;a++){var l=n[a];switch(l){case"":case".":break;case"..":i.length?i.pop():o++;break;default:i.push(l)}}if(!e){for(;o-->0;)i.unshift("..");0===i.length&&i.push(".")}return e+i.join("/")+r}function n(e){var n=e[s.PATH]||"";return n=r(n.replace(/\/\//.g,"/")),e[s.PATH]=n,t(e[s.SCHEME],e[s.USER_INFO],e[s.DOMAIN],e[s.PORT],e[s.PATH],e[s.QUERY_DATA],e[s.FRAGMENT])}function i(t){var r=e(t);return n(r)}function o(t,r){var i=e(r),o=e(t);if(i[s.SCHEME])return n(i);i[s.SCHEME]=o[s.SCHEME];for(var a=s.SCHEME;a<=s.PORT;a++)i[a]||(i[a]=o[a]);if("/"==i[s.PATH][0])return n(i);var l=o[s.PATH],u=l.lastIndexOf("/");return l=l.slice(0,u+1)+i[s.PATH],i[s.PATH]=l,n(i)}function a(t){if(!t)return!1;if("/"===t[0])return!0;var r=e(t);return r[s.SCHEME]?!0:!1}var l=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),s={SCHEME:1,USER_INFO:2,DOMAIN:3,PORT:4,PATH:5,QUERY_DATA:6,FRAGMENT:7};$traceurRuntime.canonicalizeUrl=i,$traceurRuntime.isAbsolute=a,$traceurRuntime.removeDotSegments=r,$traceurRuntime.resolveUrl=o}(),function(t){"use strict";function e(t){if(t){var e=p.normalize(t);return s[e]}}function r(t){var e=arguments[1],r=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(n){var i,o;if(e===h){var a=Object.getOwnPropertyDescriptor(t,n);a.get&&(i=a.get)}i||(o=t[n],i=function(){return o}),Object.defineProperty(r,n,{get:i,enumerable:!0})}),Object.preventExtensions(r),r}var n,i=$traceurRuntime,o=i.canonicalizeUrl,a=i.resolveUrl,l=i.isAbsolute,s=Object.create(null);n=t.location&&t.location.href?a(t.location.href,"./"):"";var u=function(t,e){this.url=t,this.value_=e};$traceurRuntime.createClass(u,{},{});var c=function(t,e){$traceurRuntime.superCall(this,f.prototype,"constructor",[t,null]),this.func=e},f=c;$traceurRuntime.createClass(c,{getUncoatedModule:function(){return this.value_?this.value_:this.value_=this.func.call(t)}},{},u);var d=Object.create(null),h={},p={normalize:function(t,e){if("string"!=typeof t)throw new TypeError("module name must be a string, not "+typeof t);if(l(t))return o(t);if(/[^\.]\/\.\.\//.test(t))throw new Error("module name embeds /../: "+t);return"."===t[0]&&e?a(e,t):o(t)},get:function(t){var n=e(t);if(!n)return void 0;var i=d[n.url];return i?i:(i=r(n.getUncoatedModule(),h),d[n.url]=i)},set:function(t,e){t=String(t),s[t]=new c(t,function(){return e}),d[t]=e},get baseURL(){return n},set baseURL(t){n=String(t)},registerModule:function(t,e){var r=p.normalize(t);if(s[r])throw new Error("duplicate module named "+r);s[r]=new c(r,e)},bundleStore:Object.create(null),register:function(t,e,r){e&&e.length?this.bundleStore[t]={deps:e,execute:r}:this.registerModule(t,r)},getAnonymousModule:function(e){return new r(e.call(t),h)},getForTesting:function(t){var e=this;return this.testingPrefix_||Object.keys(d).some(function(t){var r=/(traceur@[^\/]*\/)/.exec(t);return r?(e.testingPrefix_=r[1],!0):void 0}),this.get(this.testingPrefix_+t)}};p.set("@traceur/src/runtime/ModuleStore",new r({ModuleStore:p}));var m=$traceurRuntime.setupGlobals;$traceurRuntime.setupGlobals=function(t){m(t)},$traceurRuntime.ModuleStore=p,t.System={register:p.register.bind(p),get:p.get,set:p.set,normalize:p.normalize},$traceurRuntime.getModuleImpl=function(t){var r=e(t);return r&&r.getUncoatedModule()}}("undefined"!=typeof e?e:this),System.register("traceur-runtime@0.0.25/src/runtime/polyfills/utils",[],function(){"use strict";function t(t){return 0|t}var e=$traceurRuntime.toObject;return{get toObject(){return e},get toUint32(){return t}}}),System.register("traceur-runtime@0.0.25/src/runtime/polyfills/ArrayIterator",[],function(){"use strict";function t(t,e){var r=l(t),n=new d;return n.iteratorObject_=r,n.arrayIteratorNextIndex_=0,n.arrayIterationKind_=e,n}function e(t,e){return{value:t,done:e}}function r(){return t(this,f)}function n(){return t(this,u)}function i(){return t(this,c)}var o,a=$traceurRuntime.getModuleImpl("traceur-runtime@0.0.25/src/runtime/polyfills/utils"),l=a.toObject,s=a.toUint32,u=1,c=2,f=3,d=function(){};return $traceurRuntime.createClass(d,(o={},Object.defineProperty(o,"next",{value:function(){var t=l(this),r=t.iteratorObject_;if(!r)throw new TypeError("Object is not an ArrayIterator");var n=t.arrayIteratorNextIndex_,i=t.arrayIterationKind_,o=s(r.length);return n>=o?(t.arrayIteratorNextIndex_=1/0,e(void 0,!0)):(t.arrayIteratorNextIndex_=n+1,i==c?e(r[n],!1):i==f?e([n,r[n]],!1):e(n,!1))},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(o,Symbol.iterator,{value:function(){return this},configurable:!0,enumerable:!0,writable:!0}),o),{}),{get entries(){return r},get keys(){return n},get values(){return i}}}),System.register("traceur-runtime@0.0.25/node_modules/rsvp/lib/rsvp/asap",[],function(){"use strict";function t(){return function(){r.nextTick(i)}}function e(){var t=0,e=new s(i),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){r.data=t=++t%2}}function n(){return function(){setTimeout(i,1)}}function i(){for(var t=0;t<u.length;t++){var e=u[t],r=e[0],n=e[1];r(n)}u=[]}var o,a=function(t,e){var r=u.push([t,e]);1===r&&o()},l="undefined"!=typeof window?window:{},s=l.MutationObserver||l.WebKitMutationObserver,u=[];return o="undefined"!=typeof r&&"[object process]"==={}.toString.call(r)?t():s?e():n(),{get default(){return a}}}),System.register("traceur-runtime@0.0.25/src/runtime/polyfills/Promise",[],function(){"use strict";function t(t){return t&&"object"==typeof t&&void 0!==t.status_}function e(t){var e=void 0!==arguments[1]?arguments[1]:function(t){return t},n=void 0!==arguments[2]?arguments[2]:function(t){throw t},i=r(t.constructor);switch(t.status_){case void 0:throw TypeError;case"pending":t.onResolve_.push([i,e]),t.onReject_.push([i,n]);break;case"resolved":a(i,e,t.value_);break;case"rejected":a(i,n,t.value_)}return i.promise}function r(t){var e={};return e.promise=new t(function(t,r){e.resolve=t,e.reject=r}),e}function n(t,e){o(t,"resolved",e,t.onResolve_)}function i(t,e){o(t,"rejected",e,t.onReject_)}function o(t,e,r,n){if("pending"===t.status_){for(var i=0;i<n.length;i++)a(n[i][0],n[i][1],r);t.status_=e,t.value_=r,t.onResolve_=t.onReject_=void 0}}function a(r,n,i){s(function(){try{var o=n(i);if(o===r.promise)throw new TypeError;t(o)?e(o,r.resolve,r.reject):r.resolve(o)}catch(a){r.reject(a)}})}function l(e,n){if(t(n))return n;if(n&&"function"==typeof n.then){var i=n[c];if(i)return i;var o=r(e);n[c]=o.promise;try{n.then(o.resolve,o.reject)}catch(a){o.reject(a)}return o.promise}return n}var s=$traceurRuntime.getModuleImpl("traceur-runtime@0.0.25/node_modules/rsvp/lib/rsvp/asap").default,u=function(t){var e=this;this.status_="pending",this.onResolve_=[],this.onReject_=[],t(function(t){n(e,t)},function(t){i(e,t)})};$traceurRuntime.createClass(u,{"catch":function(t){return this.then(void 0,t)},then:function(){var r=void 0!==arguments[0]?arguments[0]:function(t){return t},n=arguments[1],i=this,o=this.constructor;return e(this,function(e){return e=l(o,e),e===i?n(new TypeError):t(e)?e.then(r,n):r(e)},n)}},{resolve:function(t){return new this(function(e){e(t)})},reject:function(t){return new this(function(e,r){r(t)})},cast:function(n){if(n instanceof this)return n;if(t(n)){var i=r(this);return e(n,i.resolve,i.reject),i.promise}return this.resolve(n)},all:function(t){var e=r(this),n=0,i=[];try{for(var o=0;o<t.length;o++)++n,this.cast(t[o]).then(function(t,r){i[t]=r,0===--n&&e.resolve(i)}.bind(void 0,o),function(t){n>0&&(n=0),e.reject(t)});0===n&&e.resolve(i)}catch(a){e.reject(a)}return e.promise},race:function(t){var e=r(this);try{for(var n=0;n<t.length;n++)this.cast(t[n]).then(function(t){e.resolve(t)},function(t){e.reject(t)})}catch(i){e.reject(i)}return e.promise}});var c="@@thenable";return{get Promise(){return u}}}),System.register("traceur-runtime@0.0.25/src/runtime/polyfills/String",[],function(){"use strict";function t(t){var e=String(this);if(null==this||"[object RegExp]"==l.call(t))throw TypeError();var r=e.length,n=String(t),i=(n.length,arguments.length>1?arguments[1]:void 0),o=i?Number(i):0;isNaN(o)&&(o=0);var a=Math.min(Math.max(o,0),r);return s.call(e,n,o)==a}function e(t){var e=String(this);if(null==this||"[object RegExp]"==l.call(t))throw TypeError();var r=e.length,n=String(t),i=n.length,o=r;if(arguments.length>1){var a=arguments[1];void 0!==a&&(o=a?Number(a):0,isNaN(o)&&(o=0))}var s=Math.min(Math.max(o,0),r),c=s-i;return 0>c?!1:u.call(e,n,c)==c}function r(t){if(null==this)throw TypeError();var e=String(this),r=e.length,n=String(t),i=(n.length,arguments.length>1?arguments[1]:void 0),o=i?Number(i):0;isNaN(o)&&(o=0);Math.min(Math.max(o,0),r);return-1!=s.call(e,n,o)}function n(t){if(null==this)throw TypeError();var e=String(this),r=t?Number(t):0;if(isNaN(r)&&(r=0),0>r||1/0==r)throw RangeError();if(0==r)return"";for(var n="";r--;)n+=e;return n}function i(t){if(null==this)throw TypeError();var e=String(this),r=e.length,n=t?Number(t):0;if(isNaN(n)&&(n=0),0>n||n>=r)return void 0;var i,o=e.charCodeAt(n);return o>=55296&&56319>=o&&r>n+1&&(i=e.charCodeAt(n+1),i>=56320&&57343>=i)?1024*(o-55296)+i-56320+65536:o}function o(t){var e=t.raw,r=e.length>>>0;if(0===r)return"";for(var n="",i=0;;){if(n+=e[i],i+1===r)return n;n+=arguments[++i]}}function a(){var t,e,r=[],n=Math.floor,i=-1,o=arguments.length;if(!o)return"";for(;++i<o;){var a=Number(arguments[i]);if(!isFinite(a)||0>a||a>1114111||n(a)!=a)throw RangeError("Invalid code point: "+a);65535>=a?r.push(a):(a-=65536,t=(a>>10)+55296,e=a%1024+56320,r.push(t,e))}return String.fromCharCode.apply(null,r)}var l=Object.prototype.toString,s=String.prototype.indexOf,u=String.prototype.lastIndexOf;return{get startsWith(){return t},get endsWith(){return e},get contains(){return r},get repeat(){return n},get codePointAt(){return i},get raw(){return o},get fromCodePoint(){return a}}}),System.register("traceur-runtime@0.0.25/src/runtime/polyfills/polyfills",[],function(){"use strict";function t(t,e,r){e in t||Object.defineProperty(t,e,{value:r,configurable:!0,enumerable:!1,writable:!0})}function e(e,r){for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1];t(e,i,o)}}function r(t){t.Promise||(t.Promise=a)}function n(t){e(t.prototype,["codePointAt",s,"contains",u,"endsWith",c,"startsWith",p,"repeat",d]),e(t,["fromCodePoint",f,"raw",h])}function i(t,r){e(t.prototype,["entries",m,"keys",g,"values",v]),r&&r.iterator&&Object.defineProperty(t.prototype,r.iterator,{value:v,configurable:!0,enumerable:!1,writable:!0})}function o(t){r(t),n(t.String),i(t.Array,t.Symbol)}var a=$traceurRuntime.getModuleImpl("traceur-runtime@0.0.25/src/runtime/polyfills/Promise").Promise,l=$traceurRuntime.getModuleImpl("traceur-runtime@0.0.25/src/runtime/polyfills/String"),s=l.codePointAt,u=l.contains,c=l.endsWith,f=l.fromCodePoint,d=l.repeat,h=l.raw,p=l.startsWith,l=$traceurRuntime.getModuleImpl("traceur-runtime@0.0.25/src/runtime/polyfills/ArrayIterator"),m=l.entries,g=l.keys,v=l.values;o(this);var y=$traceurRuntime.setupGlobals;return $traceurRuntime.setupGlobals=function(t){y(t),o(t)},{}}),System.register("traceur-runtime@0.0.25/src/runtime/polyfill-import",[],function(){"use strict";$traceurRuntime.getModuleImpl("traceur-runtime@0.0.25/src/runtime/polyfills/polyfills");return{}}),System.get("traceur-runtime@0.0.25/src/runtime/polyfill-import")}).call(e,r,function(){return this}(),r(3))},function(t,e,r){t.exports=r.p+"9ac7e2ff6b9792291e65269b982efa35.otf"},function(t,e,r){t.exports=r.p+"09ad3649cefc511e2e20b98991116a59.otf"},function(t,e,r){t.exports=r.p+"f0d7d673ef06ec9cf090dc00572d63e4.otf"},function(t,e,r){t.exports=r.p+"f02f3b1af0eda2c88d9a7ae67234c564.otf"},function(t,e,r){t.exports=r.p+"819f56653a4197a7959c41ddfc8ff69b.ttf"},function(t,e,r){t.exports=r.p+"9ac6e3d2a7fb76468bd417ea40b6f8c4.ttf"},function(t,e,r){t.exports=r.p+"3bb8cd188e88dfe3b75c26c86dae0d79.svg"},function(t,e,r){var n=e.EventEmitter=function(){},i=r(46),o=(r(45),10);n.prototype.setMaxListeners=function(t){this._events||(this._events={}),this._maxListeners=t},n.prototype.emit=function(t){if("error"===t&&(!this._events||!this._events.error||i(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var e=this._events[t];if(!e)return!1;if("function"==typeof e){switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:var r=Array.prototype.slice.call(arguments,1);e.apply(this,r)}return!0}if(i(e)){for(var r=Array.prototype.slice.call(arguments,1),n=e.slice(),o=0,a=n.length;a>o;o++)n[o].apply(this,r);return!0}return!1},n.prototype.addListener=function(t,e){if("function"!=typeof e)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",t,e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned){var r;r=void 0!==this._maxListeners?this._maxListeners:o,r&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(events) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function r(){n.removeListener(t,r),e.apply(this,arguments)}if("function"!=typeof e)throw new Error(".once only takes instances of Function");var n=this;return r.listener=e,n.on(t,r),this},n.prototype.removeListener=function(t,e){if("function"!=typeof e)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[t])return this;var r=this._events[t];if(i(r)){for(var n=-1,o=0,a=r.length;a>o;o++)if(r[o]===e||r[o].listener&&r[o].listener===e){n=o;break}if(0>n)return this;r.splice(n,1),0==r.length&&delete this._events[t]}else(r===e||r.listener&&r.listener===e)&&delete this._events[t];return this},n.prototype.removeAllListeners=function(t){return 0===arguments.length?(this._events={},this):(t&&this._events&&this._events[t]&&(this._events[t]=null),this)},n.prototype.listeners=function(t){return this._events||(this._events={}),this._events[t]||(this._events[t]=[]),i(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]}},function(t,e,r){(function(t,r){function n(t,e){for(var r=0,n=t.length;n>=0;n--){var i=t[n];"."==i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}var i=t(44),o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;e.resolve=function(){for(var t="",e=!1,o=arguments.length;o>=-1&&!e;o--){var a=o>=0?arguments[o]:r.cwd();"string"==typeof a&&a&&(t=a+"/"+t,e="/"===a.charAt(0))}return t=n(i(t.split("/"),function(t){return!!t}),!e).join("/"),(e?"/":"")+t||"."},e.normalize=function(t){var e="/"===t.charAt(0),r="/"===t.slice(-1);return t=n(i(t.split("/"),function(t){return!!t}),!e).join("/"),t||e||(t="."),t&&r&&(t+="/"),(e?"/":"")+t},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,function(t){return t&&"string"==typeof t}).join("/"))},e.dirname=function(t){var e=o.exec(t),r=e[1]||"",n=r+(e[2]||""),i=!1;return n?1===n.length||i&&n.length<=3&&":"===n.charAt(1)?n:n.substring(0,n.length-1):"."},e.basename=function(t,e){var r=o.exec(t)[3]||"";
return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){return o.exec(t)[4]||""},e.relative=function(t,r){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var i=n(t.split("/")),o=n(r.split("/")),a=Math.min(i.length,o.length),l=a,s=0;a>s;s++)if(i[s]!==o[s]){l=s;break}for(var u=[],s=l;s<i.length;s++)u.push("..");return u=u.concat(o.slice(l)),u.join("/")},e.sep="/"}).call(e,r,r(3))},function(module,exports,require){var Object_keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var r in t)e.push(r);return e},forEach=function(t,e){if(t.forEach)return t.forEach(e);for(var r=0;r<t.length;r++)e(t[r],r,t)},Script=exports.Script=function(t){return this instanceof Script?void(this.code=t):new Script(t)};Script.prototype.runInNewContext=function(t){t||(t={});var e=document.createElement("iframe");e.style||(e.style={}),e.style.display="none",document.body.appendChild(e);var r=e.contentWindow;forEach(Object_keys(t),function(e){r[e]=t[e]}),!r.eval&&r.execScript&&r.execScript("null");var n=r.eval(this.code);return forEach(Object_keys(r),function(e){t[e]=r[e]}),document.body.removeChild(e),n},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInContext=function(t){return this.runInNewContext(t)},forEach(Object_keys(Script.prototype),function(t){exports[t]=Script[t]=function(e){var r=Script(e);return r[t].apply(r,[].slice.call(arguments,1))}}),exports.createScript=function(t){return exports.Script(t)},exports.createContext=Script.createContext=function(t){var e={};return"object"==typeof t&&forEach(Object_keys(t),function(r){e[r]=t[r]}),e}},function(t){t.exports=function(t,e){for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}},function(t){t.exports=function(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0;r<t.length;r++)if(e===t[r])return r;return-1}},function(t){t.exports="function"==typeof Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t){function e(t,e,r){return t.addEventListener?void t.addEventListener(e,r,!1):void t.attachEvent("on"+e,r)}function r(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return k[t.which]?k[t.which]:A[t.which]?A[t.which]:String.fromCharCode(t.which).toLowerCase()}function n(t,e){return t.sort().join(",")===e.sort().join(",")}function i(t){t=t||{};var e,r=!1;for(e in E)t[e]?r=!0:E[e]=0;r||(H=!1)}function o(t,e,r,i,o,a){var l,s,u=[],c=r.type;if(!L[t])return[];for("keyup"==c&&d(t)&&(e=[t]),l=0;l<L[t].length;++l)if(s=L[t][l],(i||!s.seq||E[s.seq]==s.level)&&c==s.action&&("keypress"==c&&!r.metaKey&&!r.ctrlKey||n(e,s.modifiers))){var f=!i&&s.combo==o,h=i&&s.seq==i&&s.level==a;(f||h)&&L[t].splice(l,1),u.push(s)}return u}function a(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}function l(t){return t.preventDefault?void t.preventDefault():void(t.returnValue=!1)}function s(t){return t.stopPropagation?void t.stopPropagation():void(t.cancelBubble=!0)}function u(t,e,r,n){I.stopCallback(e,e.target||e.srcElement,r,n)||t(e,r)===!1&&(l(e),s(e))}function c(t,e,r){var n,a=o(t,e,r),l={},s=0,c=!1;for(n=0;n<a.length;++n)a[n].seq&&(s=Math.max(s,a[n].level));for(n=0;n<a.length;++n)if(a[n].seq){if(a[n].level!=s)continue;c=!0,l[a[n].seq]=1,u(a[n].callback,r,a[n].combo,a[n].seq)}else c||u(a[n].callback,r,a[n].combo);var f="keypress"==r.type&&N;r.type!=H||d(t)||f||i(l),N=c&&"keydown"==r.type}function f(t){"number"!=typeof t.which&&(t.which=t.keyCode);var e=r(t);if(e)return"keyup"==t.type&&O===e?void(O=!1):void I.handleKey(e,a(t),t)}function d(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function h(){clearTimeout(C),C=setTimeout(i,1e3)}function p(){if(!w){w={};for(var t in k)t>95&&112>t||k.hasOwnProperty(t)&&(w[k[t]]=t)}return w}function m(t,e,r){return r||(r=p()[t]?"keydown":"keypress"),"keypress"==r&&e.length&&(r="keydown"),r}function g(t,e,n,o){function a(e){return function(){H=e,++E[t],h()}}function l(e){u(n,e,t),"keyup"!==o&&(O=r(e)),setTimeout(i,10)}E[t]=0;for(var s=0;s<e.length;++s){var c=s+1===e.length,f=c?l:a(o||y(e[s+1]).action);b(e[s],f,o,t,s)}}function v(t){return"+"===t?["+"]:t.split("+")}function y(t,e){var r,n,i,o=[];for(r=v(t),i=0;i<r.length;++i)n=r[i],S[n]&&(n=S[n]),e&&"keypress"!=e&&M[n]&&(n=M[n],o.push("shift")),d(n)&&o.push(n);return e=m(n,o,e),{key:n,modifiers:o,action:e}}function b(t,e,r,n,i){T[t+":"+r]=e,t=t.replace(/\s+/g," ");var a,l=t.split(" ");return l.length>1?void g(t,l,e,r):(a=y(t,r),L[a.key]=L[a.key]||[],o(a.key,a.modifiers,{type:a.action},n,t,i),void L[a.key][n?"unshift":"push"]({callback:e,modifiers:a.modifiers,action:a.action,seq:n,level:i,combo:t}))}function x(t,e,r){for(var n=0;n<t.length;++n)b(t[n],e,r)}for(var w,C,k={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},A={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},M={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},S={option:"alt",command:"meta","return":"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},L={},T={},E={},O=!1,N=!1,H=!1,P=1;20>P;++P)k[111+P]="f"+P;for(P=0;9>=P;++P)k[P+96]=P;e(document,"keypress",f),e(document,"keydown",f),e(document,"keyup",f);var I={bind:function(t,e,r){return t=t instanceof Array?t:[t],x(t,e,r),this},unbind:function(t,e){return I.bind(t,function(){},e)},trigger:function(t,e){return T[t+":"+e]&&T[t+":"+e]({},t),this},reset:function(){return L={},T={},this},stopCallback:function(t,e){return(" "+e.className+" ").indexOf(" mousetrap ")>-1?!1:"INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable},handleKey:c};t.exports=I}]);
/*
//@ sourceMappingURL=slide.js.map
*/